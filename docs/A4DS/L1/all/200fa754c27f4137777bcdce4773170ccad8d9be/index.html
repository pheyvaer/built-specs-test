<!doctype html><html lang="en">
 <head>
  <meta charset="utf-8">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta default-style>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
			border-bottom: 3px solid transparent;
			margin-bottom: -3px;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom-color: #054572;
			border-bottom-color: var(--toclink-underline);
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <link href="assets/font.css" rel="stylesheet">
  <link href="assets/style.css" rel="stylesheet">
  <link href="https://fred-wang.github.io/MathFonts/LatinModern/mathfonts.css" rel="stylesheet">
  <script src="https://fred-wang.github.io/mathml.css/mspace.js"></script>
  <title>Authorization for Data Spaces</title>
  <meta content="Bikeshed version 275834c42, updated Wed Jun 11 14:18:15 2025 -0700" name="generator">
  <link href="https://spec.knows.idlab.ugent.be/A4DS/L1/latest" rel="canonical">
  <meta content="b5a5a9b7336d80cc78d13dcda2a9564873238685" name="revision">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

</style>
 <body class="h-entry">
  <header class="head">
   <div data-fill-with="logo">
 <a href="https://knows.idlab.ugent.be/">
   <img alt="Knowledge on Web Scale" height="75" src="assets/logo.png" width="126">
 </a>
</div>
   <hgroup>
    <h1 class="p-name no-ref" id="title">Authorization for Data Spaces</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">
   Living Document, <time class="dt-updated" datetime="2025-06-19">19 June 2025</time>
  </span></h2>
   </hgroup>
  </header>
  <footer class="head">
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://spec.knows.idlab.ugent.be/A4DS/L1/latest">https://spec.knows.idlab.ugent.be/A4DS/L1/latest</a>
     <dt>Previous Versions:
     <dd><a href="https://spec.knows.idlab.ugent.be/A4DS/L0/latest" rel="prev">https://spec.knows.idlab.ugent.be/A4DS/L0/latest</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/SolidLabResearch/authz-spec/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><span class="p-name fn"></span>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Wouter Termont</span> (<a class="p-org org" href="https://idlab.ugent.be">IDLab</a>)
    </dl>
   </div>
   <div class="copyright" data-fill-with="copyright"><strong>© 2024 <a href="https://idlab.ugent.be">IDLab</a> (imec-UGent) </strong><br>
This document is made available under the <a href="https://creativecommons.org/">Creative Commons</a> license <br>
<a href="https://creativecommons.org/licenses/by-sa/4.0/"><strong>CC BY-SA 4.0</strong></a>:
<strong>Attribution-ShareAlike 4.0 International</strong>
<img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg"><img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg">
</div>
   <hr>
  </footer>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Authorization for Data Spaces (A4DS) is a profile for the User-Managed Access (UMA) specifications ...</p>
  </div>
  <div data-fill-with="warning"></div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#h-status"><span class="secno"></span> <span class="content">Status of this document</span></a>
    <li><a href="#h-intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#h-def"><span class="secno">2</span> <span class="content">Definitions</span></a>
    <li>
     <a href="#h-meta"><span class="secno">3</span> <span class="content">Public metadata</span></a>
     <ol class="toc">
      <li><a href="#h-meta-client"><span class="secno">3.1</span> <span class="content">Client metadata</span></a>
      <li><a href="#h-meta-as"><span class="secno">3.2</span> <span class="content">Authorization server metadata</span></a>
      <li><a href="#h-meta-rs"><span class="secno">3.3</span> <span class="content">Resource server metadata</span></a>
     </ol>
    <li>
     <a href="#h-sec"><span class="secno">4</span> <span class="content">Security</span></a>
     <ol class="toc">
      <li><a href="#h-sec-chan"><span class="secno">4.1</span> <span class="content">Channel security</span></a>
      <li><a href="#h-sec-msg"><span class="secno">4.2</span> <span class="content">Message security</span></a>
      <li><a href="#h-sec-app"><span class="secno">4.3</span> <span class="content">Application security</span></a>
      <li><a href="#h-sec-link"><span class="secno">4.4</span> <span class="content">Linking an RS to an AS</span></a>
     </ol>
    <li>
     <a href="#h-assets"><span class="secno">5</span> <span class="content">Asset management</span></a>
     <ol class="toc">
      <li><a href="#h-assets-create"><span class="secno">5.1</span> <span class="content">Creating an asset</span></a>
      <li><a href="#h-assets-inspect"><span class="secno">5.2</span> <span class="content">Inspecting an asset</span></a>
      <li><a href="#h-assets-modify"><span class="secno">5.3</span> <span class="content">Modifying an asset</span></a>
     </ol>
    <li><a href="#h-manage"><span class="secno">6</span> <span class="content">Policy management</span></a>
    <li>
     <a href="#h-access"><span class="secno">7</span> <span class="content">Accessing resources at the resource server</span></a>
     <ol class="toc">
      <li><a href="#h-access-token"><span class="secno">7.1</span> <span class="content">Attempting access <strong>with</strong> a token</span></a>
      <li><a href="#h-access-no-token"><span class="secno">7.2</span> <span class="content">Attempting access <strong>without</strong> a token</span></a>
      <li><a href="#h-fed-res-ticket"><span class="secno">7.3</span> <span class="content">Requesting a Ticket</span></a>
     </ol>
    <li>
     <a href="#h-authz"><span class="secno">8</span> <span class="content">Requesting access at the authorization server</span></a>
     <ol class="toc">
      <li><a href="#h-authz-ticket"><span class="secno">8.1</span> <span class="content">Requesting access <strong>with</strong> a permission ticket</span></a>
      <li><a href="#h-authz-no-ticket"><span class="secno">8.2</span> <span class="content">Requesting access <strong>without</strong> a permission ticket</span></a>
      <li><a href="#h-authz-extra-scopes"><span class="secno">8.3</span> <span class="content">Requesting extra 'global scopes'</span></a>
     </ol>
    <li>
     <a href="#h-claims"><span class="secno">9</span> <span class="content">Claims</span></a>
     <ol class="toc">
      <li><a href="#h-claims-description"><span class="secno">9.1</span> <span class="content">Claim descriptions</span></a>
      <li><a href="#h-claims-formats"><span class="secno">9.2</span> <span class="content">Claim token formats</span></a>
      <li><a href="#h-claims-prov"><span class="secno">9.3</span> <span class="content">Providing claims</span></a>
     </ol>
    <li>
     <a href="#h-eval"><span class="secno">10</span> <span class="content">Processing an access request</span></a>
     <ol class="toc">
      <li><a href="#h-eval-prep"><span class="secno">10.1</span> <span class="content">Completing the permission ticket</span></a>
      <li><a href="#h-eval-engine"><span class="secno">10.2</span> <span class="content">Determining the policy decision</span></a>
      <li><a href="#h-eval-token"><span class="secno">10.3</span> <span class="content">Granting an access token</span></a>
     </ol>
    <li><a href="#h-errors"><span class="secno">11</span> <span class="content">Error messages</span></a>
    <li><a href="#h-conform"><span class="secno"></span> <span class="content">Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <aside boilerplate="status">
    <h2 class="no-num heading settled" id="h-status"><span class="content">Status of this document</span></h2>
    <p><em>This section is non-normative.</em></p>
    <p>This document is a draft for a technical specification published by the <a href="https://knows.idlab.ugent.be/">Knowledge on Web Scale</a> (KNoWS) group of the <a href="https://idlab.ugent.be/">Internet Technology and Data Science Lab</a> (IDLab), an <a href="https://www.imec-int.com/">imec</a>-affiliated research group at <a href="https://ugent.be/">Ghent University</a> (UGent).</p>
    <p>It is a working document, that has NOT been publically reviewed, but represents active research at its time of publication. As such, document may be subject to changes, and other documents may supersede it at any time.</p>
    <p>The specification proposed in this document is being drafted in multiple stages.</p>
    <ul>
     <li data-md>
      <p><strong>Level 0</strong> describes the interfaces and protocols of the final prototype implementation presented in the white paper <a data-biblio-display="inline" data-link-type="biblio" href="https://arxiv.org/abs/2411.05622"><cite>From Resource Control to Digital Trust with User-Managed Access</cite></a> <a data-link-type="biblio" href="#biblio-uma-trust" title="From Resource Control to Digital Trust with User-Managed Access">[UMA-Trust]</a>. It lays the groundwork for the general flow of the protocol.</p>
     <li data-md>
      <p><strong>Level 1</strong>, specified in this current draft, builds on Level 0, addressing some minor shortcomings discussed in the white paper, and optimising alignment with existing standards.</p>
     <li data-md>
      <p><strong>Level 2</strong> and higher will build on Level 1, to cover the more extensive questions left open in the white paper.</p>
    </ul>
    <p>Comments regarding this document are welcome, via the <a href="https://github.com/SolidLabResearch/authz-spec/issues/">GitHub issue tracker</a>, but the editors do NOT guarantee that this feedback will be processed, or when.</p>
    <div class="advisement">
     
  <span class="sc"><strong>IMPORTANT</strong></span>
  

     <p>This specification is a <strong>Living Document</strong>, which means it is subject to change at any time, without prior notice. It is therefore <em>possible that you are reading a different iteration</em> than when you last visited this page. Take notice of the iteration date, mentioned underneath the main title of every document. On averview of all iterations can be found on the <a href="https://spec.knows.idlab.ugent.be/#a4ds-attempt-a:~:text=Level%201%20(commits)">KNoWS specification platform</a>.</p>
    </div>
   </aside>
   <section>
    <h2 class="heading settled" data-level="1" id="h-intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#h-intro"></a></h2>
    <p><em>This section is non-normative.</em></p>
    <p><em>User-Managed Access</em> (<abbr title="User-Managed Access">UMA</abbr>) is a pair of complementary extensions to <a data-biblio-display="inline" data-link-type="biblio" href="https://www.rfc-editor.org/rfc/rfc6749"><cite>The OAuth 2.0 Authorization Framework</cite></a> <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a>, published by the Kantara Initiative. It comprises the following specifications:</p>
    <ul>
     <li data-md>
      <p><a data-biblio-display="inline" data-link-type="biblio" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html"><cite>User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization</cite></a>, which defines a new <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc6749#:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant" id="ref-for-:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant">authorization grant</a> that enables party-to-party authorization and asynchronous policy configuration <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>.</p>
     <li data-md>
      <p><a data-biblio-display="inline" data-link-type="biblio" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html"><cite>Federated Authorization for User-Managed Access (UMA) 2.0</cite></a>, which adds a <a data-link-type="dfn" href="#protection-api" id="ref-for-protection-api">protection API</a> enabling the federation of <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server">resource servers</a> and <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server">authorization servers</a>, enabling improved automation, central monitoring and a more granular control over resources and scopes <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>.</p>
    </ul>
    <p>This document introduces a profile for the combined <abbr title="User-Managed Access">UMA</abbr> specifications, called <strong>Authorization for Data Spaces</strong> (<abbr title="Authorization for Data Spaces">A4DS</abbr>, read as 'affords').</p>
    <p>...</p>
   </section>
   <section>
    <h2 class="heading settled" data-level="2" id="h-def"><span class="secno">2. </span><span class="content">Definitions</span><a class="self-link" href="#h-def"></a></h2>
    <p class="issue" id="issue-3917379e"><a class="self-link" href="#issue-3917379e"></a> Refer to OAuth 2.1 only, as soon as it is out of draft.</p>
    <p class="issue" id="issue-e4ac3ad9"><a class="self-link" href="#issue-e4ac3ad9"></a> Specify resource owner and relying parties to be natural or legal persons or groups of people.</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="agent|party" data-noexport id="agent">Agent</dfn>
     <dd data-md>
      <p>A party consisting of on or more (natural and/or legal) persons/entities performs a certain (active) role in – or with respect to – the <abbr title="Authorization for Data Spaces">A4DS</abbr> <a data-link-type="dfn" href="#authorization-process" id="ref-for-authorization-process">authorization process</a>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resource">Resource</dfn>
     <dd data-md>
      <p>A resource on the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①">resource server</a>, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a>. Within the <abbr title="Authorization for Data Spaces">A4DS</abbr> specification, <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="protected resource" data-noexport id="protected-resource">protected</dfn> are resources protected using the specified <abbr title="User-Managed Access">UMA</abbr> profile (cf. <a data-link-type="dfn" href="#asset" id="ref-for-asset">asset</a>).</p>
      <p class="note" role="note"><span class="marker">NOTE:</span> Resources are not limited to 'data', 'documents', or 'endpoints' in the classical use of those terms. They can be any <strong>identifiable entity</strong>, e.g., abstract concepts, future data points, unavailable content, applications, services, physical artefacts etc.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="scope|action|mode|role" data-noexport id="scope">Scope</dfn>
     <dd data-md>
      <p>A <em>modal slice of functionality</em> on <a data-link-type="dfn" href="#resource" id="ref-for-resource">resources</a>, represented by an opaque identifier, understood only by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②">resource server</a>.</p>
      <p>The <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③">resource server</a> uses scopes to delineate specific privileges towards resources, that might require separate policy management: separable parts of information, different actions or operations, specific relations (roles) with the <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party">requesting party</a> etc. By distinguishing the multiple scopes that are applicable to one or more resources, the <span id="ref-for-resource-server④">resource server</span> allows the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner">resource owner</a> a more fine-grained control.</p>
      <p class="note" role="note"><span class="marker">NOTE:</span> This specification holds the terms 'scope', 'mode', 'action', 'operation', and 'role' to be interchangeable. Unless a specific alternative proves more adequate, the terms 'scope' and 'action' will be preferred.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resource-owner">Resource owner</dfn> (<abbr title="Resource owner">RO</abbr>)
     <dd data-md>
      <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent">agent</a> who is capable of granting access to a <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource">protected resource</a>, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20owner,-An%20entity" id="ref-for-:~:text=resource%20owner,-An%20entity">resource owner</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resource-server">Resource server</dfn> (<abbr title="Resource server">RS</abbr>)
     <dd data-md>
      <p>The server hosting the <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource①">protected resources</a>, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20server,-A%20server" id="ref-for-:~:text=resource%20server,-A%20server">resource server</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="requesting-party">Requesting party</dfn> (<abbr title="Requesting party">RP</abbr>)
     <dd data-md>
      <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①">agent</a> who seeks access to a <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource②">protected resource</a>, which may also be the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①">resource owner</a> itself, as defined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=requesting%20party,-A%20natural" id="ref-for-:~:text=requesting%20party,-A%20natural">requesting party</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="client">Client</dfn>
     <dd data-md>
      <p>An application making <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource③">protected resource</a> requests on behalf of the <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party①">requesting party</a>, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=client,-An%20application" id="ref-for-:~:text=client,-An%20application">client</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authorization-server">Authorization server</dfn> (<abbr title="Authorization Server">AS</abbr>)
     <dd data-md>
      <p>The server issuing access tokens to the client, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=authorization%20server,-A%20server" id="ref-for-:~:text=authorization%20server,-A%20server">authorization server</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="protection-api">Protection API</dfn>
     <dd data-md>
      <p>The OAuth-protected API presented by the authorization server to the resource server, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API,-The%20API" id="ref-for-:~:text=protection%20API,-The%20API">protection API</a>).</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="protection-api-access-token">Protection API access token</dfn> (<abbr title="Protection API access token">PAT</abbr>)
     <dd data-md>
      <p>The access token used by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤">resource server</a> to access the <a data-link-type="dfn" href="#protection-api" id="ref-for-protection-api①">protection API</a> of the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②">resource owner’s</a> <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①">authorization server</a>, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API%20access%20token,-(PAT)" id="ref-for-:~:text=protection%20API%20access%20token,-(PAT)">protection API access token</a>).</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-lt="ResourceDescription|resourcedescription" data-noexport id="dictdef-resourcedescription"><code class="highlight">Resource description</code></dfn> (<abbr title="Resource description">RD</abbr>)
     <dd data-md>
      <p>A description of the characteristics of a <a data-link-type="dfn" href="#resource" id="ref-for-resource①">resource</a>, sufficiently for an <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②">authorization server</a> to protect it. Resource descriptions are typically serialised as a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> document, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc">resource description</a>).</p>
      <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="updated-resource-description">updated resource description</dfn> is a <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc①">resource description</a> interpreted as an update to the knowledge base of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③">authorization server</a>. Likewise <span id="ref-for-resource-set-desc②">resource descriptions</span> stored within that knowledge base are called <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="stored-resource-descriptions">stored resource descriptions</dfn>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-lt="ScopeDescription|scopedescription" data-noexport id="dictdef-scopedescription"><code class="highlight">Scope description</code></dfn> (<abbr title="Scope description">SD</abbr>)
     <dd data-md>
      <p><a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> document that describes the characteristics of a <a data-link-type="dfn">resource scope</a> sufficiently for an <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④">authorization server</a> to protect the <a data-link-type="dfn" href="#resource" id="ref-for-resource②">resource</a> under this available scope, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc③">resource description</a>).</p>
      <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="updated-scope-description">updated scope description</dfn> is a <a data-link-type="dfn">scope description</a> interpreted as an update to the knowledge base of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤">authorization server</a>. Likewise <span>scope descriptions</span> stored within that knowledge base are called <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="stored-scope-descriptions">stored scope descriptions</dfn>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="asset">Asset</dfn>
     <dd data-md>
      <p>A <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource④">protected resource</a>, as viewed from the perspective of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥">authorization server</a> protecting it, i.e., the <a data-link-type="dfn" href="#resource" id="ref-for-resource③">resource</a> as target of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#violation-policy" id="ref-for-violation-policy">policies</a>. Although these terms might thus be used interchangeably, within this document they are used separately to provided added clarity regarding the context.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="collection" data-noexport id="asset-collection">Asset collection</dfn>
     <dd data-md>
      <p>A virtual <a data-link-type="dfn" href="#asset" id="ref-for-asset①">asset</a>, representing the (unique, complete) set of <a data-link-type="dfn" href="#resource" id="ref-for-resource④">resources</a> that are related to one other specific resource in a specific way. The common relation is called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="determinant-relation">determinant relation</dfn> of the collection; (the <span id="ref-for-asset②">asset</span> representing) the common target is called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="collection source|source asset" data-noexport id="source">source</dfn>.</p>
      <p>Asset collections allow the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner③">resource owner</a> to defined <strong>default</strong> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#violation-policy" id="ref-for-violation-policy①">policies</a> over sets of similar <a data-link-type="dfn" href="#resource" id="ref-for-resource⑤">resources</a>: when a policy is defined on a collection, it will automatically apply to all its members, unless a more specific policy is set on the member itself. An asset collection can therefore also be interpreted as the <strong>prototype</strong> <a data-link-type="dfn" href="#asset" id="ref-for-asset③">asset</a> for all (current and future) <span id="ref-for-asset④">assets</span> in that set.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="claim">Claim</dfn>
     <dd data-md>
      <p>A statement about an entity, presented by the requesting party – via the client application – and collected by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦">authorization server</a>, during the authentication process. Policies protecting a resource can be conditional upon claims: authorization is only provided when specific claims are available and the conditions on them fulfilled. <em>The totality of claims involved in an authorization process forms the agreement under which the authorization holds.</em></p>
      <p><abbr title="User-Managed Access">UMA</abbr> provides two mechanisms for <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party②">requesting partys</a> to provide claims to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧">authorization server</a>:</p>
      <ul>
       <li data-md>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="claims-pushing">Claims pushing</dfn>: ... (Section 3.3.1)</p>
       <li data-md>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="interactive-claims-gathering">Interactive claims gathering</dfn>: ... (Section 3.3.2)</p>
      </ul>
      <p class="issue" id="issue-ea5cb8ff"><a class="self-link" href="#issue-ea5cb8ff"></a> todo</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="claim-token">Claim token</dfn>
     <dd data-md>
      <p>A serialised form of one or more claims, encoded according to a specific <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="claim-token-format">claim token format</dfn>, to exchange them in a verifiable manner.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="permission">Permission</dfn>
     <dd data-md>
      <p>The (requested or granted) access to a particular <a data-link-type="dfn" href="#resource" id="ref-for-resource⑥">resource</a> within one or more <a data-link-type="dfn" href="#scope" id="ref-for-scope">scopes</a> bound to that <span id="ref-for-resource⑦">resource</span>, i.e., the privilege to exercise one or more <span id="ref-for-scope①">actions</span> over an <a data-link-type="dfn" href="#asset" id="ref-for-asset⑤">asset</a> if all <a data-link-type="dfn">constraints</a> are <span>satisfied</span> and all <span>duties</span> fulfilled.</p>
      <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="permission-description">Permission description</dfn> ...</p>
      <p class="issue" id="issue-ea5cb8ff①"><a class="self-link" href="#issue-ea5cb8ff①"></a> todo</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="permission-ticket">Permission ticket</dfn>
     <dd data-md>
      <p>A correlation handle representing one or more requested permissions. It is an opaque identifier, understood only by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨">authorization server</a>, used to track the set of requested permissions between the different steps of the authorization process.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authorization-process">Authorization process</dfn>
     <dd data-md>
      <p>The process through which the authorization server determines whether it should issue an RPT to the client on the requesting party’s behalf, based on a variety of inputs. A key component of the process is authorization assessment. (See Section 1.3.1.)</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="access request|permission request" data-noexport id="access-request">Access request</dfn>
     <dd data-md>
      <p>...</p>
      <p class="issue" id="issue-ea5cb8ff②"><a class="self-link" href="#issue-ea5cb8ff②"></a> todo</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="access token" data-noexport id="requesting-party-token">Requesting party token</dfn> (<abbr title="Requesting party token">RPT</abbr>)
     <dd data-md>
      <p>An [OAuth20] access token, associated with the <abbr title="User-Managed Access">UMA</abbr> <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc6749#:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant" id="ref-for-:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant①">authorization grant</a>, which represents one or more permissions granted as a result of an <a data-link-type="dfn" href="#authorization-process" id="ref-for-authorization-process①">authorization process</a>. It uniquely identifies the <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party③">requesting party</a>, <a data-link-type="dfn" href="#client" id="ref-for-client">client</a>, <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪">authorization server</a>, <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥">resource server</a>, and <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner④">resource owner</a> involved in the <span id="ref-for-authorization-process②">authorization process</span>.</p>
    </dl>
   </section>
   <section>
    <h2 class="heading settled" data-level="3" id="h-meta"><span class="secno">3. </span><span class="content">Public metadata</span><a class="self-link" href="#h-meta"></a></h2>
    <p>To inform other parties about their API endpoints and capabilities, <a data-link-type="dfn" href="#client" id="ref-for-client①">clients</a>, <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑦">resource servers</a> and <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①">authorization servers</a> declare this metadata in discovery documents that are publically readable.</p>
    <section>
     <h3 class="heading settled" data-level="3.1" id="h-meta-client"><span class="secno">3.1. </span><span class="content">Client metadata</span><a class="self-link" href="#h-meta-client"></a></h3>
     <p><a data-link-type="dfn" href="#client" id="ref-for-client②">Clients</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> be identifiable with an HTTPS URL, which <a class="rfc2119" href="#h-conform"><em>must</em></a> dereference to a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> document containing the metadata of the client, in accordance with <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a>.</p>
     <div class="examplenote" id="note-client_ids">
    Identifier URLs therefore <a class="rfc2119" href="#h-conform"><em>may</em></a> contain a port number, <a class="rfc2119" href="#h-conform"><em>must</em></a> contain a path component, and <a class="rfc2119" href="#h-conform"><em>must not</em></a> contain single- or double-dot path segments, a fragment or query component, or a username or password.
  </div>
     <p>In particular, the following client metadata properties are relevant for this specification.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClientMetadata" data-dfn-type="dict-member" data-noexport id="dom-clientmetadata-client_id"><code class="highlight">client_id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The <a data-link-type="dfn" href="#client" id="ref-for-client③">client’s</a> identifier URL. The value of this property <a class="rfc2119" href="#h-conform"><em>must</em></a> be identical to the URL on which the document is served. <a data-link-type="biblio" href="#biblio-client-id" title="OAuth Client ID Metadata Document">[Client-ID]</a></p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClientMetadata" data-dfn-type="dict-member" data-noexport id="dom-clientmetadata-redirect_uris"><code class="highlight">redirect_uris</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. An array of redirection URLs to use in redirect-based flows. <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a></p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClientMetadata" data-dfn-type="dict-member" data-noexport id="dom-clientmetadata-token_endpoint_auth_method"><code class="highlight">token_endpoint_auth_method</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. For confidential <a data-link-type="dfn" href="#client" id="ref-for-client④">clients</a>, this property is <a class="rfc2119" href="#h-conform"><em>required</em></a>, and <a class="rfc2119" href="#h-conform"><em>must</em></a> be set to <code class="highlight">private_key_jwt</code>. <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a></p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClientMetadata" data-dfn-type="dict-member" data-noexport id="dom-clientmetadata-jwks_uri"><code class="highlight">jwks_uri</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. For confidential <a data-link-type="dfn" href="#client" id="ref-for-client⑤">clients</a>, exactly one of these properties is <a class="rfc2119" href="#h-conform"><em>required</em></a>. Either <code class="highlight">jwks</code> <a class="rfc2119" href="#h-conform"><em>must</em></a> contain the <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> JWK Set of the <span id="ref-for-client⑥">client</span>, or <code class="highlight">jwks_uri</code> <a class="rfc2119" href="#h-conform"><em>must</em></a> be set to the HTTPS <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of a <span title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</span> document containing this JWK Set. <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a></p>
     </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clientmetadata"><code class="highlight"><c- g>ClientMetadata</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-client_id" id="ref-for-dom-clientmetadata-client_id"><c- g>client_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤"><c- n>string</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClientMetadata" data-dfn-type="dict-member" data-export data-type="string" id="dom-clientmetadata-jwks"><code class="highlight"><c- g>jwks</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-jwks_uri" id="ref-for-dom-clientmetadata-jwks_uri"><c- g>jwks_uri</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-redirect_uris" id="ref-for-dom-clientmetadata-redirect_uris"><c- g>redirect_uris</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-token_endpoint_auth_method" id="ref-for-dom-clientmetadata-token_endpoint_auth_method"><c- g>token_endpoint_auth_method</c-></a>;
};
</pre>
     <p class="issue" id="issue-a5662b8d"><a class="self-link" href="#issue-a5662b8d"></a> Should we also allow (dynamic) registration? E.g. for clients that cannot host anything?</p>
     <p class="issue" id="issue-1f0b3250"><a class="self-link" href="#issue-1f0b3250"></a> Look into extending this to DIDs + DID Documents (using a limited list of DID methods, or the universal resolver).</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.2" id="h-meta-as"><span class="secno">3.2. </span><span class="content">Authorization server metadata</span><a class="self-link" href="#h-meta-as"></a></h3>
     <p><a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②">authorization servers</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> publish Authorization Server Metadata in a discovery document that is publically readable on the <a data-link-type="biblio" href="#biblio-rfc8615" title="Well-Known Uniform Resource Identifiers (URIs)">Well-Known URI</a> formed by appending the string <code class="highlight">/.well-known/uma2-configuration</code> to the root <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of the <span id="ref-for-authorization-server①③">authorization server</span>. The document <a class="rfc2119" href="#h-conform"><em>must</em></a> be formatted as <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> and adhere to <a data-link-type="biblio" href="#biblio-as-meta" title="OAuth 2.0 Authorization Server Metadata">[AS-Meta]</a>, as specified by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#as-config">§ 2</a>, and <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#as-config">§ 2</a>. The following metadata parameters are of special concern to this specification.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-uma_profiles_supported"><code class="highlight">uma_profiles_supported</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. UMA profiles and extensions supported by this <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①④">authorization server</a>. Its value <a class="rfc2119" href="#h-conform"><em>must</em></a> be a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> array containing the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> <code class="highlight"><c- p>...</c-></code> as a <span title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</span> string value, to identify the profile specified in this document. <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a></p>
       <p class="issue" id="issue-73faab49"><a class="self-link" href="#issue-73faab49"></a> decide on profile URI</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-client_id_metadata_document_supported"><code class="highlight">client_id_metadata_document_supported</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⓪">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. This property <a class="rfc2119" href="#h-conform"><em>must</em></a> be set to <code class="highlight"><c- kc>true</c-></code>, indicating that the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⑤">authorization server</a> supports retrieving client metadata from a <code class="idl"><a data-link-type="idl" href="#dom-clientmetadata-client_id" id="ref-for-dom-clientmetadata-client_id①">client_id</a></code> URL. <a data-link-type="biblio" href="#biblio-client-id" title="OAuth Client ID Metadata Document">[Client-ID]</a></p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-issuer"><code class="highlight">issuer</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①①">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⑥">authorization server’s</a> identifier. <a data-link-type="biblio" href="#biblio-as-meta" title="OAuth 2.0 Authorization Server Metadata">[AS-Meta]</a></p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-resource_registration_endpoint"><code class="highlight">resource_registration_endpoint</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①②">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> at which the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑧">resource server</a> registers resources to put them under protection of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⑦">authorization server</a>, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint" id="ref-for-:~:text=resource_registration_endpoint">resource registration endpoint</a>).</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-permission_endpoint"><code class="highlight">permission_endpoint</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①③">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> at which the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑨">resource server</a> requests permission from the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⑧">authorization server</a> on the <a data-link-type="dfn" href="#client" id="ref-for-client⑦">client’s</a> behalf, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=permission_endpoint" id="ref-for-:~:text=permission_endpoint">permission endpoint</a>).</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-token_endpoint"><code class="highlight">token_endpoint</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①④">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The URL at which the <a data-link-type="dfn" href="#client" id="ref-for-client⑧">client</a> requests an access token from the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⑨">authorization server</a>, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint" id="ref-for-:~:text=token_endpoint">token endpoint</a>).</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-introspection_endpoint"><code class="highlight">introspection_endpoint</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⑤">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. The URL at which the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⓪">resource server</a> can retrieve information about a token, including whether this token is currently active, as defined by <a data-link-type="biblio" href="#biblio-rfc7662" title="OAuth 2.0 Token Introspection">[RFC7662]</a> and refined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=introspection_endpoint" id="ref-for-:~:text=introspection_endpoint">introspection endpoint</a>).</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-claims_interaction_endpoint"><code class="highlight">claims_interaction_endpoint</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⑥">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. The <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> at which the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②⓪">authorization server</a> can interact with <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party④">requesting partys</a> to gather claims, as defined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=claims_interaction_endpoint" id="ref-for-:~:text=claims_interaction_endpoint">claims interaction endpoint</a>).</p>
       <p class="issue" id="issue-417cd468"><a class="self-link" href="#issue-417cd468"></a> Should be RECOMMENDED, or even REQUIRED instead</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AuthorizationServerMetadata" data-dfn-type="dict-member" data-noexport id="dom-authorizationservermetadata-jwks_uri"><code class="highlight">jwks_uri</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⑦">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. The URL at which the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②①">authorization server</a> serves its JWK Set (cf. <a data-link-type="biblio" href="#biblio-jwk" title="JSON Web Key (JWK)">[JWK]</a>), which contains the public key(s) used to validate signatures from the authorization server. <a data-link-type="biblio" href="#biblio-as-meta" title="OAuth 2.0 Authorization Server Metadata">[AS-Meta]</a></p>
       <p class="issue" id="issue-417cd468①"><a class="self-link" href="#issue-417cd468①"></a> Should be RECOMMENDED, or even REQUIRED instead</p>
     </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-authorizationservermetadata"><code class="highlight"><c- g>AuthorizationServerMetadata</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⑧"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-uma_profiles_supported" id="ref-for-dom-authorizationservermetadata-uma_profiles_supported"><c- g>uma_profiles_supported</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7①⑨"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-client_id_metadata_document_supported" id="ref-for-dom-authorizationservermetadata-client_id_metadata_document_supported"><c- g>client_id_metadata_document_supported</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⓪"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-issuer" id="ref-for-dom-authorizationservermetadata-issuer"><c- g>issuer</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-resource_registration_endpoint" id="ref-for-dom-authorizationservermetadata-resource_registration_endpoint"><c- g>resource_registration_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-permission_endpoint" id="ref-for-dom-authorizationservermetadata-permission_endpoint"><c- g>permission_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②③"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-token_endpoint" id="ref-for-dom-authorizationservermetadata-token_endpoint"><c- g>token_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-introspection_endpoint" id="ref-for-dom-authorizationservermetadata-introspection_endpoint"><c- g>introspection_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⑤"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-claims_interaction_endpoint" id="ref-for-dom-authorizationservermetadata-claims_interaction_endpoint"><c- g>claims_interaction_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⑥"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-jwks_uri" id="ref-for-dom-authorizationservermetadata-jwks_uri"><c- g>jwks_uri</c-></a>;
};
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.3" id="h-meta-rs"><span class="secno">3.3. </span><span class="content">Resource server metadata</span><a class="self-link" href="#h-meta-rs"></a></h3>
     <p>To be securely identifiable, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①①">resource server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> declare a JSON Web Key Set <a data-link-type="biblio" href="#biblio-jwk" title="JSON Web Key (JWK)">[JWK]</a> on the <a data-link-type="biblio" href="#biblio-rfc8615" title="Well-Known Uniform Resource Identifiers (URIs)">Well-Known URI</a> <code class="highlight">/.well-known/jwks.json</code>.</p>
     <p class="issue" id="issue-ff11e303"><a class="self-link" href="#issue-ff11e303"></a> loosen required url (since ref in discovery anyway)</p>
     <p class="issue" id="issue-f030eff0"><a class="self-link" href="#issue-f030eff0"></a> use <a data-link-type="biblio" href="#biblio-resource-meta" title="OAuth 2.0 Protected Resource Metadata">[Resource-Meta]</a> (instead of "storage description"), and possibly also <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a></p>
    </section>
   </section>
   <article>
    <h2 class="heading settled" data-level="4" id="h-sec"><span class="secno">4. </span><span class="content">Security</span><a class="self-link" href="#h-sec"></a></h2>
    <section>
     <h3 class="heading settled" data-level="4.1" id="h-sec-chan"><span class="secno">4.1. </span><span class="content">Channel security</span><a class="self-link" href="#h-sec-chan"></a></h3>
     <p>As specified by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#api-sec">§ 1.3</a>, all interactions via the <a data-link-type="dfn" href="#protection-api" id="ref-for-protection-api②">protection API</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> happen over an <a data-link-type="biblio" href="#biblio-rfc9112" title="HTTP/1.1">HTTP/1.1</a> channel (or higher) protected by <a data-link-type="biblio" href="#biblio-rfc8446" title="The Transport Layer Security (TLS) Protocol Version 1.3">TLS 1.3</a> (or higher), and in accordance with the recommendations formulated in <a data-link-type="biblio" href="#biblio-rfc9325" title="Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)">[RFC9325]</a>.</p>
     <p class="issue" id="issue-db767484"><a class="self-link" href="#issue-db767484"></a> Require key exhange algorithms based on ephemeral Diffie–Hellman ciphers (TLS_DHE and TLS_ECDHE) to ensure forward secrecy.</p>
     <p class="issue" id="issue-8ffe3c30"><a class="self-link" href="#issue-8ffe3c30"></a> Require HTTP/2, which includes the requirements above, and patches some vulnerabilities in (m)TLS negotiation.</p>
     <p class="issue" id="issue-e6431ab3"><a class="self-link" href="#issue-e6431ab3"></a> In the long-term, abstract from HTTP towards any SASL-aware application layer (cf. draft-vanrein-httpauth-sasl-06) . Conversely, enable HTTP-delivered OAuth tokens to be presented to SASL resource servers with rfc7628.</p>
     <p class="issue" id="issue-556525ea"><a class="self-link" href="#issue-556525ea"></a> In the long-term, add support for DTLS &amp; QUIC.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.2" id="h-sec-msg"><span class="secno">4.2. </span><span class="content">Message security</span><a class="self-link" href="#h-sec-msg"></a></h3>
     <p>Messages from the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①②">resource server</a> to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②②">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> be protected with a <a data-link-type="dfn" href="#protection-api-access-token" id="ref-for-protection-api-access-token">protection API access token</a>, as defined in <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#api-sec">§ 1.3</a>.</p>
     <p><strong class="advisement"> This is a deviation from the Level 0 specification, to realign with classic UMA.</strong></p>
     <div class="issue" id="issue-421c0d2d">
      <a class="self-link" href="#issue-421c0d2d"></a>
    Subsitute with 

      <ul>
       <li data-md>
        <p>HTTP Message Signatures + Well-Known JWK Set (cf. L0, but loosen fixed URL, since pointer in config)</p>
       <li data-md>
        <p>mutual TLS (with OAuth mTLS grant ?)</p>
       <li data-md>
        <p>password-based challenge–response authentication (e.g., SCRAM over TLS/SASL)</p>
       <li data-md>
        <p>(augmented) password-only authentication and key exchange (e.g., CPake or OPAQUE)</p>
      </ul>
     </div>
     <p>Messages from the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②③">authorization server</a> to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①③">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> be protected with a HTTP Message Signature <a data-link-type="biblio" href="#biblio-rfc9421" title="HTTP Message Signatures">[RFC9421]</a> using one of the keys present in the <a data-link-type="dfn">JWK Set</a> refered to in the <span id="ref-for-authorization-server②④">authorization server’s</span> metadata.</p>
     <p class="issue" id="issue-16b311f9"><a class="self-link" href="#issue-16b311f9"></a> decide on minimal headers/components to sign</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.3" id="h-sec-app"><span class="secno">4.3. </span><span class="content">Application security</span><a class="self-link" href="#h-sec-app"></a></h3>
     <p>The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②⑤">authorization server</a> preferably interacts with <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner⑤">resource owners</a> and other <a data-link-type="dfn" href="#agent" id="ref-for-agent②">agents</a> through a (web) application, providing them with a graphical user interface. Since this broadens the attack surface for malicious actors, the <span id="ref-for-authorization-server②⑥">authorization server</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> protect the security of its applications adequately by modern standards.</p>
     <p>In particular, web applications for interaction with the <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party⑤">requesting party</a>, e.g., during <a data-link-type="dfn">claims gathering</a> (cf. <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=claims_interaction_endpoint" id="ref-for-:~:text=claims_interaction_endpoint①">claims interaction endpoint</a>), or with the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner⑥">resource owner</a>, e.g., for policy management, <a class="rfc2119" href="#h-conform"><em>must</em></a> implement Cross Origin and Content Security policies, and <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/conform.html#x5" id="ref-for-x5">SHOULD</a> take into account the sources bundled in <a data-link-type="biblio" href="#biblio-cre-636-347" title="CRE 636-347: HTTP security headers">[CRE-636-347]</a>.</p>
     <p>Moreover, in interactive flows that make use of redirection of the user agent (browser), e.g., claims gathering at the claims interaction endpoint, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②⑦">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> allow requests to include a <code class="highlight">state</code> parameter, and <a data-link-type="dfn" href="#client" id="ref-for-client⑨">clients</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> employ this parameter to track the valid state of the interaction. The value of the <code class="highlight">state</code> parameter <a class="rfc2119" href="#h-conform"><em>should</em></a> be unguessable and opaque to any <a data-link-type="dfn" href="#agent" id="ref-for-agent③">agent</a> but the <span id="ref-for-client①⓪">client</span> itself, and [SHOULD NOT] include (unencrypted) sensitive information. If such a <code class="highlight">state</code> parameter is used, <span id="ref-for-client①①">clients</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> check the value after the <span id="ref-for-authorization-server②⑧">authorization server</span> redirects back to them, and <a class="rfc2119" href="#h-conform"><em>must</em></a> invalidate any message containing an invalid <code class="highlight">state</code> parameter.</p>
     <p class="issue" id="issue-4d5f5bd7"><a class="self-link" href="#issue-4d5f5bd7"></a> make accepting state param a must for AS: the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server②⑨">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> include it unaltered in the redirection to the <a data-link-type="dfn" href="#client" id="ref-for-client①②">client</a></p>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.4" id="h-sec-link"><span class="secno">4.4. </span><span class="content">Linking an RS to an AS</span><a class="self-link" href="#h-sec-link"></a></h3>
     <p>The <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner⑦">resource owner</a> links a <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①④">resource server</a> to their <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③⓪">authorization server</a> by providing the former with the root <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of the latter, i.e., the <span id="ref-for-authorization-server③①">authorization server’s</span> <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8414#:~:text=issuer,-REQUIRED" id="ref-for-:~:text=issuer,-REQUIRED">issuer</a> value (cf. <a href="#h-meta-as">§ 3.2 Authorization server metadata</a>). How this information is provided, is out of the scope of this specification.</p>
     <p class="issue" id="issue-76cade1e"><a class="self-link" href="#issue-76cade1e"></a> Presuming most ASs will come with some kind of native app, a QR-based flow would be handy. We could specify how, after scanning an RS’s QR code, the AS (app) would contact that RS on a <a data-link-type="biblio" href="#biblio-rfc8615" title="Well-Known Uniform Resource Identifiers (URIs)">Well-Known URI</a> to initiate contact, either through a redirect <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> or by specifying a code to be checked/entered.</p>
     <p>As soon as <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⑤">resource server</a> and <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③②">authorization server</a> are known to each other, the former can request a <a data-link-type="dfn" href="#protection-api-access-token" id="ref-for-protection-api-access-token①">protection API access token</a> from the latter. This <a class="rfc2119" href="#h-conform"><em>must</em></a> happen via an <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> flow that both servers support. In most cases, this <a class="rfc2119" href="#h-conform"><em>should</em></a> include interaction of the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner⑧">resource owner</a>, e.g., via the authorization code flow using redirects of the <span id="ref-for-resource-owner⑨">resource owner’s</span> user-agent, but other <span title="The OAuth 2.0 Authorization Framework">[OAuth20]</span> flows <a class="rfc2119" href="#h-conform"><em>may</em></a> be employed.</p>
     <p>To prevent the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①⓪">resource owner</a> from having to confirm the authorization every time a token expires, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③③">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> inlcude a refresh token in each successful token response.</p>
    </section>
   </article>
   <article>
    <h2 class="heading settled" data-level="5" id="h-assets"><span class="secno">5. </span><span class="content">Asset management</span><a class="self-link" href="#h-assets"></a></h2>
    <p>The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③④">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> provide a <a data-link-type="dfn" href="#protection-api" id="ref-for-protection-api③">protection API</a>, as defined by <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, to govern its interactions with one or more <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⑥">resource servers</a>. This API consists of three endpoints, listed in the <span id="ref-for-authorization-server③⑤">authorization server’s</span> metadata: the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint" id="ref-for-:~:text=resource_registration_endpoint①">resource registration endpoint</a>, the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=permission_endpoint" id="ref-for-:~:text=permission_endpoint①">permission endpoint</a>, and the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=introspection_endpoint" id="ref-for-:~:text=introspection_endpoint①">introspection endpoint</a>.</p>
    <section>
     <h3 class="heading settled" data-level="5.1" id="h-assets-create"><span class="secno">5.1. </span><span class="content">Creating an asset</span><a class="self-link" href="#h-assets-create"></a></h3>
     <p>In order to protect resources with <abbr title="Authorization for Data Spaces">A4DS</abbr>, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⑦">resource server</a> needs to register them at the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③⑥">authorization server</a>. <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-registration-endpoint">§ 3</a>, specifies how to manage these <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc④">resource descriptions</a> using CRUD operations within the namespace of the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint" id="ref-for-:~:text=resource_registration_endpoint②">resource registration endpoint</a>.</p>
     <p>New resources are registered through a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registration-request">registration request</dfn>, which is a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#POST" id="ref-for-POST">POST</a></code>` request to the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint" id="ref-for-:~:text=resource_registration_endpoint③">resource registration endpoint</a>, with an <code class="highlight">application<c- o>/</c->json</code> body containing a <code class="idl"><a data-link-type="idl" href="#dictdef-resourcedescription" id="ref-for-dictdef-resourcedescription">resource description</a></code> object. The <abbr title="Authorization for Data Spaces">A4DS</abbr> profile also allows the request to contain a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> array of one or more <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc⑤">resource description</a> objects.</p>
     <p>Each <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc⑥">resource description</a> object consists of the following fields:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-noexport id="dom-resourcedescription-resource_scopes"><code class="highlight">resource_scopes</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="#dictdef-scopedescription" id="ref-for-dictdef-scopedescription">ScopeDescription</a>></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. An array of <a data-link-type="dfn">scope descriptions</a> or <span>scope identifiers</span>, representing the scopes available for the resource.</p>
       <p><a data-link-type="dfn">Scope descriptions</a> are <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> objects containing the following fields:</p>
       <dl>
        <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScopeDescription" data-dfn-type="dict-member" data-lt="id|_id" data-noexport id="dom-scopedescription-_id"><code class="highlight">_id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⑦">string</a></span>
        <dd data-md>
         <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> identifying the scope. <br>
Within the context of a registration request, this field is <a class="rfc2119" href="#h-conform"><em>required</em></a>.</p>
        <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScopeDescription" data-dfn-type="dict-member" data-noexport id="dom-scopedescription-name"><code class="highlight">name</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⑧">string</a></span>
        <dd data-md>
         <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A human-readable string naming the scope.</p>
        <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScopeDescription" data-dfn-type="dict-member" data-noexport id="dom-scopedescription-description"><code class="highlight">description</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7②⑨">string</a></span>
        <dd data-md>
         <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A human-readable string describing the scope at length.</p>
        <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScopeDescription" data-dfn-type="dict-member" data-noexport id="dom-scopedescription-icon_uri"><code class="highlight">icon_uri</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⓪">string</a></span>
        <dd data-md>
         <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> for a graphic icon representing the scope.</p>
       </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-scopedescription" id="ref-for-dictdef-scopedescription①"><c- g>ScopeDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-_id" id="ref-for-dom-scopedescription-_id"><c- g>_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-name" id="ref-for-dom-scopedescription-name"><c- g>name</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③③"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-description" id="ref-for-dom-scopedescription-description"><c- g>description</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-icon_uri" id="ref-for-dom-scopedescription-icon_uri"><c- g>icon_uri</c-></a>;
};
</pre>
       <p><a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-scopedescription-_id" id="ref-for-dom-scopedescription-_id①">_id</a></code>) <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>s can also be added directly as a string to the <code class="idl"><a data-link-type="idl" href="#dom-defaultdescription-resource_scopes" id="ref-for-dom-defaultdescription-resource_scopes">resource_scopes</a></code> array. In that case, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⑧">resource server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> make sure the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc⑦">resource description</a> is publicly accessible at that <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span>.</p>
       <p>The <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server①⑨">resource server</a> <a class="rfc2119" href="#h-conform"><em>should not</em></a> register <a data-link-type="dfn">scope identifiers</a> that are <strong>not</strong> <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>s. In case such identifiers are present in the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_scopes" id="ref-for-dom-resourcedescription-resource_scopes">resource_scopes</a></code> array, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③⑦">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> interpret them as a scope without <span>scope description</span>, uniquely identified by the comination of its string value and the identifier of the <span id="ref-for-resource-server②⓪">resource server</span>.</p>
       <p>For example, the following <code class="idl"><a data-link-type="idl" href="#dom-defaultdescription-resource_scopes" id="ref-for-dom-defaultdescription-resource_scopes①">resource_scopes</a></code> array expresses that the resource being registered can be read from and written to.</p>
<pre class="language-jsonld highlight"><c- f>"resource_scopes"</c-><c- p>:</c-> <c- p>[</c->
  <c- p>{</c->
    <c- f>"_id"</c-><c- p>:</c-> <c- u>"https://example.org/modes/read"</c-><c- p>,</c->
    <c- f>"name"</c-><c- p>:</c-> <c- u>"read"</c-><c- p>,</c->
    <c- f>"description"</c-><c- p>:</c-> <c- u>"read the resource"</c-><c- p>,</c->
    <c- f>"icon_uri"</c-><c- p>:</c-> <c- u>"http://example.org/icons/magnifiying_glass"</c->
  <c- p>},</c->
 <c- u>"https://example.org/modes/write"</c->
<c- p>]</c->
</pre>
       <p>A request of the form <code class="highlight"><c- nf>GET</c-> <c- nn>https://example.org/modes/write</c-> <c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c-></code> could then return the following.</p>
<pre class="language-http highlight"><c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c-> <c- m>200</c-> <c- ne>OK</c->
<c- e>Content-Type</c-><c- o>:</c-> <c- l>application/json</c->
...
<c- p>{</c->
  <c- f>"_id"</c-><c- p>:</c-> <c- u>"https://example.org/modes/write"</c-><c- p>,</c->
  <c- f>"name"</c-><c- p>:</c-> <c- u>"write"</c-><c- p>,</c->
  <c- f>"description"</c-><c- p>:</c-> <c- u>"write to the resource"</c-><c- p>,</c->
  <c- f>"icon_uri"</c-><c- p>:</c-> <c- u>"http://example.org/icons/pen"</c->
<c- p>}</c->
</pre>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-noexport id="dom-resourcedescription-resource_relations"><code class="highlight">resource_relations</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⑤">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object representing the structural relations the resource has towards other resources <em>that are already registered</em>.</p>
       <p>Keys of the object represent relations <em><strong>from</strong> the resource being registered <strong>to</strong> the already existing resources</em>. Values are strings, or arrays of strings, which <a class="rfc2119" href="#h-conform"><em>must</em></a> be valid identifiers of already registered resources.</p>
       <p>Although the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③⑧">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should not</em></a> interpret the keys of the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations">resource_relations</a></code> object, and the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②①">resource server</a> is thus free to mint its own inverse relations for relations that are conventionally expressed in the other direction – <em><strong>from</strong> the existing resource <strong>to</strong> the resource being registered</em> – the <span id="ref-for-resource-server②②">resource server</span> <a class="rfc2119" href="#h-conform"><em>may</em></a> alternatively express such relations by nesting them in a <code class="highlight">@reverse</code> object.</p>
       <p>For example, the following <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations①">resource_relations</a></code> object describe the resource being registered as derived from resources <var>A</var> and <var>B</var>, and <em>contained <strong>in</strong></em> resource <var>C</var> – i.e., reading in reverse, resource <var>C</var> contains the the resource being registered.</p>
<pre class="language-jsonld highlight"><c- f>"resource_relations"</c-><c- p>:</c-> <c- p>{</c->
 <c- f>"urn:example:relation:derivedFrom"</c-><c- p>:</c-> <c- p>[</c->
  <c- u>"urn:example:assets:A"</c-><c- p>,</c->
  <c- u>"urn:example:assets:B"</c->
 <c- p>],</c->
 <c- nd>"@reverse"</c-><c- p>:</c-> <c- p>{</c->
  <c- f>"urn:example:relation:contains"</c-><c- p>:</c-> <c- u>"urn:example:assets:C"</c-><c- p>,</c->
 <c- p>}</c->
<c- p>}</c->
</pre>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-noexport id="dom-resourcedescription-resource_defaults"><code class="highlight">resource_defaults</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⑥">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object representing the possible relations that future resources might have towards the newly registered resource, as well as the default/inherited scopes the newly registered resource can infer onto those future resources.</p>
       <p>Keys of the object represent relations <em><strong>from</strong> potential future resources <strong>to</strong> the resource being registered</em> – <span class="inline-note">this is the opposite of the direction in <code class="highlight">resource_relations</code></span>. Values are objects interpreted as <em>blueprints</em> for future resources having the corresponding relation to the newly registered resource.</p>
       <p>Just like with <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations②">resource_relations</a></code>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server③⑨">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should not</em></a> interpret the keys of the registered <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_defaults" id="ref-for-dom-resourcedescription-resource_defaults">resource_defaults</a></code> object, and the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②③">resource server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> express inverse relations – <em><strong>from</strong> the resource being registered <strong>to</strong> potential future resources</em> – by nesting them in a <code class="highlight">@reverse</code> object.</p>
       <p>Currently, the blueprints support the following fields:</p>
       <dl>
        <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DefaultDescription" data-dfn-type="dict-member" data-noexport id="dom-defaultdescription-resource_scopes"><code class="highlight">resource_scopes</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⑦">string</a></span>
        <dd data-md>
         <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. An array of <a data-link-type="dfn">scope identifiers</a> or <span>scope descriptions</span>, similar to the top-level <code class="idl"><a data-link-type="idl" href="#dom-defaultdescription-resource_scopes" id="ref-for-dom-defaultdescription-resource_scopes②">resource_scopes</a></code> field, representing the minimal set of scopes available for future resources that have the corresponding relation to the newly registered resource.</p>
       </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-noexport id="dictdef-defaultdescription"><code class="highlight"><c- g>DefaultDescription</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⑧"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-defaultdescription-resource_scopes" id="ref-for-dom-defaultdescription-resource_scopes③"><c- g>resource_scopes</c-></a>;
};
</pre>
       <p class="issue" id="issue-00cdcffc"><a class="self-link" href="#issue-00cdcffc"></a> go into inheritance of these scopes from the newly registered resource in future resources!</p>
       <p>Note that the <code class="highlight">resource_defaults</code> object defines the complete set of relations that can be declared from future resources to the resource being registered. If at some point other relations need to be declared, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②④">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> therefore update the resource registration in which the <code class="highlight">resource_defaults</code> are defined. Moreover, to allow a relation to be declared towards the resource being registered, without specifying any bleuprint defaults for it, the <span id="ref-for-resource-server②⑤">resource server</span> <a class="rfc2119" href="#h-conform"><em>should</em></a> add the relation to the <code class="highlight">resource_defaults</code> with an empty object as corresponding value.</p>
       <p>For example:</p>
<pre class="language-jsonld highlight"><c- f>"resource_defaults"</c-><c- p>:</c-> <c- p>{</c->
  <c- f>"urn:example:relation:rel_with_no_defaults"</c-><c- p>:</c-> <c- p>{},</c->
  <c- f>"urn:example:relation:rel_from_readable_resources"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"scope"</c-><c- p>:</c-> <c- p>[</c-> <c- u>"https://example.org/modes/read"</c-> <c- p>]</c->
  <c- p>},</c->
  <c- nd>"@reverse"</c-><c- p>:</c-> <c- p>{</c->  
    <c- f>"urn:example:relation:inverse_rel"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"scope"</c-><c- p>:</c-> <c- p>[</c->
        <c- u>"https://example.org/modes/read"</c-><c- p>,</c-> 
        <c- u>"https://example.org/modes/write"</c-> 
      <c- p>]</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
      <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="type">type</dfn>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A string identifying the semantics of the resource. The <abbr title="Authorization for Data Spaces">A4DS</abbr> profile adds the restriction that this value <a class="rfc2119" href="#h-conform"><em>should</em></a> be a <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>.</p>
      <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="name">name</dfn>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A human-readable string naming the resource.</p>
      <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="description">description</dfn>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A human-readable string describing the resource at length.</p>
      <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="icon_uri">icon_uri</dfn>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> for a graphic icon representing the resource.</p>
     </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-resourcedescription" id="ref-for-dictdef-resourcedescription①"><c- g>ResourceDescription</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-scopedescription" id="ref-for-dictdef-scopedescription②"><c- n>ScopeDescription</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<ScopeDescription>" href="#dom-resourcedescription-resource_scopes" id="ref-for-dom-resourcedescription-resource_scopes①"><c- g>resource_scopes</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7③⑨"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations③"><c- g>resource_relations</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⓪"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-resourcedescription-resource_defaults" id="ref-for-dom-resourcedescription-resource_defaults①"><c- g>resource_defaults</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④①"><c- n>string</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-export data-type="string" id="dom-resourcedescription-type"><code class="highlight"><c- g>type</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④②"><c- n>string</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-export data-type="string" id="dom-resourcedescription-name"><code class="highlight"><c- g>name</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④③"><c- n>string</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-export data-type="string" id="dom-resourcedescription-description"><code class="highlight"><c- g>description</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④④"><c- n>string</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ResourceDescription" data-dfn-type="dict-member" data-export data-type="string" id="dom-resourcedescription-icon_uri"><code class="highlight"><c- g>icon_uri</c-></code></dfn>;
};
</pre>
     <p>A full registration request could then look as follows:</p>
<pre class="highlight">POST <c- o>/</c->assets<c- o>/</c-> HTTP<c- o>/</c-><c- mf>1.1</c-> Content<c- o>-</c->Type<c- o>:</c-> application<c- o>/</c->json
Authorization<c- o>:</c-> Bearer MHg3OUZEQkZBMjcx
<c- p>...</c->
<c- p>{</c->  
  <c- u>"resource_scopes"</c-><c- o>:</c-> <c- p>[</c->
    <c- u>"read-public"</c-><c- p>,</c->
    <c- u>"post-updates"</c-><c- p>,</c->
    <c- u>"read-private"</c-><c- p>,</c->
    <c- u>"http://www.example.com/scopes/all"</c->
  <c- p>],</c->
  <c- u>"icon_uri"</c-><c- o>:</c-> <c- u>"http://www.example.com/icons/sharesocial.png"</c-><c- p>,</c->
  <c- u>"name"</c-><c- o>:</c-> <c- u>"Tweedl Social Service"</c-><c- p>,</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"http://www.example.com/rsrcs/socialstream/140-compatible"</c->
<c- p>}</c->
</pre>
    </section>
    <section>
     <h4 class="heading settled" data-level="5.1.1" id="h-assets-create-ctx"><span class="secno">5.1.1. </span><span class="content">Interpreting a registration request</span><a class="self-link" href="#h-assets-create-ctx"></a></h4>
     <p>The complete semantics of registration requests, as specified above, is given by the following <a data-link-type="biblio" href="#biblio-json-ld11" title="JSON-LD 1.1">JSON-LD</a> context. .</p>
<pre class="language-jsonld highlight"><c- p>{</c->
  <c- nd>"@context"</c-><c- p>:</c-> <c- p>{</c->
    <c- nd>"@version"</c-><c- p>:</c-> <c- mf>1.1</c-><c- p>,</c->
    <c- nd>"@protected"</c-><c- p>:</c-> <c- kc>true</c-><c- p>,</c->
    <c- f>"xml"</c-><c- p>:</c-> <c- u>"http://www.w3.org/2001/XMLSchema#"</c-><c- p>,</c->
    <c- f>"name"</c-><c- p>:</c-> <c- p>{</c-> <c- nd>"@type"</c-><c- p>:</c-> <c- u>"xml:string"</c-> <c- p>},</c->  
    <c- f>"description"</c-><c- p>:</c-> <c- p>{</c-> <c- nd>"@type"</c-><c- p>:</c-> <c- u>"xml:string"</c-> <c- p>},</c->
    <c- f>"icon_uri"</c-><c- p>:</c-> <c- p>{</c-> <c- nd>"@type"</c-><c- p>:</c-> <c- u>"@id"</c-> <c- p>},</c->
    <c- f>"resource_relations"</c-><c- p>:</c-> <c- u>"@nest"</c-><c- p>,</c->
    <c- f>"resource_defaults"</c-><c- p>:</c-> <c- p>{</c-> <c- nd>"@type"</c-><c- p>:</c-> <c- u>"@vocab"</c-> <c- p>},</c->
    <c- f>"scope"</c-><c- p>:</c-> <c- p>{</c-> <c- nd>"@type"</c-><c- p>:</c-> <c- u>"@vocab"</c-> <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
     <p><a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②⑥">resource servers</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> include this context explicitly in their <a data-link-type="dfn" href="#registration-request" id="ref-for-registration-request">registration requests</a>. If they do not, <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④⓪">authorization servers</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> implicitly assume it to be present anyway</p>
    </section>
    <section>
     <h4 class="heading settled" data-level="5.1.2" id="h-assets-create-proc"><span class="secno">5.1.2. </span><span class="content">Processing a registration request</span><a class="self-link" href="#h-assets-create-proc"></a></h4>
     <p>Upon receiving a valid <a data-link-type="dfn" href="#registration-request" id="ref-for-registration-request①">registration request</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> process each <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc⑧">resource description</a> it contains according to the algorithm presented in <a href="#h-assets-create-proc-res">§ 5.1.2.1 Processing a resource description</a>.</p>
     <section>
      <h5 class="heading settled" data-level="5.1.2.1" id="h-assets-create-proc-res"><span class="secno">5.1.2.1. </span><span class="content">Processing a resource description</span><a class="self-link" href="#h-assets-create-proc-res"></a></h5>
      <p>The following algoritm describes how an <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④②">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> process a <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc⑨">resource description</a>.</p>
      <ol>
       <li data-md>
        <p><strong>Create a new <a data-link-type="dfn" href="#asset" id="ref-for-asset⑥">asset</a></strong>, with an identifier that is unique within the context formed by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②⑦">resource server</a> and the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④③">authorization server</a> itself.</p>
       <li data-md>
        <p><strong>Store the metadata</strong> about the resource’s <strong>type</strong>, <strong>name</strong>, <strong>description</strong>, and <strong>icon</strong>.</p>
       <li data-md>
        <p>For each element in the <code class="idl"><a data-link-type="idl" href="#dom-permissiondescription-resource_scopes" id="ref-for-dom-permissiondescription-resource_scopes">resource_scopes</a></code> of the resource:</p>
        <ol>
         <li data-md>
          <p><strong>Process the <a data-link-type="dfn">scope description</a></strong> (cf. <a href="#h-assets-create-proc-scope">§ 5.1.2.2 Processing a scope description</a>).</p>
         <li data-md>
          <p><strong>Link the scope description</strong> to the new <a data-link-type="dfn" href="#asset" id="ref-for-asset⑦">asset</a>.</p>
        </ol>
       <li data-md>
        <p>For each element of the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations④">resource_relations</a></code> of the resource, and each related <a data-link-type="dfn" href="#asset" id="ref-for-asset⑧">asset</a> listed for that relation:</p>
        <ol>
         <li data-md>
          <p><strong>Retrieve the metadata</strong> of the related <a data-link-type="dfn" href="#asset" id="ref-for-asset⑨">asset</a>.</p>
         <li data-md>
          <p><strong>Search for an <a data-link-type="dfn" href="#asset" id="ref-for-asset①⓪">asset</a> collection</strong> that has the related <a data-link-type="dfn" href="#asset" id="ref-for-asset①①">asset</a> is the source, and whose determinant relation is the relation in question.</p>
          <ul>
           <li data-md>
            <p>If such an <a data-link-type="dfn" href="#asset" id="ref-for-asset①②">asset</a> collection is found, <strong>add the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset①③">asset</a></strong> to it.</p>
           <li data-md>
            <p>If no such <a data-link-type="dfn" href="#asset" id="ref-for-asset①④">asset</a> collection is found, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④④">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> interrupt the processing of the <a data-link-type="dfn" href="#registration-request" id="ref-for-registration-request②">registration request</a>, and respond to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②⑧">resource server</a> with an error.</p>
          </ul>
        </ol>
       <li data-md>
        <p>For each element of the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_defaults" id="ref-for-dom-resourcedescription-resource_defaults②">resource_defaults</a></code> of the resource:</p>
        <ol>
         <li data-md>
          <p><strong>Create a new <a data-link-type="dfn" href="#asset" id="ref-for-asset①⑤">asset</a> collection</strong>, with an identifier that is unique within the context formed by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server②⑨">resource server</a> and the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④⑤">authorization server</a> itself.</p>
         <li data-md>
          <p>Set the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset①⑥">asset</a> as the <strong>source</strong> of the <span id="ref-for-asset①⑦">asset</span> collection, and the resource relation as <strong>determinant relation</strong>.</p>
         <li data-md>
          <p>For each element of <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_scopes" id="ref-for-dom-resourcedescription-resource_scopes②">resource_scopes</a></code> listed for this element of <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_defaults" id="ref-for-dom-resourcedescription-resource_defaults③">resource_defaults</a></code>:</p>
          <ol>
           <li data-md>
            <p><strong>Process the <a data-link-type="dfn">scope description</a></strong> (cf. <a href="#h-assets-create-proc-scope">§ 5.1.2.2 Processing a scope description</a>).</p>
           <li data-md>
            <p><strong>Link the scope</strong> to the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset①⑧">asset</a> collection.</p>
          </ol>
        </ol>
      </ol>
     </section>
     <section>
      <h5 class="heading settled" data-level="5.1.2.2" id="h-assets-create-proc-scope"><span class="secno">5.1.2.2. </span><span class="content">Processing a scope description</span><a class="self-link" href="#h-assets-create-proc-scope"></a></h5>
      <p>The following algoritm describes how an <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④⑥">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> process a <a data-link-type="dfn">scope description</a></p>
      <ol>
       <li data-md>
        <p><strong>(Re)construct the URI</strong> of the scope:</p>
        <ul>
         <li data-md>
          <p>If a <a data-link-type="dfn">scope description</a> is given, the <strong><code class="highlight">_id</code></strong> is the scope’s <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>.</p>
         <li data-md>
          <p>If a <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-scopedescription-_id" id="ref-for-dom-scopedescription-_id②">_id</a></code>) is given in the form of a URI, <strong>this identifier</strong> is the scope’s <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>.</p>
         <li data-md>
          <p>If a non-<a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-registrationresponse-_id" id="ref-for-dom-registrationresponse-_id">_id</a></code>) is given, the scope’s <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span> is <strong>constructed</strong> by appending this identifier to a base <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span> within the namespace of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④⑦">authorization server</a>, which <a class="rfc2119" href="#h-conform"><em>must</em></a> uniquely and exclusively identify the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③⓪">resource server</a> within the context of the <span id="ref-for-authorization-server④⑧">authorization server</span>.</p>
        </ul>
       <li data-md>
        <p><strong>Retrieve the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description">updated scope description</a></strong>:</p>
        <ul>
         <li data-md>
          <p>If the <a data-link-type="dfn">scope description</a> was <strong>given in the request</strong>, this is the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description①">updated scope description</a>.</p>
         <li data-md>
          <p>If a <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-scopedescription-_id" id="ref-for-dom-scopedescription-_id③">_id</a></code>) in the form of a <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> was given in the request, try to <strong>retrieve the <a data-link-type="dfn">scope description</a></strong> from that <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span>.</p>
          <ul>
           <li data-md>
            <p>If the response is a valid <a data-link-type="dfn">scope description</a>, this is the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description②">updated scope description</a>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> If an earlier response was cached, and this cache was not invalidated, the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description③">updated scope description</a> can be considered empty.</p>
           <li data-md>
            <p>If the response is <strong>not</strong> a valid <a data-link-type="dfn">scope description</a>, consider the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description④">updated scope description</a> to be <strong>empty</strong>.</p>
          </ul>
         <li data-md>
          <p>If a non-<a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-scopedescription-_id" id="ref-for-dom-scopedescription-_id④">_id</a></code>) was given in the request, consider the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description⑤">updated scope description</a> to be <strong>empty</strong>.</p>
        </ul>
       <li data-md>
        <p><strong>Update or create the <a data-link-type="dfn" href="#stored-scope-descriptions" id="ref-for-stored-scope-descriptions">stored scope description</a></strong>:</p>
        <ul>
         <li data-md>
          <p>If a scope description with the (re)constructed <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> is already known, <strong>update</strong> the <a data-link-type="dfn" href="#stored-scope-descriptions" id="ref-for-stored-scope-descriptions①">stored scope description</a> to the <a data-link-type="dfn" href="#updated-scope-description" id="ref-for-updated-scope-description⑥">updated scope description</a>.</p>
         <li data-md>
          <p>If not, <strong>store</strong> the update (new) scope description as the <a data-link-type="dfn" href="#stored-scope-descriptions" id="ref-for-stored-scope-descriptions②">stored scope description</a>.</p>
        </ul>
        <p>Importantly, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server④⑨">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> keep previous metadata about assets that are still registered. This allows the <span id="ref-for-authorization-server⑤⓪">authorization server</span> to inform an <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①①">resource owner’s</a> of changes at the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③①">resource server’s</a> side.</p>
      </ol>
     </section>
     <section>
      <h4 class="heading settled" data-level="5.1.3" id="h-assets-create-response"><span class="secno">5.1.3. </span><span class="content">Response to a registration request</span><a class="self-link" href="#h-assets-create-response"></a></h4>
      <p>After processing a successful registration request, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤①">authorization server</a> responds to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③②">resource server</a> with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.201" id="ref-for-status.201"><c- mf>201</c-></a></code>`, referring to the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset①⑨">asset</a> in the `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.location" id="ref-for-field.location">Location</a></code>` header, and a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> body consisting of an object with the following fields.</p>
      <dl>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="RegistrationResponse" data-dfn-type="dict-member" data-lt="id|_id" data-noexport id="dom-registrationresponse-_id"><code class="highlight">_id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⑤">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. A string containing the identifier of the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset②⓪">asset</a>, which is unique within the context of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤②">authorization server</a> and <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③③">resource server</a>. The value <a class="rfc2119" href="#h-conform"><em>should</em></a> be a <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> equivalent to the one in the `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.location" id="ref-for-field.location①">Location</a></code>` header.</p>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="RegistrationResponse" data-dfn-type="dict-member" data-noexport id="dom-registrationresponse-user_access_policy_uri"><code class="highlight">user_access_policy_uri</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⑥">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>recommended</em></a>. A string containing the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of a (graphical) user interface, provided by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤③">authorization server</a>, to which the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③④">resource server</a> can redirect an end-user <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①②">resource owner</a> to immediately manage the [policies] related to the newly created <a data-link-type="dfn" href="#asset" id="ref-for-asset②①">asset</a>.</p>
      </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-registrationresponse"><code class="highlight"><c- g>RegistrationResponse</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⑦"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-registrationresponse-_id" id="ref-for-dom-registrationresponse-_id①"><c- g>_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⑧"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-registrationresponse-user_access_policy_uri" id="ref-for-dom-registrationresponse-user_access_policy_uri"><c- g>user_access_policy_uri</c-></a>;
};
</pre>
      <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>201</c-> Created
Content<c- o>-</c->Type<c- o>:</c-> application<c- o>/</c->json
Location<c- o>:</c-> /assets/asset1234
<c- p>...</c->
<c- p>{</c->
  <c- u>"_id"</c-><c- o>:</c-> <c- u>"asset1234"</c-><c- p>,</c->
  <c- u>"user_access_policy_uri"</c-><c- o>:</c-> <c- u>"http://as.example.com/rs/222/resource/KX3A-39WE/policy"</c->
<c- p>}</c->
</pre>
      <p>In contrast, when the processing of the registration request – according to the algorithm presented in – results in an error, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤④">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> instead respond with an error message containing the status code and <a data-link-type="dfn">error description</a> resulting from the algorithm (cf. <a href="#h-errors">§ 11 Error messages</a>).</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.2" id="h-assets-inspect"><span class="secno">5.2. </span><span class="content">Inspecting an asset</span><a class="self-link" href="#h-assets-inspect"></a></h3>
     <section>
      <h4 class="heading settled" data-level="5.2.1" id="h-assets-inspect-overview"><span class="secno">5.2.1. </span><span class="content">Asset overview</span><a class="self-link" href="#h-assets-inspect-overview"></a></h4>
      <p>A <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③⑤">resource server</a> can retrieve the list of <a data-link-type="dfn" href="#resource" id="ref-for-resource⑧">resources</a> it registered at a specific <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤⑤">authorization server</a> by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#GET" id="ref-for-GET">GET</a></code>` request to the resource registration endpoint. This allows the <span id="ref-for-resource-server③⑥">resource server</span> to ensure a correct synchronisation between the state of its (protected) resources and that of the the <a data-link-type="dfn" href="#asset" id="ref-for-asset②②">assets</a> known by the <span id="ref-for-authorization-server⑤⑥">authorization server</span>.</p>
      <p>For example:</p>
<pre class="highlight">GET <c- o>/</c->assets<c- o>/</c-> HTTP<c- o>/</c-><c- mf>1.1</c->
Authorization<c- o>:</c-> Bearer <c- mf>204</c->c69636b6c69
<c- p>...</c->
</pre>
      <p>Upon receiving such a request, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤⑦">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> respond with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200"><c- mf>200</c-></a></code>`, and a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> body consisting of an array containing the identifiers of all the assets registered at the <span id="ref-for-authorization-server⑤⑧">authorization server</span> by that particular <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③⑦">resource server</a>.</p>
      <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>200</c-> OK
Content<c- o>-</c->Type<c- o>:</c-> application<c- o>/</c->json
<c- p>...</c->
<c- p>[</c->  
  <c- u>"KX3A-39WE"</c-><c- p>,</c->
  <c- u>"9UQU-DUWW"</c->
<c- p>]</c->
</pre>
     </section>
     <section>
      <h4 class="heading settled" data-level="5.2.2" id="h-assets-inspect-details"><span class="secno">5.2.2. </span><span class="content">Asset details</span><a class="self-link" href="#h-assets-inspect-details"></a></h4>
      <p>More details on a specific asset can be requested by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#GET" id="ref-for-GET①">GET</a></code>` request to the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> formed by concatenating the <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span> of the resource registration endpoint with the identifier of the asset in question.</p>
      <p>For example:</p>
<pre class="highlight">GET <c- o>/</c->assets<c- o>/</c->KX3A<c- o>-</c-><c- mf>39</c->WE HTTP<c- o>/</c-><c- mf>1.1</c->
Authorization<c- o>:</c-> Bearer MHg3OUZEQkZBMjcx
<c- p>...</c->
</pre>
      <p>Upon receiving such a request, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑤⑨">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> respond with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200①"><c- mf>200</c-></a></code>`, and a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> body consisting of the referenced resource description, complemented with an <code class="highlight">_id</code> parameter containing the asset’s identifier.</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.3" id="h-assets-modify"><span class="secno">5.3. </span><span class="content">Modifying an asset</span><a class="self-link" href="#h-assets-modify"></a></h3>
     <section>
      <h4 class="heading settled" data-level="5.3.1" id="h-assets-modify-update"><span class="secno">5.3.1. </span><span class="content">Asset updates</span><a class="self-link" href="#h-assets-modify-update"></a></h4>
      <p><a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server③⑧">resource servers</a> can update the resource description of existing assets by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#PUT" id="ref-for-PUT">PUT</a></code>` request to the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> formed by concatenating the <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span> of the resource registration endpoint with the identifier of the asset in question.
The <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> body of the request <a class="rfc2119" href="#h-conform"><em>must</em></a> consist of the resource description with which the <span id="ref-for-resource-server③⑨">resource server</span> wants the previously registered <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc①⓪">resource description</a> to be replaced. The syntax of the request is thus identical to the one of a new resource registration request.</p>
      <p>Upon receiving such a request, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥⓪">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> perform an operation equivalent to the <strong>complete replacement</strong> of the information it has stored concerning the asset in question with the information it extracts from the updated resource description by processing it according to the algorithm presented in <a href="#h-assets-create-proc">§ 5.1.2 Processing a registration request</a>. In particular, this entails the following:</p>
      <p>A.</p>
      <ul>
       <li data-md>
        <p><strong>Update the metadata</strong> about the resource’s <strong>type</strong>, <strong>name</strong>, <strong>description</strong>, and <strong>icon</strong>.</p>
        <p>Importantly, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> keep previous metadata about assets that are still registered. This allows the <span id="ref-for-authorization-server⑥②">authorization server</span> to inform an <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①③">resource owner’s</a> of changes at the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④⓪">resource server’s</a> side.</p>
       <li data-md>
        <p>Update the <code class="idl"><a data-link-type="idl">resource scopes</a></code>:</p>
        <ol>
         <li data-md>
          <p>Process the <a data-link-type="dfn">scope descriptions</a> in the update request (cf. <a href="#h-assets-create-proc-scope">§ 5.1.2.2 Processing a scope description</a>).</p>
         <li data-md>
          <p>For each <a data-link-type="dfn">resource scope</a> related to the asset or present in the update request:</p>
          <ul>
           <li data-md>
            <p>If the scope is linked to the asset, but not present in the update request: <strong>remove the scope from the asset</strong>.</p>
            <p>Importantly, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥③">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> keep the scope descriptions of scopes that are no longer linked to any asset; <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/conform.html#x8" id="ref-for-x8">MAY</a> keep track of which scopes where linked to which asset in the past; and <a class="rfc2119" href="#h-conform"><em>may</em></a> save policies that pertain these scopes. This allows the <span id="ref-for-authorization-server⑥④">authorization server</span> to maintain an <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①④">resource owner’s</a> preferences over changes at the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④①">resource server’s</a> side.</p>
           <li data-md>
            <p>If the scope is present in the update request, but not linked to the asset: <strong>Link the scope</strong> to the <a data-link-type="dfn" href="#asset" id="ref-for-asset②③">asset</a>.</p>
          </ul>
        </ol>
       <li data-md>
        <p>Update the <code class="idl"><a data-link-type="idl">resource relations</a></code>:</p>
        <ol>
         <li data-md>
          <p>Record all asset collections the asset is currently part of.</p>
         <li data-md>
          <p>For each element of the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_relations" id="ref-for-dom-resourcedescription-resource_relations⑤">resource_relations</a></code> of the update, and each related <a data-link-type="dfn" href="#asset" id="ref-for-asset②④">asset</a> listed for that relation:</p>
          <ol>
           <li data-md>
            <p><strong>Retrieve the metadata</strong> of the related <a data-link-type="dfn" href="#asset" id="ref-for-asset②⑤">asset</a>.</p>
           <li data-md>
            <p><strong>Search for an <a data-link-type="dfn" href="#asset" id="ref-for-asset②⑥">asset</a> collection</strong> that has the related <a data-link-type="dfn" href="#asset" id="ref-for-asset②⑦">asset</a> is the source, and whose determinant relation is the relation in question.</p>
            <ul>
             <li data-md>
              <p>If such an <a data-link-type="dfn" href="#asset" id="ref-for-asset②⑧">asset</a> collection is found, <strong>record the collection in the update</strong> to it.</p>
             <li data-md>
              <p>If no such <a data-link-type="dfn" href="#asset" id="ref-for-asset②⑨">asset</a> collection is found, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥⑤">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> interrupt the processing of the <a data-link-type="dfn" href="#registration-request" id="ref-for-registration-request③">registration request</a>, and respond to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④②">resource server</a> with an error.</p>
            </ul>
          </ol>
        </ol>
       <li data-md>
        <p>Update the <code class="idl"><a data-link-type="idl">resource defaults</a></code>:</p>
        <ol>
         <li data-md>
          <p>Record the determinant relations of each collection that has the asset as its source.</p>
         <li data-md>
          <p>For each element of the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-resource_defaults" id="ref-for-dom-resourcedescription-resource_defaults④">resource_defaults</a></code> of the resource:</p>
          <ul>
           <li data-md>
            <p>If the recorded list of relations already contains the resource relation being processed:</p>
            <ol>
             <li data-md>
              <p>Record all current scopes listed for the corresponding collection.</p>
             <li data-md>
              <p><strong>Record the updated scopes in the update</strong> to it.</p>
            </ol>
           <li data-md>
            <p>If not: process it according to the algorithm in <a href="#h-assets-create-proc-res">§ 5.1.2.1 Processing a resource description</a>.</p>
          </ul>
        </ol>
      </ul>
      <p>B. Assess the difference between the current and updated resource relations, and between the current and updated resource defaults.</p>
      <ul>
       <li data-md>
        <p>If they are both identical, perform the update.</p>
        <p>If the update was successful, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥⑥">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> respond with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200②"><c- mf>200</c-></a></code>`, and a body consisting of a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object with an <code class="highlight">_id</code> parameter containing the asset’s identifier. The <span id="ref-for-authorization-server⑥⑦">authorization server</span> <a class="rfc2119" href="#h-conform"><em>should</em></a> also include a <code class="idl"><a data-link-type="idl" href="#dom-registrationresponse-user_access_policy_uri" id="ref-for-dom-registrationresponse-user_access_policy_uri①">user_access_policy_uri</a></code></p>
        <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>200</c-> OK
<c- p>...</c->
<c- p>{</c->  
  <c- u>"_id"</c-><c- o>:</c-> <c- u>"9UQU-DUWW"</c-><c- p>,</c->
  <c- u>"user_access_policy_uri"</c-><c- o>:</c-> <c- u>"http://as.example.com/rs/222/resource/9UQU-DUWW/policy"</c->
<c- p>}</c->
</pre>
        <p>Importantly: During an update, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑥⑧">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> change the identifier of an asset, e.g., to maintain an immutable state. If it does so, the <span id="ref-for-authorization-server⑥⑨">authorization server</span> <a class="rfc2119" href="#h-conform"><em>should</em></a> change the identifier in its entire knowledge base. If the response contains a different identifier than the target of the request, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④③">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> update its own mapping accordingly.</p>
       <li data-md>
        <p>If they one of them is not identical:</p>
        <ul>
         <li data-md>
          <p>The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦⓪">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> perform the update, as in the previous point.</p>
         <li data-md>
          <p>Alternatively, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> instead respond with status code `<code class="highlight"><a data-link-type="http-header"><c- mf>424</c-></a></code>`, and a body consisting of a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object with a <code class="idl"><a data-link-type="idl" href="#dom-needinteractionerror-redirect_user" id="ref-for-dom-needinteractionerror-redirect_user">redirect_user</a></code> parameter containing the URI at which the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①⑤">resource owner</a> can intervene in the process.</p>
          <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>424</c-> Failed Dependency
<c- p>...</c->
<c- p>{</c->  
  <c- u>"redirect_user"</c-><c- o>:</c-> <c- u>"http://as.example.com/rs/222/resource/9UQU-DUWW/update"</c->
<c- p>}</c->
</pre>
        </ul>
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="5.3.2" id="h-assets-modify-delete"><span class="secno">5.3.2. </span><span class="content">Asset deletion</span><a class="self-link" href="#h-assets-modify-delete"></a></h4>
      <p><a data-link-type="dfn" href="#resource" id="ref-for-resource⑨">Resources</a> can be removed from the protection domain of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦②">authorization server</a> by deleting their corresponding <a data-link-type="dfn" href="#asset" id="ref-for-asset③⓪">assets</a> on the <span id="ref-for-authorization-server⑦③">authorization server</span>. The <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④④">resource server</a> does this by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#DELETE" id="ref-for-DELETE">DELETE</a></code>` request to the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> formed by concatenating the <span title="Uniform Resource Identifier (URI): Generic Syntax">URI</span> of the resource registration endpoint with the identifier of the asset in question.</p>
      <p>For example:</p>
<pre class="highlight">DELETE <c- o>/</c->assets<c- o>/</c-><c- mf>9</c->UQU<c- o>-</c->DUWW
Authorization<c- o>:</c-> Bearer <c- mf>204</c->c69636b6c69
<c- p>...</c->
</pre>
      <p>When the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦④">authorization server</a> receives such a request, the <span id="ref-for-authorization-server⑦⑤">authorization server</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> remove all the information it has stored pertaining the asset in question. In particular, this includes:</p>
      <ol>
       <li data-md>
        <p>Remove all collections that have the asset as source (i.e., its <code class="idl"><a data-link-type="idl">resource defaults</a></code>); for each collection:</p>
        <ol>
         <li data-md>
          <p>If the collection still has assets that are part of it: repeat this algorithm for each of those assets.</p>
          <p>The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦⑥">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> instead respond to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④⑤">resource server</a> with an error message containing status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.409" id="ref-for-status.409"><c- mf>409</c-></a></code>` and <a data-link-type="dfn">error description</a> <code class="idl"><a data-link-type="idl" href="#dom-errorcode-non_empty_collections" id="ref-for-dom-errorcode-non_empty_collections">non_empty_collections</a></code> (cf. <a href="#h-errors">§ 11 Error messages</a>). If an <span id="ref-for-resource-server④⑥">resource server</span> receives an error response with this error code, and still wants to continue with the deletion, it <a class="rfc2119" href="#h-conform"><em>should</em></a> send an expanded version of the deletion, that includes the asset identifiers of all resources related to this one.</p>
          <p>Importantly, if deletion is successful <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④⑦">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> consider all resources that were previously related to this asset to be no longer protected by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦⑦">authorization server</a>.</p>
         <li data-md>
          <p>Delete the collection.</p>
        </ol>
       <li data-md>
        <p>Remove the asset from all collections (.i.e., <a data-link-type="dfn">resource relations</a>) it is part of.</p>
       <li data-md>
        <p>Delete the asset itself, including its <strong>current metadata</strong> (<strong>type</strong>, <strong>name</strong>, <strong>description</strong>, and <strong>icon</strong>), any <strong>previous metadata</strong> that <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦⑧">authorization server</a> has still stored, and its links to <a data-link-type="dfn">resource scopes</a>, both current and any previous ones.</p>
        <p>Importantly, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑦⑨">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> keep the scope descriptions of scopes that are no longer linked to any asset.</p>
      </ol>
      <p>If the deletion was sucessful, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⓪">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> respond with status codes `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200③"><c- mf>200</c-></a></code>`, `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.204" id="ref-for-status.204"><c- mf>204</c-></a></code>` or `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.205" id="ref-for-status.205"><c- mf>205</c-></a></code>`.</p>
      <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>204</c-> No content
<c- p>...</c->
</pre>
      <p>Importantly, even in case of a deletion, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> include a body with a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object containing a <code class="idl"><a data-link-type="idl" href="#dom-registrationresponse-user_access_policy_uri" id="ref-for-dom-registrationresponse-user_access_policy_uri②">user_access_policy_uri</a></code>. This can, for example, allow the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①⑥">resource owner</a> to immediately access the policy configurations for an higher-level asset or more general interface.</p>
      <p>For example:</p>
<pre class="highlight">HTTP<c- o>/</c-><c- mf>1.1</c-> <c- mf>205</c-> Reset content
<c- p>...</c->
<c- p>{</c->  
  <c- u>"user_access_policy_uri"</c-><c- o>:</c-> <c- u>"http://as.example.com/rs/222/resource/9UQU-DUWW/policy"</c->
<c- p>}</c->
</pre>
     </section>
    </section>
   </article>
   <article>
    <h2 class="heading settled" data-level="6" id="h-manage"><span class="secno">6. </span><span class="content">Policy management</span><a class="self-link" href="#h-manage"></a></h2>
    <p>Based on the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc①①">resource descriptions</a> provided by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④⑧">resource server</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧②">authorization server</a> enables the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner①⑦">resource owner</a> to manage policies that govern the authorization on interaction with those <a data-link-type="dfn" href="#resource" id="ref-for-resource①⓪">resources</a>. The specific user interface(s) through which the <span id="ref-for-resource-owner①⑧">resource owner</span> can exert this control is out of the scope of this specification. This section only specifies the conformance with respect to the <strong>affordances</strong> such an interface <a class="rfc2119" href="#h-conform"><em>must</em></a> provide to the <span id="ref-for-resource-owner①⑨">resource owner</span>.</p>
    <p>For each <a data-link-type="dfn" href="#asset" id="ref-for-asset③①">asset</a> in the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧③">authorization server’s</a> knowledge base, the <span id="ref-for-authorization-server⑧④">authorization server</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> provide the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②⓪">resource owner</a> with the following affordances.</p>
    <ul>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#scope" id="ref-for-scope②">scope</a> linked to the <a data-link-type="dfn" href="#asset" id="ref-for-asset③②">asset</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⑤">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> allow the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②①">resource owner</a> to define the policy under which interactions with the <a data-link-type="dfn" href="#resource" id="ref-for-resource①①">resource</a> within that <span id="ref-for-scope③">scope</span> are authorized.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#scope" id="ref-for-scope④">scope</a> linked to an <a data-link-type="dfn" href="#asset-collection" id="ref-for-asset-collection">asset collection</a> of which the <a data-link-type="dfn" href="#asset" id="ref-for-asset③③">asset</a> is the <a data-link-type="dfn" href="#source" id="ref-for-source">source</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⑥">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> allow the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②②">resource owner</a> to define the default policy under which interactions within that <span id="ref-for-scope⑤">scope</span> are authorized on <a data-link-type="dfn" href="#resource" id="ref-for-resource①②">resources</a> that are part of the <span id="ref-for-asset-collection①">collection</span>, in case these <span id="ref-for-resource①③">resources</span> do not have a policy for that <span id="ref-for-scope⑥">scope</span> themselves.</p>
    </ul>
    <p class="issue" id="issue-78c3e6a1"><a class="self-link" href="#issue-78c3e6a1"></a> clarify what 'policies'/'criteria' are, and whether each AS is obliged to support them all, or urged to provide a certain minimum set ....</p>
    <p>In providing these affordances to the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②③">resource owner</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⑦">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> take into account each <a data-link-type="dfn" href="#asset" id="ref-for-asset③④">asset’s</a> metadata: the <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-type" id="ref-for-dom-resourcedescription-type">type</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-name" id="ref-for-dom-resourcedescription-name">name</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-resourcedescription-description" id="ref-for-dom-resourcedescription-description">description</a></code> and <code class="idl"><a data-link-type="idl">icon</a></code> from the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc" id="ref-for-resource-set-desc①②">resource description</a>, and the <code class="idl"><a data-link-type="idl" href="#dom-scopedescription-name" id="ref-for-dom-scopedescription-name①">name</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-scopedescription-description" id="ref-for-dom-scopedescription-description①">description</a></code> and <code class="idl"><a data-link-type="idl">icon</a></code> from the <a data-link-type="dfn">scope description</a>. These metadata <a class="rfc2119" href="#h-conform"><em>should</em></a> be used to maximize the potential for the <span id="ref-for-resource-owner②④">resource owner</span> to make an <strong>informed policy decision</strong>.</p>
   </article>
   <article>
    <h2 class="heading settled" data-level="7" id="h-access"><span class="secno">7. </span><span class="content">Accessing resources at the resource server</span><a class="self-link" href="#h-access"></a></h2>
    <section>
     <h3 class="heading settled" data-level="7.1" id="h-access-token"><span class="secno">7.1. </span><span class="content">Attempting access <strong>with</strong> a token</span><a class="self-link" href="#h-access-token"></a></h3>
     <p>When the <a data-link-type="dfn" href="#client" id="ref-for-client①③">client</a> attempting to access resources presents the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server④⑨">resource server</a> with an access token, e.g., a Bearer token passed in the `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.authorization" id="ref-for-field.authorization">Authorization</a></code>` header of the request (cf. <a data-link-type="biblio" href="#biblio-rfc6750" title="The OAuth 2.0 Authorization Framework: Bearer Token Usage">[RFC6750]</a>), the <span id="ref-for-resource-server⑤⓪">resource server</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> determine whether the token is valid and covers the resources and scopes being accessed, as specified in <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#rs-rpt-response">§ 3.5</a> and <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#introspection-endpoint">§ 5</a>, using token introspection if necessary (cf. <a data-link-type="biblio" href="#biblio-rfc7662" title="OAuth 2.0 Token Introspection">[RFC7662]</a>).</p>
     <ul>
      <li data-md>
       <p>If this is the case, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤①">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> process the authorized request.</p>
      <li data-md>
       <p>If, on the contrary, the token is invalid, or does not cover the neccessary resources or scopes, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤②">resource server</a> <a class="rfc2119" href="#h-conform"><em>must not</em></a> give the <a data-link-type="dfn" href="#client" id="ref-for-client①④">client</a> access, and <a class="rfc2119" href="#h-conform"><em>must</em></a> instead respond as if the request were unaccompanied by an <a data-link-type="dfn" href="#requesting-party-token" id="ref-for-requesting-party-token">access token</a> (cf. infra).</p>
     </ul>
    </section>
    <section>
     <h3 class="heading settled" data-level="7.2" id="h-access-no-token"><span class="secno">7.2. </span><span class="content">Attempting access <strong>without</strong> a token</span><a class="self-link" href="#h-access-no-token"></a></h3>
     <p>When the <a data-link-type="dfn" href="#client" id="ref-for-client①⑤">client</a> attempting to access resources has no token authorizing the access, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤③">resource server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> request a permission ticket from the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⑧">authorization server</a>, as specified in <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#rs-tokenless-response">§ 3.2</a>, and described in <a href="#h-fed-res-ticket">§ 7.3 Requesting a Ticket</a>.</p>
     <ul>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑧⑨">authorization server</a> responds with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200④"><c- mf>200</c-></a></code>`, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤④">resource server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> let the attempted access succeed.</p>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⓪">authorization server</a> responds with status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.201" id="ref-for-status.201①"><c- mf>201</c-></a></code>` and a <code class="highlight">ticket</code> parameter, the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤⑤">resource server</a> <a class="rfc2119" href="#h-conform"><em>must not</em></a> let the attempted access succeed. Instead, the <span id="ref-for-resource-server⑤⑥">resource server</span> <a class="rfc2119" href="#h-conform"><em>must</em></a> pass this parameter to the <a data-link-type="dfn" href="#client" id="ref-for-client①⑥">client</a> in the `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.www-authenticate" id="ref-for-field.www-authenticate">WWW<c- o>-</c->Authenticate</a></code>` header of a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.401" id="ref-for-status.401"><c- mf>401</c-></a></code>` response, with the scheme <code class="highlight">UMA</code>, and the <code class="highlight">issuer</code> <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> of the <span id="ref-for-authorization-server⑨①">authorization server</span> as an additional parameter <code class="highlight">as_uri</code>, as specified in <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#permission-success-to-client">§ 3.2.1</a> (see also <a data-link-type="biblio" href="#biblio-rfc9110" title="HTTP Semantics">[RFC9110]</a>, <a href="https://httpwg.org/specs/rfc9110.html#field.www-authenticate">§ 11.6.1</a>).</p>
     </ul>
     <p>For example:</p>
<pre class="language-http highlight"><c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c-> <c- m>401</c-> <c- ne>Unauthorized</c->
<c- e>WWW-Authenticate</c-><c- o>:</c-> <c- l>UMA</c->
  <c- l>as_uri="https://as.example.com",</c->
  <c- l>ticket="016f84e8-f9b9-11e0-bd6f-0021cc6004de"</c->
...
</pre>
     <p class="issue" id="issue-2e30079c"><a class="self-link" href="#issue-2e30079c"></a> look into particular use of realm parameter (vs scope) to limit protection space for user/ticket/type</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="7.3" id="h-fed-res-ticket"><span class="secno">7.3. </span><span class="content">Requesting a Ticket</span><a class="self-link" href="#h-fed-res-ticket"></a></h3>
     <p>When a client application makes an unauthorized attempt to access resources on an <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤⑦">resource server</a> – with an invalid access token, or none at all – the <span id="ref-for-resource-server⑤⑧">resource server</span> can request a <a data-link-type="dfn" href="#permission-ticket" id="ref-for-permission-ticket">permission ticket</a> from the relevant <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨②">authorization server</a>, and provide the ticket to the <a data-link-type="dfn" href="#client" id="ref-for-client①⑦">client</a> as an indication of the scope of the attempted access, while pointing the <span id="ref-for-client①⑧">client</span> to the <span id="ref-for-authorization-server⑨③">authorization server</span>, as described in <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#permission-endpoint">§ 4</a>.</p>
     <p>As specified in <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.4.1">§ 4.1</a>, the ticket is requested by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#POST" id="ref-for-POST①">POST</a></code>` request to the <code class="highlight">permission_endpoint</code>, with an <code class="highlight">application<c- o>/</c->json</code> body containing a <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description">permission description</a> object, or an array of such ojects.</p>
     <p>Each <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description①">permission description</a> consists of the following fields.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="PermissionDescription" data-dfn-type="dict-member" data-noexport id="dom-permissiondescription-resource_id"><code class="highlight">resource_id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7④⑨">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. A string indicating the <a data-link-type="dfn" href="#resource" id="ref-for-resource①④">resource</a> in question, as known to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨④">authorization server</a>. (Note that this identifier might differ from any related <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> at the side of the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑤⑨">resource server</a>).</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="PermissionDescription" data-dfn-type="dict-member" data-noexport id="dom-permissiondescription-resource_scopes"><code class="highlight">resource_scopes</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⓪">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. An array of strings representing the scopes requested for the <a data-link-type="dfn" href="#resource" id="ref-for-resource①⑤">resource</a> in question.</p>
     </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-permissiondescription"><code class="highlight"><c- g>PermissionDescription</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-permissiondescription-resource_id" id="ref-for-dom-permissiondescription-resource_id"><c- g>resource_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-permissiondescription-resource_scopes" id="ref-for-dom-permissiondescription-resource_scopes①"><c- g>resource_scopes</c-></a>;
};
</pre>
     <p>Upon receiving a <a data-link-type="dfn" href="#access-request" id="ref-for-access-request">permission request</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⑤">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> process it according to the following algorithm.</p>
     <ol>
      <li data-md>
       <p><strong>Create a new <a data-link-type="dfn">ticket</a></strong>, with an identifier that is unique within the context formed by the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⓪">resource server</a> and the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⑥">authorization server</a> itself.</p>
      <li data-md>
       <p>For each <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description②">permission description</a> in the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request①">permission request</a>:</p>
       <ol>
        <li data-md>
         <p><strong>Check the validity</strong> of the <a data-link-type="dfn" href="https://w3c.github.io/i18n-glossary/#dfn-resource-identifier" id="ref-for-dfn-resource-identifier">resource identifier</a> and <a data-link-type="dfn">scope identifiers</a>.</p>
         <ul>
          <li data-md>
           <p>If the <a data-link-type="dfn" href="https://w3c.github.io/i18n-glossary/#dfn-resource-identifier" id="ref-for-dfn-resource-identifier①">resource identifier</a> is invalid, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⑦">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> send an error response to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥①">resource server</a> with error code <code class="highlight">invalid_resource_id</code> (cf. <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.6">§ 6</a>).</p>
          <li data-md>
           <p>If a <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-registrationresponse-_id" id="ref-for-dom-registrationresponse-_id②">_id</a></code>) is invalid, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⑧">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> send an error response to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥②">resource server</a> with error code <code class="highlight">invalid_scope</code> (cf. <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.6">§ 6</a>).</p>
         </ul>
        <li data-md>
         <p><strong>Add the details</strong> of the <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description③">permission description</a> to the newly created <a data-link-type="dfn">ticket</a>.</p>
       </ol>
     </ol>
     <p>According to <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.4.2">§ 4.2</a>, a successful permission request results in a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.201" id="ref-for-status.201②"><c- mf>201</c-></a></code>` response containing the <code class="highlight">ticket</code> parameter in an <code class="highlight">application<c- o>/</c->json</code> body.</p>
     <p><abbr title="Authorization for Data Spaces">A4DS</abbr> extends the possible responses of the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server⑨⑨">authorization server</a> to a permission request, to enable better integration with public resources. When the <span id="ref-for-authorization-server①⓪⓪">authorization server</span> can detect within reasonable time that the resources in question are publically accessible, it <a class="rfc2119" href="#h-conform"><em>should</em></a> signal this to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥③">resource server</a> by sending a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.200" id="ref-for-status.200⑤"><c- mf>200</c-></a></code>` response without a body instead. This way, the <span id="ref-for-resource-server⑥④">resource server</span> can allow the <a data-link-type="dfn" href="#client" id="ref-for-client①⑨">client</a> to access public resources without a round-trip to the <span id="ref-for-authorization-server①⓪①">authorization server</span>, thus increasing performance and making public resources accessible for clients that are not aware of the UMA protocol.</p>
    </section>
   </article>
   <article>
    <h2 class="heading settled" data-level="8" id="h-authz"><span class="secno">8. </span><span class="content">Requesting access at the authorization server</span><a class="self-link" href="#h-authz"></a></h2>
    <p>In order to access <a data-link-type="dfn" href="#protected-resource" id="ref-for-protected-resource⑤">protected resources</a> at the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⑤">resource server</a>, <a data-link-type="dfn" href="#client" id="ref-for-client②⓪">clients</a> request permission to do so at the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪②">authorization server</a> by sending an <a data-link-type="dfn" href="#access-request" id="ref-for-access-request②">access request</a>: a `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#POST" id="ref-for-POST②">POST</a></code>` request to the <span id="ref-for-authorization-server①⓪③">authorization server’s</span> <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint" id="ref-for-:~:text=token_endpoint①">token endpoint</a>.</p>
    <p>It is <a class="rfc2119" href="#h-conform"><em>recommended</em></a> that the body of the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request③">access request</a> is encoded as <code class="highlight">application<c- o>/</c->json</code>; the <a data-link-type="dfn" href="#client" id="ref-for-client②①">client</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> alternatively send it in <code class="highlight">application<c- o>/</c->x<c- o>-</c->www<c- o>-</c->form<c- o>-</c->urlencoded</code> form, as specified in <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a>, <a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3">§ 4.1.3</a> and exemplified in <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#uma-grant-type">§ 3.3.1</a>. The following common parameters are supported, complemented by the ones listed in <a href="#h-authz-ticket">§ 8.1 Requesting access with a permission ticket</a> or <a href="#h-authz-no-ticket">§ 8.2 Requesting access without a permission ticket</a>, depending on the use case.</p>
    <p class="issue" id="issue-91a62579"><a class="self-link" href="#issue-91a62579"></a> Go into the combination of <code class="highlight">permissions</code> and <code class="highlight">ticket</code>.</p>
    <p class="issue" id="issue-18018e83"><a class="self-link" href="#issue-18018e83"></a> add support for Rich Authorization Requests and/or JWT-Secured Authorization Requests and/or Pushed Authorization Requests.</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-grant_type"><code class="highlight">grant_type</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤③">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>required</em></a> when presenting a ticket. The type of the [OAuth20] grant presented at the <a data-link-type="dfn" href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint" id="ref-for-:~:text=token_endpoint②">token endpoint</a>. Within the context of <abbr title="User-Managed Access">UMA</abbr>, the value <a class="rfc2119" href="#h-conform"><em>must</em></a> be <code class="highlight">urn<c- o>:</c->ietf<c- o>:</c->params<c- o>:</c->oauth<c- o>:</c->grant<c- o>-</c->type<c- o>:</c->uma<c- o>-</c->ticket</code>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-claim_token"><code class="highlight">claim_token</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤④">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. Directly pushed claim information, provided either on the first or on subsequent requests in the authorization flow. The value is a string, formatted as indicated by the <code class="highlight">claim_token_format</code> parameter. Unless explicitly specified by the indicated format, the string is <code class="highlight">base64url</code> encoded <a data-link-type="biblio" href="#biblio-rfc4648" title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</a>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-claim_token_format"><code class="highlight">claim_token_format</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⑤">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>required</em></a> if the <code class="highlight">claim_token</code> parameter is present. A string specifying the format of the directly pushed claim token. The value <a class="rfc2119" href="#h-conform"><em>should</em></a> be a <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>, e.g., <code class="highlight">http<c- o>:</c-><c- c1>//openid.net/specs/openid-connect-core-1_0.html#IDToken</c-></code>.</p>
      <p>If <code class="highlight">claim_token</code> parameter is not present, the <a data-link-type="dfn" href="#client" id="ref-for-client②②">client</a> [SHOULD NOT] include the <code class="highlight">claim_token_format</code> parameter either. If it is present in an <a data-link-type="dfn" href="#access-request" id="ref-for-access-request④">access request</a> without a <code class="highlight">claim_token</code> parameter anyway, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪④">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> ignore it.</p>
    </dl>
    <p class="issue" id="issue-a6e28b1e"><a class="self-link" href="#issue-a6e28b1e"></a> add usage of Persistent Claims Tokens and upgrading of RPTs</p>
    <section>
     <h3 class="heading settled" data-level="8.1" id="h-authz-ticket"><span class="secno">8.1. </span><span class="content">Requesting access <strong>with</strong> a permission ticket</span><a class="self-link" href="#h-authz-ticket"></a></h3>
     <p>Having received a <a data-link-type="dfn" href="#permission-ticket" id="ref-for-permission-ticket①">permission ticket</a> from the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⑥">resource server</a>, the <a data-link-type="dfn" href="#client" id="ref-for-client②③">client</a> can turn to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪⑤">authorization server</a> to request access for the <a data-link-type="dfn" href="#resource" id="ref-for-resource①⑥">resource(s)</a> and <a data-link-type="dfn" href="#scope" id="ref-for-scope⑦">scope(s)</a> represented by the <a data-link-type="dfn">ticket</a>. In addition to the common parameters listed above (cf. <a href="#h-authz">§ 8 Requesting access at the authorization server</a>), such a request <a class="rfc2119" href="#h-conform"><em>must</em></a> contain the following parameters.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-ticket"><code class="highlight">ticket</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⑥">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a> when presenting a ticket. The identifier of the <a data-link-type="dfn" href="#permission-ticket" id="ref-for-permission-ticket②">permission ticket</a> that the <a data-link-type="dfn" href="#client" id="ref-for-client②④">client</a> received from the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⑦">resource server</a>.</p>
     </dl>
     <p>For example:</p>
<pre class="language-http highlight"><c- nf>POST</c-> <c- nn>/token</c-> <c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c->
<c- e>Host</c-><c- o>:</c-> <c- l>as.example.com</c->
<c- e>Content-Type</c-><c- o>:</c-> <c- l>application/json</c->
...

<c- p>{</c->
  <c- f>"grant_type"</c-><c- p>:</c-> <c- u>"urn:ietf:params:oauth:grant-type:uma-ticket"</c-><c- p>,</c->
  <c- f>"ticket"</c-><c- p>:</c-> <c- u>"016f84e8-f9b9-11e0-bd6f-0021cc6004de"</c-><c- p>,</c->
  <c- f>"claim_token_format"</c-><c- p>:</c-> <c- u>"http://openid.net/specs/openid-connect-core-1_0.html#IDToken"</c-><c- p>,</c->
  <c- f>"claim_token"</c-><c- p>:</c-> <c- u>"eyj0..."</c->
<c- p>}</c->
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="8.2" id="h-authz-no-ticket"><span class="secno">8.2. </span><span class="content">Requesting access <strong>without</strong> a permission ticket</span><a class="self-link" href="#h-authz-no-ticket"></a></h3>
     <p>For <a data-link-type="dfn" href="#client" id="ref-for-client②⑤">clients</a> that know the <a data-link-type="dfn" href="#resource" id="ref-for-resource①⑦">resource(s)</a> and <a data-link-type="dfn" href="#scope" id="ref-for-scope⑧">scope(s)</a> they want to access, the <abbr title="Authorization for Data Spaces">A4DS</abbr> profile adds a shortcut that saves them the initial request to the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⑧">resource server</a>. Instead, those <span id="ref-for-client②⑥">clients</span> <a class="rfc2119" href="#h-conform"><em>may</em></a> address the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪⑥">authorization server</a> directly, and include the <span id="ref-for-resource①⑧">resource(s)</span> and <span id="ref-for-scope⑨">scope(s)</span> directly under the <code class="highlight">permissions</code> parameter.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-permissions"><code class="highlight">permissions</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⑦">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>required</em></a> when requesting permissions directly. The <a data-link-type="dfn" href="#resource" id="ref-for-resource①⑨">resource(s)</a> and <a data-link-type="dfn" href="#scope" id="ref-for-scope①⓪">scope(s)</a> the <a data-link-type="dfn" href="#client" id="ref-for-client②⑦">client</a> requests access to. The format of this field is identical to that of the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request⑤">permission request</a> described in <a href="#h-fed-res-ticket">§ 7.3 Requesting a Ticket</a>: a <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description④">permission description</a> object or an array of such objects.</p>
     </dl>
     <p class="note" role="note"><span class="marker">NOTE:</span> Keycloak employs a similar approach, but restricts the value of their <code class="highlight">permission</code> parameter to a single string encoding of <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> data. Keycloak also allows such requests to target specific resource URIs, so their AS knows more than a standard UMA server.</p>
     <p>For example:</p>
<pre class="language-http highlight"><c- nf>POST</c-> <c- nn>/token</c-> <c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c->
<c- e>Host</c-><c- o>:</c-> <c- l>as.example.com</c->
<c- e>Content-Type</c-><c- o>:</c-> <c- l>application/json</c->
...

<c- p>{</c->
  <c- f>"permissions"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"resource_id"</c-><c- p>:</c-> <c- u>"KX3A-39WE"</c-><c- p>,</c->
    <c- f>"resource_scopes"</c-><c- p>:</c-> <c- p>[</c-> 
    <c- u>"post-updates"</c-><c- p>,</c->
    <c- u>"http://photoz.example.com/dev/scopes/print"</c->
    <c- p>]</c->
  <c- p>},</c->
  <c- f>"claim_token_format"</c-><c- p>:</c-> <c- u>"http://openid.net/specs/openid-connect-core-1_0.html#IDToken"</c-><c- p>,</c->
  <c- f>"claim_token"</c-><c- p>:</c-> <c- u>"eyj0..."</c->
<c- p>}</c->
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="8.3" id="h-authz-extra-scopes"><span class="secno">8.3. </span><span class="content">Requesting extra 'global scopes'</span><a class="self-link" href="#h-authz-extra-scopes"></a></h3>
     <p>The <abbr title="User-Managed Access">UMA</abbr> specification allows the traditional <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a> <code class="highlight">scope</code> parameter to be added to an <a data-link-type="dfn" href="#access-request" id="ref-for-access-request⑥">access request</a>, regardless of the <a data-link-type="dfn" href="#scope" id="ref-for-scope①①">scopes</a> present in the <a data-link-type="dfn">ticket</a> or in the <code class="highlight">permissions</code> parameter. Each <span id="ref-for-scope①②">scope</span> requested in this way applies to all <a data-link-type="dfn" href="#resource" id="ref-for-resource②⓪">resources</a> to which the <span id="ref-for-access-request⑦">access request</span> pertains. <a data-link-type="dfn" href="#client" id="ref-for-client②⑧">Clients</a> can only request such '<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/worklets.html#concept-worklet-global-scopes" id="ref-for-concept-worklet-global-scopes">global scopes</a>' if they have been pre-registered for those <span id="ref-for-scope①③">scopes</span> through a static or dynamic registration client registration mechanism.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="AccessRequest" data-dfn-type="dict-member" data-noexport id="dom-accessrequest-scope"><code class="highlight">scope</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⑧">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>not recommended</em></a> A string of space-separated scope identifiers, requesting extra scopes, for which the <a data-link-type="dfn" href="#client" id="ref-for-client②⑨">client</a> has been pre-registered, that apply to all requested resources.</p>
     </dl>
     <p>The <abbr title="Authorization for Data Spaces">A4DS</abbr> profile discourages <a data-link-type="dfn" href="#access-request" id="ref-for-access-request⑧">access requests</a> for such <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/worklets.html#concept-worklet-global-scopes" id="ref-for-concept-worklet-global-scopes①">global scopes</a>. To request resource-specific <a data-link-type="dfn" href="#scope" id="ref-for-scope①④">scopes</a> that are not included in a <a data-link-type="dfn">ticket</a> from the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑥⑨">resource server</a>, it is preferable to use the <code class="highlight">permissions</code> parameter specified in <a href="#h-authz-no-ticket">§ 8.2 Requesting access without a permission ticket</a>.</p>
     <p class="issue" id="issue-0423f625"><a class="self-link" href="#issue-0423f625"></a> consider simply disallowing this, and letting 'scope' double as 'permissions', with permission descriptions without a resource id functioning as 'global scopes' (and similar without scope ids functioning as all scopes on one resource).</p>
    </section>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-accessrequest"><code class="highlight"><c- g>AccessRequest</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑤⑨"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-grant_type" id="ref-for-dom-accessrequest-grant_type"><c- g>grant_type</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⓪"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-claim_token" id="ref-for-dom-accessrequest-claim_token"><c- g>claim_token</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-claim_token_format" id="ref-for-dom-accessrequest-claim_token_format"><c- g>claim_token_format</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-ticket" id="ref-for-dom-accessrequest-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥③"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-permissions" id="ref-for-dom-accessrequest-permissions"><c- g>permissions</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-scope" id="ref-for-dom-accessrequest-scope"><c- g>scope</c-></a>;
};
</pre>
   </article>
   <article>
    <h2 class="heading settled" data-level="9" id="h-claims"><span class="secno">9. </span><span class="content">Claims</span><a class="self-link" href="#h-claims"></a></h2>
    <p><a data-link-type="dfn" href="#claim" id="ref-for-claim">Claims</a> are the units of authentication required and provided during the <a data-link-type="dfn" href="#authorization-process" id="ref-for-authorization-process③">authorization process</a>. They are statements encoded in <a data-link-type="dfn" href="#claim-token" id="ref-for-claim-token">claim tokens</a>: exchangeable – and typically verifiable – serialisations of one or more claims, according to a <a data-link-type="dfn" href="#claim-token-format" id="ref-for-claim-token-format">claim token format</a>.</p>
    <section>
     <h3 class="heading settled" data-level="9.1" id="h-claims-description"><span class="secno">9.1. </span><span class="content">Claim descriptions</span><a class="self-link" href="#h-claims-description"></a></h3>
     <p>Metadata about a <a data-link-type="dfn" href="#claim" id="ref-for-claim①">claim</a>, that is relevant for processing it or presenting it to an <a data-link-type="dfn" href="#agent" id="ref-for-agent④">agent</a>, can be expressed in a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="claim-description">claim description</dfn>, containing the following parameters.</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClaimDescription" data-dfn-type="dict-member" data-noexport id="dom-claimdescription-claim_token_format"><code class="highlight">claim_token_format</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⑤">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A string, or array of strings, indicating the (acceptable) token formats of a claim. The values <a class="rfc2119" href="#h-conform"><em>should</em></a> be <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>s.</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClaimDescription" data-dfn-type="dict-member" data-noexport id="dom-claimdescription-claim_type"><code class="highlight">claim_type</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⑥">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A string, or array of strings, indicating the (expected) semantic type/interpretation of a claim value. The values <a class="rfc2119" href="#h-conform"><em>should</em></a> be <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>s.</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClaimDescription" data-dfn-type="dict-member" data-noexport id="dom-claimdescription-issuer"><code class="highlight">issuer</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⑦">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A string, or array of strings, indicating the (acceptable) authorities issuing the claim. The values <a class="rfc2119" href="#h-conform"><em>should</em></a> be <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>s.</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClaimDescription" data-dfn-type="dict-member" data-noexport id="dom-claimdescription-name"><code class="highlight">name</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⑧">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A string that uniquely identifies the claim within context in which the <a data-link-type="dfn" href="#claim-description" id="ref-for-claim-description">claim description</a> is used. The value <a class="rfc2119" href="#h-conform"><em>should</em></a> be a <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a>.</p>
      <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ClaimDescription" data-dfn-type="dict-member" data-noexport id="dom-claimdescription-friendly_name"><code class="highlight">friendly_name</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑥⑨">string</a></span>
      <dd data-md>
       <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. A short human-readable string, which can be uses to display the claim in user interfaces.</p>
     </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-claimdescription"><code class="highlight"><c- g>ClaimDescription</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⓪"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-claim_token_format" id="ref-for-dom-claimdescription-claim_token_format"><c- g>claim_token_format</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-claim_type" id="ref-for-dom-claimdescription-claim_type"><c- g>claim_type</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-issuer" id="ref-for-dom-claimdescription-issuer"><c- g>issuer</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦③"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-name" id="ref-for-dom-claimdescription-name"><c- g>name</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-friendly_name" id="ref-for-dom-claimdescription-friendly_name"><c- g>friendly_name</c-></a>;
};
</pre>
     <p class="note" role="note"><span class="marker">NOTE:</span> Parameters taking an array as value are to be interpreted as the union/disjunction of its elements, i.e., they are to be read as "one of ..."</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="9.2" id="h-claims-formats"><span class="secno">9.2. </span><span class="content">Claim token formats</span><a class="self-link" href="#h-claims-formats"></a></h3>
     <p class="issue" id="issue-71947774"><a class="self-link" href="#issue-71947774"></a> clarify claim token formats, and discuss advertising them with a parameter separate from uma profiles</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="9.3" id="h-claims-prov"><span class="secno">9.3. </span><span class="content">Providing claims</span><a class="self-link" href="#h-claims-prov"></a></h3>
     <p><abbr title="User-Managed Access">UMA</abbr> provides two mechanisms for <a data-link-type="dfn" href="#requesting-party" id="ref-for-requesting-party⑥">requesting partys</a> to provide claims to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪⑦">authorization server</a>:</p>
     <ul>
      <li data-md>
       <p>Claims pushing: ... (Section 3.3.1)</p>
      <li data-md>
       <p>Interactive claims gathering: ... (Section 3.3.2)</p>
     </ul>
     <p class="issue" id="issue-b7b1e314"><a class="self-link" href="#issue-b7b1e314"></a> TODO</p>
     <section>
      <h4 class="heading settled" data-level="9.3.1" id="h-claims-prov-push"><span class="secno">9.3.1. </span><span class="content">Claims pushing</span><a class="self-link" href="#h-claims-prov-push"></a></h4>
      <p class="issue" id="issue-b7b1e314①"><a class="self-link" href="#issue-b7b1e314①"></a> TODO</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="9.3.2" id="h-claims-prov-gather"><span class="secno">9.3.2. </span><span class="content">Interactive claims gathering</span><a class="self-link" href="#h-claims-prov-gather"></a></h4>
      <p class="issue" id="issue-b7b1e314②"><a class="self-link" href="#issue-b7b1e314②"></a> TODO</p>
     </section>
    </section>
    <section></section>
   </article>
   <article>
    <h2 class="heading settled" data-level="10" id="h-eval"><span class="secno">10. </span><span class="content">Processing an access request</span><a class="self-link" href="#h-eval"></a></h2>
    <section>
     <h3 class="heading settled" data-level="10.1" id="h-eval-prep"><span class="secno">10.1. </span><span class="content">Completing the permission ticket</span><a class="self-link" href="#h-eval-prep"></a></h3>
     <p>Upon receiving an <a data-link-type="dfn" href="#access-request" id="ref-for-access-request⑨">access request</a>, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪⑧">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> process it according to the following algorithm.</p>
     <p class="issue" id="issue-2e697cae"><a class="self-link" href="#issue-2e697cae"></a> Go into the combination of <code class="highlight">permissions</code> and <code class="highlight">scope</code> (and possibly <code class="highlight">ticket</code>).</p>
     <ol>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request①⓪">access request</a> contains a <code class="highlight">ticket</code> parameter, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①⓪⑨">authorization server</a> looks up the corresponding <a data-link-type="dfn">ticket</a> in its knowledge base.</p>
       <ul>
        <li data-md>
         <p>If the value of the <code class="highlight">ticket</code> parameter is a valid ticket identifier, the corresponding <a data-link-type="dfn">ticket</a> is used as target of the request.</p>
        <li data-md>
         <p>If no <a data-link-type="dfn">ticket</a> with the corresponding identifier is found, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①⓪">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> respond with error code <code class="highlight">invalid_grant</code> (cf. <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.6">§ 6</a>).</p>
       </ul>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request①①">access request</a> contains a <code class="highlight">permissions</code> parameter, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>should</em></a> create a new <a data-link-type="dfn">ticket</a>, following the steps described in <a href="#h-fed-res-ticket">§ 7.3 Requesting a Ticket</a>. This <span>ticket</span> is then used as target of the request.</p>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request①②">access request</a> contains a <code class="highlight">scope</code> parameter:</p>
       <ol>
        <li data-md>
         <p><strong>Look up the metadata of the <a data-link-type="dfn" href="#client" id="ref-for-client③⓪">client</a></strong>, in particular the list of <a data-link-type="dfn" href="#scope" id="ref-for-scope①⑤">scopes</a> for which it is pre-registered.</p>
        <li data-md>
         <p>Split the string value of the <code class="highlight">scope</code> parameter on space characters.</p>
        <li data-md>
         <p>For each element of the split string:</p>
         <ul>
          <li data-md>
           <p>If the string is a <a data-link-type="dfn">scope identifier</a> (<code class="idl"><a data-link-type="idl" href="#dom-registrationresponse-_id" id="ref-for-dom-registrationresponse-_id③">_id</a></code>) present in the list of pre-registered <a data-link-type="dfn" href="#scope" id="ref-for-scope①⑥">scopes</a> of the <a data-link-type="dfn" href="#client" id="ref-for-client③①">client</a>: <strong>add the <a data-link-type="dfn" href="#scope" id="ref-for-scope①⑦">scope</a></strong> to the list of requested <span id="ref-for-scope①⑧">scopes</span> for each of the <a data-link-type="dfn" href="#permission-description" id="ref-for-permission-description⑤">permission descriptions</a> in the target <span>ticket</span>.</p>
           <p class="note" role="note"><span class="marker">NOTE:</span> the UMA algorithm keeps these separate, possibly allowing the extra scopes to vary between different messages in the authorization flow/negotiation... again, this seems to parallel the permissions object.</p>
          <li data-md>
           <p>If not, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①②">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> <strong>disregard</strong> the element, or send an error response with error code <code class="highlight">invalid_scope</code> (cf. <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#rfc.section.6">§ 6</a>).</p>
         </ul>
       </ol>
     </ol>
    </section>
    <section>
     <h3 class="heading settled" data-level="10.2" id="h-eval-engine"><span class="secno">10.2. </span><span class="content">Determining the policy decision</span><a class="self-link" href="#h-eval-engine"></a></h3>
     <p>After having completed the information in the permission ticket, it is time for the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①③">authorization server</a> to determine the authorization decision as a result of the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②⑤">resource owner’s</a> policies, applied to the available information.</p>
     <p>Just like <abbr title="User-Managed Access">UMA</abbr>, the <abbr title="Authorization for Data Spaces">A4DS</abbr> profile does not specify the mechanism by which this decision is to be made. On top of <abbr title="User-Managed Access">UMA</abbr>, however, this specification adds an interface through which an <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①④">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> communicate with any interoperable <a data-link-type="dfn" href="#policy-engine" id="ref-for-policy-engine">policy engine</a>, thereby clearly separating the domain of exchange and negotiation – between the <a data-link-type="dfn" href="#client" id="ref-for-client③②">client</a> and the <span id="ref-for-authorization-server①①⑤">authorization server</span> – from the domain of decision-making.</p>
     <p><abbr title="Authorization for Data Spaces">A4DS</abbr> therefore defines a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="policy-engine">policy engine</dfn> as any (implementation of an) algorithm that, given a complete permission ticket – including all requested permissions and all currently provided claims – can determine all active/operative policy conditions (and other relevant information, serving as state of the world), and evaluate their authorization status (i.e., compliance).</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="10.3" id="h-eval-token"><span class="secno">10.3. </span><span class="content">Granting an access token</span><a class="self-link" href="#h-eval-token"></a></h3>
     <p>When the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①⑥">authorization server</a> concludes that the provided claims are sufficient to grant the <a data-link-type="dfn" href="#client" id="ref-for-client③③">client</a> access to the requested resources, it responds with an <a data-link-type="dfn" href="#requesting-party-token" id="ref-for-requesting-party-token①">access token</a> and `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.authorization" id="ref-for-field.authorization①">Authorization</a></code>` scheme, as specified in <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#uma-grant-type">§ 3.3.5</a> (see also <a data-link-type="biblio" href="#biblio-rfc9110" title="HTTP Semantics">[RFC9110]</a>, <a href="https://httpwg.org/specs/rfc9110.html#field.authorization">§ 11.6.2</a>)).</p>
     <p>For example:</p>
<pre class="language-http highlight"><c- kr>HTTP</c-><c- o>/</c-><c- m>1.1</c-> <c- m>200</c-> <c- ne>OK</c->
<c- e>Content-Type</c-><c- o>:</c-> <c- l>application/json</c->
... 

<c- p>{</c-> 
  <c- f>"access_token"</c-><c- p>:</c-> <c- u>"sbjsbhs(/SSJHBSUSSJHVhjsgvhsgvshgsv"</c-><c- p>,</c->
  <c- f>"token_type"</c-><c- p>:</c-> <c- u>"Bearer"</c->
<c- p>}</c->
</pre>
     <p>The <a data-link-type="dfn" href="#client" id="ref-for-client③④">client</a> can then use this <a data-link-type="dfn" href="#requesting-party-token" id="ref-for-requesting-party-token②">access token</a> to access the required resources at the <a data-link-type="dfn" href="#resource-server" id="ref-for-resource-server⑦⓪">resource server</a> (cf. <a href="#h-access-token">§ 7.1 Attempting access with a token</a>).</p>
    </section>
   </article>
   <section>
    <h2 class="heading settled" data-level="11" id="h-errors"><span class="secno">11. </span><span class="content">Error messages</span><a class="self-link" href="#h-errors"></a></h2>
    <p>If any interaction with the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①⑦">authorization server</a> fails, the latter <a class="rfc2119" href="#h-conform"><em>must</em></a> respond with an error message, to inform the other party of the error. An error message is a HTTP response message with a status code in the ranges <code class="highlight"><c- mf>4</c->xx</code> or <code class="highlight"><c- mf>5</c->xx</code>. An error message <a class="rfc2119" href="#h-conform"><em>may</em></a> contain an error description, which is a <a data-link-type="biblio" href="#biblio-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a> object with the following parameters, as defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a>, <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a>, and <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a>.</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorDescription" data-dfn-type="dict-member" data-noexport id="dom-errordescription-error"><code class="highlight">error</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⑤">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>required</em></a>.  A string containing an error code.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorDescription" data-dfn-type="dict-member" data-noexport id="dom-errordescription-error_description"><code class="highlight">error_description</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⑥">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>.  A string containing human-readable information about the error.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorDescription" data-dfn-type="dict-member" data-noexport id="dom-errordescription-error_uri"><code class="highlight">error_uri</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⑦">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>.  A string containing the <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> reference of a web page with human-readable information about the error.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorDescription" data-dfn-type="dict-member" data-noexport id="dom-errordescription-state"><code class="highlight">state</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⑧">string</a></span>
     <dd data-md>
      <p><a class="rfc2119" href="#h-conform"><em>required</em></a> if a <code class="highlight">state</code> parameter was present in the request that triggered the error. The value <a class="rfc2119" href="#h-conform"><em>must</em></a> be the unaltered value of the <code class="highlight">state</code> parameter in that request.</p>
    </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-errordescription"><code class="highlight"><c- g>ErrorDescription</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑦⑨"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error" id="ref-for-dom-errordescription-error"><c- g>error</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⓪"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error_description" id="ref-for-dom-errordescription-error_description"><c- g>error_description</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error_uri" id="ref-for-dom-errordescription-error_uri"><c- g>error_uri</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-state" id="ref-for-dom-errordescription-state"><c- g>state</c-></a>;
};
</pre>
    <p>The possible error codes defined by <a data-link-type="biblio" href="#biblio-uma-grant" title="User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization">[UMA-Grant]</a> and <a data-link-type="biblio" href="#biblio-uma-fed" title="Federated Authorization for User-Managed Access (UMA) 2.0">[UMA-Fed]</a> are the following.</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;invalid_resource_id&quot;|invalid_resource_id" data-noexport id="dom-errorcode-invalid_resource_id"><code class="highlight">invalid_resource_id</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400"><c- mf>400</c-></a></code>`. At least one of the provided resource identifiers was not found at the authorization server.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;need_info&quot;|need_info" data-noexport id="dom-errorcode-need_info"><code class="highlight">need_info</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.403" id="ref-for-status.403"><c- mf>403</c-></a></code>`. The authorization server needs additional information in order for a request to succeed, for example, a provided claim token was invalid or expired, or had an incorrect format, or additional claims are needed to complete the authorization assessment.</p>
      <p>Error descriptions with this error code <a class="rfc2119" href="#h-conform"><em>must</em></a> additionally include the following parameters:</p>
      <dl>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="NeedInfoError" data-dfn-type="dict-member" data-noexport id="dom-needinfoerror-ticket"><code class="highlight">ticket</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧③">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. A permission ticket that allows the client to make a further request to the authorization server’s token endpoint as part of this same authorization process, potentially immediately. The value MUST NOT be the same as the one the client used to make its request.</p>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="NeedInfoError" data-dfn-type="dict-member" data-noexport id="dom-needinfoerror-required_claims"><code class="highlight">required_claims</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧④">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>required</em></a> if <code class="highlight">redirect_user</code> not present, <a class="rfc2119" href="#h-conform"><em>optional</em></a> otherwise. An array of objects that describe the required claims.</p>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="NeedInfoError" data-dfn-type="dict-member" data-noexport id="dom-needinfoerror-redirect_user"><code class="highlight">redirect_user</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⑤">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>required</em></a> if <code class="highlight">required_claims</code> not present, <a class="rfc2119" href="#h-conform"><em>optional</em></a> otherwise. The claims interaction endpoint URI to which to redirect the end-user requesting party at the authorization server to continue the process of interactive claims gathering. If the requesting party is not an end-user, then no client action is possible on receiving the hint.</p>
      </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-noexport id="dictdef-needinfoerror"><code class="highlight"><c- g>NeedInfoError</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-errordescription" id="ref-for-dictdef-errordescription"><c- n>ErrorDescription</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⑥"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-ticket" id="ref-for-dom-needinfoerror-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⑦"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-required_claims" id="ref-for-dom-needinfoerror-required_claims"><c- g>required_claims</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⑧"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-redirect_user" id="ref-for-dom-needinfoerror-redirect_user"><c- g>redirect_user</c-></a>;
};
</pre>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;request_denied&quot;|request_denied" data-noexport id="dom-errorcode-request_denied"><code class="highlight">request_denied</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.403" id="ref-for-status.403①"><c- mf>403</c-></a></code>`. The client is not authorized to have these permissions.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;request_submitted&quot;|request_submitted" data-noexport id="dom-errorcode-request_submitted"><code class="highlight">request_submitted</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.403" id="ref-for-status.403②"><c- mf>403</c-></a></code>`. The authorization server requires intervention by the resource owner to determine whether the client is authorized to have these permissions.</p>
      <p>Error descriptions with this error code <a class="rfc2119" href="#h-conform"><em>must</em></a> additionally include the following parameters:</p>
      <dl>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="RequestSubmittedError" data-dfn-type="dict-member" data-noexport id="dom-requestsubmittederror-ticket"><code class="highlight">ticket</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑧⑨">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>required</em></a>. A permission ticket that allows the client to make one or more later polling requests to the token endpoint as part of this same authorization process, when the resource owner might have completed some approval (or denial) action. The value MUST NOT be the same as the one the client used to make its request.</p>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="RequestSubmittedError" data-dfn-type="dict-member" data-noexport id="dom-requestsubmittederror-interval"><code class="highlight">interval</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨⓪">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. The minimum amount of time in seconds that the client SHOULD wait between polling requests to the token endpoint. See Section 5.5 for security considerations in scenarios involving polling and consequences for permission ticket lifetimes.</p>
      </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-noexport id="dictdef-requestsubmittederror"><code class="highlight"><c- g>RequestSubmittedError</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-errordescription" id="ref-for-dictdef-errordescription①"><c- n>ErrorDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨①"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-requestsubmittederror-ticket" id="ref-for-dom-requestsubmittederror-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨②"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-requestsubmittederror-interval" id="ref-for-dom-requestsubmittederror-interval"><c- g>interval</c-></a>;
};
</pre>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;not_found&quot;|not_found" data-noexport id="dom-errorcode-not_found"><code class="highlight">not_found</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.404" id="ref-for-status.404"><c- mf>404</c-></a></code>`. The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①⑧">authorization server</a> cannot find the referenced <a data-link-type="dfn" href="#resource" id="ref-for-resource②①">resource</a>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;unsupported_method_type&quot;|unsupported_method_type" data-noexport id="dom-errorcode-unsupported_method_type"><code class="highlight">unsupported_method_type</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.405" id="ref-for-status.405"><c- mf>405</c-></a></code>`. The request used an unsupported HTTP method.</p>
    </dl>
    <p>The <abbr title="Authorization for Data Spaces">A4DS</abbr> profile adds the following error codes.</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-noexport id="dom-errorcode-non_empty_collections"><code class="highlight">non_empty_collections</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.409" id="ref-for-status.409①"><c- mf>409</c-></a></code>`. The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①①⑨">authorization server</a> does not support deletion of assets that are the source of non-empty collections.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-noexport id="dom-errorcode-need_interaction"><code class="highlight">need_interaction</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header"><c- mf>424</c-></a></code>`. To continue processing the request, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②⓪">authorization server</a> needs to interact with the <a data-link-type="dfn" href="#resource-owner" id="ref-for-resource-owner②⑥">resource owner</a>.</p>
      <p>Error descriptions with this error code <a class="rfc2119" href="#h-conform"><em>must</em></a> additionally include the following parameters:</p>
      <dl>
       <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="NeedInteractionError" data-dfn-type="dict-member" data-noexport id="dom-needinteractionerror-redirect_user"><code class="highlight">redirect_user</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨③">string</a></span>
       <dd data-md>
        <p><a class="rfc2119" href="#h-conform"><em>optional</em></a>. The interaction endpoint URI to which to redirect the end-user requesting party at the authorization server to continue the process of asset management. If the requesting party is not an end-user, then no client action is possible on receiving the hint.</p>
      </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-noexport id="dictdef-needinteractionerror"><code class="highlight"><c- g>NeedInteractionError</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-errordescription" id="ref-for-dictdef-errordescription②"><c- n>ErrorDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7" id="ref-for-section-7⑨④"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinteractionerror-redirect_user" id="ref-for-dom-needinteractionerror-redirect_user①"><c- g>redirect_user</c-></a>;
};
</pre>
    </dl>
    <p>Additionally, if no more specific error code can describe the error better, the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②①">authorization server</a> <a class="rfc2119" href="#h-conform"><em>may</em></a> respond with the following error codes defined by <a data-link-type="biblio" href="#biblio-oauth20" title="The OAuth 2.0 Authorization Framework">[OAuth20]</a>:</p>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;unsupported_grant_type&quot;|unsupported_grant_type" data-noexport id="dom-errorcode-unsupported_grant_type"><code class="highlight">unsupported_grant_type</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400①"><c- mf>400</c-></a></code>`. The provided grant type is not supported by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②②">authorization server</a>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;unsupported_response_type&quot;|unsupported_response_type" data-noexport id="dom-errorcode-unsupported_response_type"><code class="highlight">unsupported_response_type</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400②"><c- mf>400</c-></a></code>`. The requested response type is not supported by the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②③">authorization server</a>.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;invalid_request&quot;|invalid_request" data-noexport id="dom-errorcode-invalid_request"><code class="highlight">invalid_request</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400③"><c- mf>400</c-></a></code>`. The request is invalid, e.g., it has missing or invalid parameters.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;invalid_scope&quot;|invalid_scope" data-noexport id="dom-errorcode-invalid_scope"><code class="highlight">invalid_scope</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400④"><c- mf>400</c-></a></code>`. The requested scope is invalid or not known to the <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②④">authorization server</a>. At least one of the scopes included in the request does not match an available scope for any of the resources associated with requested permissions for the permission ticket provided by the client. The authorization server MAY also return this error when at least one of the scopes included in the request does not match a scope for which the client is pre-registered with the authorization server.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;invalid_grant&quot;|invalid_grant" data-noexport id="dom-errorcode-invalid_grant"><code class="highlight">invalid_grant</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400⑤"><c- mf>400</c-></a></code>`. The provided grant is expired, revoked, or otherwise invalid.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;invalid_client&quot;|invalid_client" data-noexport id="dom-errorcode-invalid_client"><code class="highlight">invalid_client</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400⑥"><c- mf>400</c-></a></code>`, or `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.401" id="ref-for-status.401①"><c- mf>401</c-></a></code>` with `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#field.www-authenticate" id="ref-for-field.www-authenticate①">WWW<c- o>-</c->Authenticate</a></code>` header. Client authentication failed, e.g., the client is unknown, did not provide authentication, or attempted an unsupported authentication method).</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;unauthorized_client&quot;|unauthorized_client" data-noexport id="dom-errorcode-unauthorized_client"><code class="highlight">unauthorized_client</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400⑦"><c- mf>400</c-></a></code>`, or `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.403" id="ref-for-status.403③"><c- mf>403</c-></a></code>`. The client is successfully authenticated but not authorized to use this grant type.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;access_denied&quot;|access_denied" data-noexport id="dom-errorcode-access_denied"><code class="highlight">access_denied</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400⑧"><c- mf>400</c-></a></code>`, or `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.403" id="ref-for-status.403④"><c- mf>403</c-></a></code>`. The access request is denied.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;temporarily_unavailable&quot;|temporarily_unavailable" data-noexport id="dom-errorcode-temporarily_unavailable"><code class="highlight">temporarily_unavailable</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400⑨"><c- mf>400</c-></a></code>`. The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②⑤">authorization server</a> is temporarily unable to process the request.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ErrorCode" data-dfn-type="enum-value" data-lt="&quot;server_error&quot;|server_error" data-noexport id="dom-errorcode-server_error"><code class="highlight">server_error</code></dfn>
     <dd data-md>
      <p>Status code `<code class="highlight"><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110#status.400" id="ref-for-status.400①⓪"><c- mf>400</c-></a></code>`. The <a data-link-type="dfn" href="#authorization-server" id="ref-for-authorization-server①②⑥">authorization server</a> could not process the request due to unforeseen circumstances.</p>
    </dl>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-errorcode"><code class="highlight"><c- g>ErrorCode</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-access_denied" id="ref-for-dom-errorcode-access_denied"><c- s>"access_denied"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_client" id="ref-for-dom-errorcode-invalid_client"><c- s>"invalid_client"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_grant" id="ref-for-dom-errorcode-invalid_grant"><c- s>"invalid_grant"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_request" id="ref-for-dom-errorcode-invalid_request"><c- s>"invalid_request"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_resource_id" id="ref-for-dom-errorcode-invalid_resource_id"><c- s>"invalid_resource_id"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_scope" id="ref-for-dom-errorcode-invalid_scope"><c- s>"invalid_scope"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-need_info" id="ref-for-dom-errorcode-need_info"><c- s>"need_info"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-not_found" id="ref-for-dom-errorcode-not_found"><c- s>"not_found"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-request_denied" id="ref-for-dom-errorcode-request_denied"><c- s>"request_denied"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-request_submitted" id="ref-for-dom-errorcode-request_submitted"><c- s>"request_submitted"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-server_error" id="ref-for-dom-errorcode-server_error"><c- s>"server_error"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-temporarily_unavailable" id="ref-for-dom-errorcode-temporarily_unavailable"><c- s>"temporarily_unavailable"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unauthorized_client" id="ref-for-dom-errorcode-unauthorized_client"><c- s>"unauthorized_client"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_grant_type" id="ref-for-dom-errorcode-unsupported_grant_type"><c- s>"unsupported_grant_type"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_method_type" id="ref-for-dom-errorcode-unsupported_method_type"><c- s>"unsupported_method_type"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_response_type" id="ref-for-dom-errorcode-unsupported_response_type"><c- s>"unsupported_response_type"</c-></a>
};
</pre>
   </section>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="h-conform"><span class="content">Conformance</span><a class="self-link" href="#h-conform"></a></h2>
   <p>Conformance requirements are expressed in the normative parts of this document, using a combination of descriptive assertions and <a data-biblio-display="inline" data-link-type="biblio" href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. All the text of this specification is normative, except for sections starting with the declaration "<em>This section is non-normative.</em>", and the specific informative parts mentioned below.</p>
   <p>The key words "<a class="rfc2119" href="#h-conform"><em>must</em></a>", "<a class="rfc2119" href="#h-conform"><em>must not</em></a>", "<a class="rfc2119" href="#h-conform"><em>required</em></a>", "<a class="rfc2119" href="#h-conform"><em>shall</em></a>", "<a class="rfc2119" href="#h-conform"><em>shall not</em></a>", "<a class="rfc2119" href="#h-conform"><em>should</em></a>", "<a class="rfc2119" href="#h-conform"><em>should not</em></a>", "<a class="rfc2119" href="#h-conform"><em>recommended</em></a>", "<a class="rfc2119" href="#h-conform"><em>may</em></a>", and "<a class="rfc2119" href="#h-conform"><em>optional</em></a>" are to be interpreted as described in <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>. For readability, in styled versions of this document these key words will be styled to stand out from the text.</p>
   <p>Apart from sections explicitly declaring themselves to be non-normative, the informative parts of this document include <strong>examples</strong>, <strong>notes</strong>, <strong>assertions</strong>, <strong>advisements</strong>, and <strong>issues</strong>. These parts are either explicitly introduced, e.g., "For example", "Note that" – in which case they are typically limited to the end of the section or paragraph in which they occur – or they are set apart from the normative text by assigning them a markup class, .e.g, <code class="highlight"><c- a>class</c-><c- o>=</c-><c- u>"advisement"</c-></code>, <code class="highlight"><c- a>class</c-><c- o>=</c-><c- u>"issue"</c-></code>. In the latter case, styled versions of this document will display them as blocks standing out from the text.</p>
   

For example:

   <div class="no-num advisement" id="ex-advisement">This is an advisement.</div>
   <div class="no-num assertion" id="ex-assertion">This is an assertion.</div>
   <div class="no-num note" id="ex-note" role="note"><a class="self-link" href="#ex-note"></a>This is a note.</div>
   <div class="no-num example" id="ex-example"><a class="self-link" href="#ex-example"></a>This is an example.</div>
   <div class="no-num issue" id="ex-issue"><a class="self-link" href="#ex-issue"></a>This is an issue.</div>
  </div>
<script>
(function() {
 "use strict";
 var collapseSidebarText = '<span aria-hidden="true">←</span> '
             + '<span>Collapse Sidebar</span>';
 var expandSidebarText  = '<span aria-hidden="true">→</span> '
             + '<span>Pop Out Sidebar</span>';
 var tocJumpText     = '<span aria-hidden="true">↑</span> '
             + '<span>Jump to Table of Contents</span>';

 var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
 var autoToggle  = function(e){ toggleSidebar(e.matches) };
 if(sidebarMedia.addListener) {
  sidebarMedia.addListener(autoToggle);
 }

 function toggleSidebar(on) {
  if (on == undefined) {
   on = !document.body.classList.contains('toc-sidebar');
  }

  /* Don't scroll to compensate for the ToC if we're above it already. */
  var headY = 0;
  var head = document.querySelector('.head');
  if (head) {
   // terrible approx of "top of ToC"
   headY += head.offsetTop + head.offsetHeight;
  }
  var skipScroll = window.scrollY < headY;

  var toggle = document.getElementById('toc-toggle');
  var tocNav = document.getElementById('toc');
  if (on) {
   var tocHeight = tocNav.offsetHeight;
   document.body.classList.add('toc-sidebar');
   document.body.classList.remove('toc-inline');
   toggle.innerHTML = collapseSidebarText;
   if (!skipScroll) {
    window.scrollBy(0, 0 - tocHeight);
   }
   tocNav.focus();
   sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
  }
  else {
   document.body.classList.add('toc-inline');
   document.body.classList.remove('toc-sidebar');
   toggle.innerHTML = expandSidebarText;
   if (!skipScroll) {
    window.scrollBy(0, tocNav.offsetHeight);
   }
   if (toggle.matches(':hover')) {
    /* Unfocus button when not using keyboard navigation,
      because I don't know where else to send the focus. */
    toggle.blur();
   }
  }
 }

 function createSidebarToggle() {
  /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
  var toggle = document.createElement('a');
   /* This should probably be a button, but appearance isn't standards-track.*/
  toggle.id = 'toc-toggle';
  toggle.class = 'toc-toggle';
  toggle.href = '#toc';
  toggle.innerHTML = collapseSidebarText;

  sidebarMedia.addListener(autoToggle);
  var toggler = function(e) {
   e.preventDefault();
   sidebarMedia.removeListener(autoToggle); // persist explicit off states
   toggleSidebar();
   return false;
  }
  toggle.addEventListener('click', toggler, false);


  /* Get <nav id=toc-nav>, or make it if we don't have one. */
  var tocNav = document.getElementById('toc-nav');
  if (!tocNav) {
   tocNav = document.createElement('p');
   tocNav.id = 'toc-nav';
   /* Prepend for better keyboard navigation */
   document.body.insertBefore(tocNav, document.body.firstChild);
  }
  /* While we're at it, make sure we have a Jump to Toc link. */
  var tocJump = document.getElementById('toc-jump');
  if (!tocJump) {
   tocJump = document.createElement('a');
   tocJump.id = 'toc-jump';
   tocJump.href = '#toc';
   tocJump.innerHTML = tocJumpText;
   tocNav.appendChild(tocJump);
  }

  tocNav.appendChild(toggle);
 }

 var toc = document.getElementById('toc');
 if (toc) {
  createSidebarToggle();
  toggleSidebar(sidebarMedia.matches);

  /* If the sidebar has been manually opened and is currently overlaying the text
    (window too small for the MQ to add the margin to body),
    then auto-close the sidebar once you click on something in there. */
  toc.addEventListener('click', function(e) {
   if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
    toggleSidebar(false);
   }
  }, false);
 }
 else {
  console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
 }

 /* Wrap tables in case they overflow */
 var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
 var numTables = tables.length;
 for (var i = 0; i < numTables; i++) {
  var table = tables[i];
  var wrapper = document.createElement('div');
  wrapper.className = 'overlarge';
  table.parentNode.insertBefore(wrapper, table);
  wrapper.appendChild(table);
 }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-errorcode-access_denied">"access_denied"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-access_denied">access_denied</a><span>, in § 11</span>
   <li><a href="#access-request">access request</a><span>, in § 2</span>
   <li><a href="#dictdef-accessrequest">AccessRequest</a><span>, in § 8</span>
   <li><a href="#requesting-party-token">access token</a><span>, in § 2</span>
   <li><a href="#scope">action</a><span>, in § 2</span>
   <li><a href="#agent">agent</a><span>, in § 2</span>
   <li><a href="#asset">Asset</a><span>, in § 2</span>
   <li><a href="#asset-collection">Asset collection</a><span>, in § 2</span>
   <li><a href="#authorization-process">Authorization process</a><span>, in § 2</span>
   <li><a href="#authorization-server">Authorization server</a><span>, in § 2</span>
   <li><a href="#dictdef-authorizationservermetadata">AuthorizationServerMetadata</a><span>, in § 3.2</span>
   <li><a href="#claim">Claim</a><span>, in § 2</span>
   <li><a href="#claim-description">claim description</a><span>, in § 9.1</span>
   <li><a href="#dictdef-claimdescription">ClaimDescription</a><span>, in § 9.1</span>
   <li><a href="#dom-authorizationservermetadata-claims_interaction_endpoint">claims_interaction_endpoint</a><span>, in § 3.2</span>
   <li><a href="#claims-pushing">Claims pushing</a><span>, in § 2</span>
   <li><a href="#claim-token">Claim token</a><span>, in § 2</span>
   <li><a href="#dom-accessrequest-claim_token">claim_token</a><span>, in § 8</span>
   <li><a href="#claim-token-format">claim token format</a><span>, in § 2</span>
   <li>
    claim_token_format
    <ul>
     <li><a href="#dom-accessrequest-claim_token_format">dict-member for AccessRequest</a><span>, in § 8</span>
     <li><a href="#dom-claimdescription-claim_token_format">dict-member for ClaimDescription</a><span>, in § 9.1</span>
    </ul>
   <li><a href="#dom-claimdescription-claim_type">claim_type</a><span>, in § 9.1</span>
   <li><a href="#client">Client</a><span>, in § 2</span>
   <li><a href="#dom-clientmetadata-client_id">client_id</a><span>, in § 3.1</span>
   <li><a href="#dom-authorizationservermetadata-client_id_metadata_document_supported">client_id_metadata_document_supported</a><span>, in § 3.2</span>
   <li><a href="#dictdef-clientmetadata">ClientMetadata</a><span>, in § 3.1</span>
   <li><a href="#asset-collection">collection</a><span>, in § 2</span>
   <li><a href="#source">collection source</a><span>, in § 2</span>
   <li><a href="#dictdef-defaultdescription">DefaultDescription</a><span>, in § 5.1</span>
   <li>
    description
    <ul>
     <li><a href="#description">definition of</a><span>, in § 5.1</span>
     <li><a href="#dom-resourcedescription-description">dict-member for ResourceDescription</a><span>, in § 5.1</span>
     <li><a href="#dom-scopedescription-description">dict-member for ScopeDescription</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#determinant-relation">determinant relation</a><span>, in § 2</span>
   <li><a href="#dom-errordescription-error">error</a><span>, in § 11</span>
   <li><a href="#enumdef-errorcode">ErrorCode</a><span>, in § 11</span>
   <li><a href="#dom-errordescription-error_description">error_description</a><span>, in § 11</span>
   <li><a href="#dictdef-errordescription">ErrorDescription</a><span>, in § 11</span>
   <li><a href="#dom-errordescription-error_uri">error_uri</a><span>, in § 11</span>
   <li><a href="#dom-claimdescription-friendly_name">friendly_name</a><span>, in § 9.1</span>
   <li><a href="#dom-accessrequest-grant_type">grant_type</a><span>, in § 8</span>
   <li>
    icon_uri
    <ul>
     <li><a href="#icon_uri">definition of</a><span>, in § 5.1</span>
     <li><a href="#dom-resourcedescription-icon_uri">dict-member for ResourceDescription</a><span>, in § 5.1</span>
     <li><a href="#dom-scopedescription-icon_uri">dict-member for ScopeDescription</a><span>, in § 5.1</span>
    </ul>
   <li>
    _id
    <ul>
     <li><a href="#dom-registrationresponse-_id">dict-member for RegistrationResponse</a><span>, in § 5.1.3</span>
     <li><a href="#dom-scopedescription-_id">dict-member for ScopeDescription</a><span>, in § 5.1</span>
    </ul>
   <li>
    id
    <ul>
     <li><a href="#dom-registrationresponse-_id">dict-member for RegistrationResponse</a><span>, in § 5.1.3</span>
     <li><a href="#dom-scopedescription-_id">dict-member for ScopeDescription</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#interactive-claims-gathering">Interactive claims gathering</a><span>, in § 2</span>
   <li><a href="#dom-requestsubmittederror-interval">interval</a><span>, in § 11</span>
   <li><a href="#dom-authorizationservermetadata-introspection_endpoint">introspection_endpoint</a><span>, in § 3.2</span>
   <li><a href="#dom-errorcode-invalid_client">"invalid_client"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_client">invalid_client</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_grant">"invalid_grant"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_grant">invalid_grant</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_request">"invalid_request"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_request">invalid_request</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_resource_id">"invalid_resource_id"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_resource_id">invalid_resource_id</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_scope">"invalid_scope"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-invalid_scope">invalid_scope</a><span>, in § 11</span>
   <li>
    issuer
    <ul>
     <li><a href="#dom-authorizationservermetadata-issuer">dict-member for AuthorizationServerMetadata</a><span>, in § 3.2</span>
     <li><a href="#dom-claimdescription-issuer">dict-member for ClaimDescription</a><span>, in § 9.1</span>
    </ul>
   <li><a href="#dom-clientmetadata-jwks">jwks</a><span>, in § 3.1</span>
   <li>
    jwks_uri
    <ul>
     <li><a href="#dom-authorizationservermetadata-jwks_uri">dict-member for AuthorizationServerMetadata</a><span>, in § 3.2</span>
     <li><a href="#dom-clientmetadata-jwks_uri">dict-member for ClientMetadata</a><span>, in § 3.1</span>
    </ul>
   <li><a href="#scope">mode</a><span>, in § 2</span>
   <li>
    name
    <ul>
     <li><a href="#name">definition of</a><span>, in § 5.1</span>
     <li><a href="#dom-claimdescription-name">dict-member for ClaimDescription</a><span>, in § 9.1</span>
     <li><a href="#dom-resourcedescription-name">dict-member for ResourceDescription</a><span>, in § 5.1</span>
     <li><a href="#dom-scopedescription-name">dict-member for ScopeDescription</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#dom-errorcode-need_info">"need_info"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-need_info">need_info</a><span>, in § 11</span>
   <li><a href="#dictdef-needinfoerror">NeedInfoError</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-need_interaction">need_interaction</a><span>, in § 11</span>
   <li><a href="#dictdef-needinteractionerror">NeedInteractionError</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-non_empty_collections">non_empty_collections</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-not_found">"not_found"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-not_found">not_found</a><span>, in § 11</span>
   <li><a href="#agent">party</a><span>, in § 2</span>
   <li><a href="#permission">Permission</a><span>, in § 2</span>
   <li><a href="#permission-description">Permission description</a><span>, in § 2</span>
   <li><a href="#dictdef-permissiondescription">PermissionDescription</a><span>, in § 7.3</span>
   <li><a href="#dom-authorizationservermetadata-permission_endpoint">permission_endpoint</a><span>, in § 3.2</span>
   <li><a href="#access-request">permission request</a><span>, in § 2</span>
   <li><a href="#dom-accessrequest-permissions">permissions</a><span>, in § 8.2</span>
   <li><a href="#permission-ticket">Permission ticket</a><span>, in § 2</span>
   <li><a href="#policy-engine">policy engine</a><span>, in § 10.2</span>
   <li><a href="#protected-resource">protected resource</a><span>, in § 2</span>
   <li><a href="#protection-api">Protection API</a><span>, in § 2</span>
   <li><a href="#protection-api-access-token">Protection API access token</a><span>, in § 2</span>
   <li><a href="#dom-clientmetadata-redirect_uris">redirect_uris</a><span>, in § 3.1</span>
   <li>
    redirect_user
    <ul>
     <li><a href="#dom-needinfoerror-redirect_user">dict-member for NeedInfoError</a><span>, in § 11</span>
     <li><a href="#dom-needinteractionerror-redirect_user">dict-member for NeedInteractionError</a><span>, in § 11</span>
    </ul>
   <li><a href="#registration-request">registration request</a><span>, in § 5.1</span>
   <li><a href="#dictdef-registrationresponse">RegistrationResponse</a><span>, in § 5.1.3</span>
   <li><a href="#dom-errorcode-request_denied">"request_denied"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-request_denied">request_denied</a><span>, in § 11</span>
   <li><a href="#requesting-party">Requesting party</a><span>, in § 2</span>
   <li><a href="#requesting-party-token">Requesting party token</a><span>, in § 2</span>
   <li><a href="#dom-errorcode-request_submitted">"request_submitted"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-request_submitted">request_submitted</a><span>, in § 11</span>
   <li><a href="#dictdef-requestsubmittederror">RequestSubmittedError</a><span>, in § 11</span>
   <li><a href="#dom-needinfoerror-required_claims">required_claims</a><span>, in § 11</span>
   <li><a href="#resource">Resource</a><span>, in § 2</span>
   <li><a href="#dom-resourcedescription-resource_defaults">resource_defaults</a><span>, in § 5.1</span>
   <li><a href="#dictdef-resourcedescription">ResourceDescription</a><span>, in § 2</span>
   <li><a href="#dictdef-resourcedescription">resourcedescription</a><span>, in § 2</span>
   <li><a href="#dom-permissiondescription-resource_id">resource_id</a><span>, in § 7.3</span>
   <li><a href="#resource-owner">Resource owner</a><span>, in § 2</span>
   <li><a href="#dom-authorizationservermetadata-resource_registration_endpoint">resource_registration_endpoint</a><span>, in § 3.2</span>
   <li><a href="#dom-resourcedescription-resource_relations">resource_relations</a><span>, in § 5.1</span>
   <li>
    resource_scopes
    <ul>
     <li><a href="#dom-defaultdescription-resource_scopes">dict-member for DefaultDescription</a><span>, in § 5.1</span>
     <li><a href="#dom-permissiondescription-resource_scopes">dict-member for PermissionDescription</a><span>, in § 7.3</span>
     <li><a href="#dom-resourcedescription-resource_scopes">dict-member for ResourceDescription</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#resource-server">Resource server</a><span>, in § 2</span>
   <li><a href="#scope">role</a><span>, in § 2</span>
   <li>
    scope
    <ul>
     <li><a href="#scope">definition of</a><span>, in § 2</span>
     <li><a href="#dom-accessrequest-scope">dict-member for AccessRequest</a><span>, in § 8.3</span>
    </ul>
   <li><a href="#dictdef-scopedescription">ScopeDescription</a><span>, in § 2</span>
   <li><a href="#dictdef-scopedescription">scopedescription</a><span>, in § 2</span>
   <li><a href="#dom-errorcode-server_error">"server_error"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-server_error">server_error</a><span>, in § 11</span>
   <li><a href="#source">source</a><span>, in § 2</span>
   <li><a href="#source">source asset</a><span>, in § 2</span>
   <li><a href="#dom-errordescription-state">state</a><span>, in § 11</span>
   <li><a href="#stored-resource-descriptions">stored resource descriptions</a><span>, in § 2</span>
   <li><a href="#stored-scope-descriptions">stored scope descriptions</a><span>, in § 2</span>
   <li><a href="#dom-errorcode-temporarily_unavailable">"temporarily_unavailable"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-temporarily_unavailable">temporarily_unavailable</a><span>, in § 11</span>
   <li>
    ticket
    <ul>
     <li><a href="#dom-accessrequest-ticket">dict-member for AccessRequest</a><span>, in § 8.1</span>
     <li><a href="#dom-needinfoerror-ticket">dict-member for NeedInfoError</a><span>, in § 11</span>
     <li><a href="#dom-requestsubmittederror-ticket">dict-member for RequestSubmittedError</a><span>, in § 11</span>
    </ul>
   <li><a href="#dom-authorizationservermetadata-token_endpoint">token_endpoint</a><span>, in § 3.2</span>
   <li><a href="#dom-clientmetadata-token_endpoint_auth_method">token_endpoint_auth_method</a><span>, in § 3.1</span>
   <li>
    type
    <ul>
     <li><a href="#type">definition of</a><span>, in § 5.1</span>
     <li><a href="#dom-resourcedescription-type">dict-member for ResourceDescription</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#dom-authorizationservermetadata-uma_profiles_supported">uma_profiles_supported</a><span>, in § 3.2</span>
   <li><a href="#dom-errorcode-unauthorized_client">"unauthorized_client"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unauthorized_client">unauthorized_client</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_grant_type">"unsupported_grant_type"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_grant_type">unsupported_grant_type</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_method_type">"unsupported_method_type"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_method_type">unsupported_method_type</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_response_type">"unsupported_response_type"</a><span>, in § 11</span>
   <li><a href="#dom-errorcode-unsupported_response_type">unsupported_response_type</a><span>, in § 11</span>
   <li><a href="#updated-resource-description">updated resource description</a><span>, in § 2</span>
   <li><a href="#updated-scope-description">updated scope description</a><span>, in § 2</span>
   <li><a href="#dom-registrationresponse-user_access_policy_uri">user_access_policy_uri</a><span>, in § 5.1.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[AS-Meta]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="deb7dbb9">issuer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSP3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="de921304">policy</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cf1b7287">MAY</span>
     <li><span class="dfn-paneled" id="0584db12">SHOULD</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6f738b30">global scopes</span>
    </ul>
   <li>
    <a data-link-type="biblio">[I18N-GLOSSARY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fc4c8e75">resource identifier</span>
    </ul>
   <li>
    <a data-link-type="biblio">[OAuth20]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7f091804">authorization grant</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC8259]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e3f57e20">string</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC9110]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f941b95f">200</span>
     <li><span class="dfn-paneled" id="0f38e35b">201</span>
     <li><span class="dfn-paneled" id="da43a91e">204</span>
     <li><span class="dfn-paneled" id="0c9bf198">205</span>
     <li><span class="dfn-paneled" id="1543580b">400</span>
     <li><span class="dfn-paneled" id="81e09127">401</span>
     <li><span class="dfn-paneled" id="067ce112">403</span>
     <li><span class="dfn-paneled" id="5fd9f632">404</span>
     <li><span class="dfn-paneled" id="f8a839ad">405</span>
     <li><span class="dfn-paneled" id="9192f67a">409</span>
     <li><span class="dfn-paneled" id="0d23f309">Authorization</span>
     <li><span class="dfn-paneled" id="df099863">DELETE</span>
     <li><span class="dfn-paneled" id="63528942">GET</span>
     <li><span class="dfn-paneled" id="3c5dd13d">Location</span>
     <li><span class="dfn-paneled" id="21ce2323">POST</span>
     <li><span class="dfn-paneled" id="7884efbc">PUT</span>
     <li><span class="dfn-paneled" id="f0a63cf3">WWW-Authenticate</span>
    </ul>
   <li>
    <a data-link-type="biblio">[UMA-Fed]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bbaed085">introspection endpoint</span>
     <li><span class="dfn-paneled" id="6cdfc1fc">permission endpoint</span>
     <li><span class="dfn-paneled" id="35850690">protection API</span>
     <li><span class="dfn-paneled" id="827e78d8">protection API access token</span>
     <li><span class="dfn-paneled" id="eeb48604">resource description</span>
     <li><span class="dfn-paneled" id="13f2a17d">resource registration endpoint</span>
    </ul>
   <li>
    <a data-link-type="biblio">[UMA-Grant]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0b99935b">authorization server</span>
     <li><span class="dfn-paneled" id="6aac0a9c">claims interaction endpoint</span>
     <li><span class="dfn-paneled" id="352ab1e8">client</span>
     <li><span class="dfn-paneled" id="9b4736c6">requesting party</span>
     <li><span class="dfn-paneled" id="67290310">resource owner</span>
     <li><span class="dfn-paneled" id="5069a6fe">resource server</span>
     <li><span class="dfn-paneled" id="7775e1d6">token endpoint</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-as-meta">[AS-Meta]
   <dd>M. Jones; N. Sakimura; J. Bradley. <a href="https://www.rfc-editor.org/rfc/rfc8414"><cite>OAuth 2.0 Authorization Server Metadata</cite></a>. June 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8414">https://www.rfc-editor.org/rfc/rfc8414</a>
   <dt id="biblio-client-id">[Client-ID]
   <dd>Aaron Parecki; Emelia Smith. <a href="https://datatracker.ietf.org/doc/draft-parecki-oauth-client-id-metadata-document/"><cite>OAuth Client ID Metadata Document</cite></a>. 10 January 2025. Active Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/draft-parecki-oauth-client-id-metadata-document/">https://datatracker.ietf.org/doc/draft-parecki-oauth-client-id-metadata-document/</a>
   <dt id="biblio-client-meta">[Client-Meta]
   <dd>J. Richer, Ed.; et al. <a href="https://www.rfc-editor.org/rfc/rfc7591"><cite>OAuth 2.0 Dynamic Client Registration Protocol</cite></a>. July 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7591">https://www.rfc-editor.org/rfc/rfc7591</a>
   <dt id="biblio-csp3">[CSP3]
   <dd>Mike West; Antonio Sartori. <a href="https://w3c.github.io/webappsec-csp/"><cite>Content Security Policy Level 3</cite></a>. URL: <a href="https://w3c.github.io/webappsec-csp/">https://w3c.github.io/webappsec-csp/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-i18n-glossary">[I18N-GLOSSARY]
   <dd>Richard Ishida; Addison Phillips. <a href="https://w3c.github.io/i18n-glossary/"><cite>Internationalization Glossary</cite></a>. URL: <a href="https://w3c.github.io/i18n-glossary/">https://w3c.github.io/i18n-glossary/</a>
   <dt id="biblio-json-ld11">[JSON-LD11]
   <dd>Gregg Kellogg; Pierre-Antoine Champin; Dave Longley. <a href="https://w3c.github.io/json-ld-syntax/"><cite>JSON-LD 1.1</cite></a>. URL: <a href="https://w3c.github.io/json-ld-syntax/">https://w3c.github.io/json-ld-syntax/</a>
   <dt id="biblio-oauth20">[OAuth20]
   <dd>D. Hardt, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc6749"><cite>The OAuth 2.0 Authorization Framework</cite></a>. October 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6749">https://www.rfc-editor.org/rfc/rfc6749</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc3986">[RFC3986]
   <dd>T. Berners-Lee; R. Fielding; L. Masinter. <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
   <dt id="biblio-rfc4648">[RFC4648]
   <dd>S. Josefsson. <a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data Encodings</cite></a>. October 2006. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
   <dt id="biblio-rfc7662">[RFC7662]
   <dd>J. Richer, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc7662"><cite>OAuth 2.0 Token Introspection</cite></a>. October 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7662">https://www.rfc-editor.org/rfc/rfc7662</a>
   <dt id="biblio-rfc8259">[RFC8259]
   <dd>T. Bray, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. December 2017. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
   <dt id="biblio-rfc8446">[RFC8446]
   <dd>E. Rescorla. <a href="https://www.rfc-editor.org/rfc/rfc8446"><cite>The Transport Layer Security (TLS) Protocol Version 1.3</cite></a>. August 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8446">https://www.rfc-editor.org/rfc/rfc8446</a>
   <dt id="biblio-rfc8615">[RFC8615]
   <dd>M. Nottingham. <a href="https://www.rfc-editor.org/rfc/rfc8615"><cite>Well-Known Uniform Resource Identifiers (URIs)</cite></a>. May 2019. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8615">https://www.rfc-editor.org/rfc/rfc8615</a>
   <dt id="biblio-rfc9110">[RFC9110]
   <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP Semantics</cite></a>. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
   <dt id="biblio-rfc9112">[RFC9112]
   <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc9112.html"><cite>HTTP/1.1</cite></a>. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9112.html">https://httpwg.org/specs/rfc9112.html</a>
   <dt id="biblio-rfc9325">[RFC9325]
   <dd>Y. Sheffer; P. Saint-Andre; T. Fossati. <a href="https://www.rfc-editor.org/rfc/rfc9325"><cite>Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)</cite></a>. November 2022. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc9325">https://www.rfc-editor.org/rfc/rfc9325</a>
   <dt id="biblio-uma-fed">[UMA-Fed]
   <dd>Maciej Machulak; Justin Richer; Eve Maler, Ed.. <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html"><cite>Federated Authorization for User-Managed Access (UMA) 2.0</cite></a>. 7 January 2018. Recommendation. URL: <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html">https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html</a>
   <dt id="biblio-uma-grant">[UMA-Grant]
   <dd>Maciej Machulak; Justin Richer; Eve Maler, Ed.. <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html"><cite>User-Managed Access (UMA) 2.0 Grant for OAuth 2.0 Authorization</cite></a>. 7 January 2018. Recommendation. URL: <a href="https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html">https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-cre-636-347">[CRE-636-347]
   <dd>OWASP. <a href="https://opencre.org/cre/636-347"><cite>CRE 636-347: HTTP security headers</cite></a>. n.d.. URL: <a href="https://opencre.org/cre/636-347">https://opencre.org/cre/636-347</a>
   <dt id="biblio-jwk">[JWK]
   <dd>M. Jones. <a href="https://www.rfc-editor.org/rfc/rfc7517"><cite>JSON Web Key (JWK)</cite></a>. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7517">https://www.rfc-editor.org/rfc/rfc7517</a>
   <dt id="biblio-resource-meta">[Resource-Meta]
   <dd>Michael B. Jones; Phil Hunt; Aaron Parecki. <a href="https://datatracker.ietf.org/doc/draft-ietf-oauth-resource-metadata/"><cite>OAuth 2.0 Protected Resource Metadata</cite></a>. 10 January 2025. Active Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/draft-ietf-oauth-resource-metadata/">https://datatracker.ietf.org/doc/draft-ietf-oauth-resource-metadata/</a>
   <dt id="biblio-rfc6750">[RFC6750]
   <dd>M. Jones; D. Hardt. <a href="https://www.rfc-editor.org/rfc/rfc6750"><cite>The OAuth 2.0 Authorization Framework: Bearer Token Usage</cite></a>. October 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6750">https://www.rfc-editor.org/rfc/rfc6750</a>
   <dt id="biblio-rfc9421">[RFC9421]
   <dd>A. Backman, Ed.; J. Richer, Ed.; M. Sporny. <a href="https://www.rfc-editor.org/rfc/rfc9421"><cite>HTTP Message Signatures</cite></a>. February 2024. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9421">https://www.rfc-editor.org/rfc/rfc9421</a>
   <dt id="biblio-uma-trust">[UMA-Trust]
   <dd>Wouter Termont; et al. <a href="https://arxiv.org/abs/2411.05622"><cite>From Resource Control to Digital Trust with User-Managed Access</cite></a>. 5 November 2024. URL: <a href="https://arxiv.org/abs/2411.05622">https://arxiv.org/abs/2411.05622</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <a href="#dictdef-clientmetadata"><code class="highlight"><c- g>ClientMetadata</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-client_id"><c- g>client_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a data-type="string" href="#dom-clientmetadata-jwks"><code class="highlight"><c- g>jwks</c-></code></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-jwks_uri"><c- g>jwks_uri</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-redirect_uris"><c- g>redirect_uris</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-clientmetadata-token_endpoint_auth_method"><c- g>token_endpoint_auth_method</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-authorizationservermetadata"><code class="highlight"><c- g>AuthorizationServerMetadata</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-uma_profiles_supported"><c- g>uma_profiles_supported</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-client_id_metadata_document_supported"><c- g>client_id_metadata_document_supported</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-issuer"><c- g>issuer</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-resource_registration_endpoint"><c- g>resource_registration_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-permission_endpoint"><c- g>permission_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-token_endpoint"><c- g>token_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-introspection_endpoint"><c- g>introspection_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-claims_interaction_endpoint"><c- g>claims_interaction_endpoint</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-authorizationservermetadata-jwks_uri"><c- g>jwks_uri</c-></a>;
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-scopedescription"><c- g>ScopeDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-_id"><c- g>_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-name"><c- g>name</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-description"><c- g>description</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-scopedescription-icon_uri"><c- g>icon_uri</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-defaultdescription"><code class="highlight"><c- g>DefaultDescription</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-defaultdescription-resource_scopes"><c- g>resource_scopes</c-></a>;
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-resourcedescription"><c- g>ResourceDescription</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-scopedescription"><c- n>ScopeDescription</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<ScopeDescription>" href="#dom-resourcedescription-resource_scopes"><c- g>resource_scopes</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-resourcedescription-resource_relations"><c- g>resource_relations</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-resourcedescription-resource_defaults"><c- g>resource_defaults</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a data-type="string" href="#dom-resourcedescription-type"><code class="highlight"><c- g>type</c-></code></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a data-type="string" href="#dom-resourcedescription-name"><code class="highlight"><c- g>name</c-></code></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a data-type="string" href="#dom-resourcedescription-description"><code class="highlight"><c- g>description</c-></code></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a data-type="string" href="#dom-resourcedescription-icon_uri"><code class="highlight"><c- g>icon_uri</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-registrationresponse"><code class="highlight"><c- g>RegistrationResponse</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-registrationresponse-_id"><c- g>_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-registrationresponse-user_access_policy_uri"><c- g>user_access_policy_uri</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-permissiondescription"><code class="highlight"><c- g>PermissionDescription</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-permissiondescription-resource_id"><c- g>resource_id</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-permissiondescription-resource_scopes"><c- g>resource_scopes</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-accessrequest"><code class="highlight"><c- g>AccessRequest</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-grant_type"><c- g>grant_type</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-claim_token"><c- g>claim_token</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-claim_token_format"><c- g>claim_token_format</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-permissions"><c- g>permissions</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-accessrequest-scope"><c- g>scope</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-claimdescription"><code class="highlight"><c- g>ClaimDescription</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-claim_token_format"><c- g>claim_token_format</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-claim_type"><c- g>claim_type</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-issuer"><c- g>issuer</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-name"><c- g>name</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-claimdescription-friendly_name"><c- g>friendly_name</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-errordescription"><code class="highlight"><c- g>ErrorDescription</c-></code></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error"><c- g>error</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error_description"><c- g>error_description</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-error_uri"><c- g>error_uri</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-errordescription-state"><c- g>state</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-needinfoerror"><code class="highlight"><c- g>NeedInfoError</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-errordescription"><c- n>ErrorDescription</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-required_claims"><c- g>required_claims</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinfoerror-redirect_user"><c- g>redirect_user</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-requestsubmittederror"><code class="highlight"><c- g>RequestSubmittedError</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-errordescription"><c- n>ErrorDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-requestsubmittederror-ticket"><c- g>ticket</c-></a>;
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-requestsubmittederror-interval"><c- g>interval</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-needinteractionerror"><code class="highlight"><c- g>NeedInteractionError</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-errordescription"><c- n>ErrorDescription</c-></a> {
  <a data-link-type="idl-name" href="https://www.rfc-editor.org/rfc/rfc8259#section-7"><c- n>string</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="string" href="#dom-needinteractionerror-redirect_user"><c- g>redirect_user</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-errorcode"><code class="highlight"><c- g>ErrorCode</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-access_denied"><c- s>"access_denied"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_client"><c- s>"invalid_client"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_grant"><c- s>"invalid_grant"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_request"><c- s>"invalid_request"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_resource_id"><c- s>"invalid_resource_id"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-invalid_scope"><c- s>"invalid_scope"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-need_info"><c- s>"need_info"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-not_found"><c- s>"not_found"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-request_denied"><c- s>"request_denied"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-request_submitted"><c- s>"request_submitted"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-server_error"><c- s>"server_error"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-temporarily_unavailable"><c- s>"temporarily_unavailable"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unauthorized_client"><c- s>"unauthorized_client"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_grant_type"><c- s>"unsupported_grant_type"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_method_type"><c- s>"unsupported_method_type"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-errorcode-unsupported_response_type"><c- s>"unsupported_response_type"</c-></a>
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="no-num issue">This is an issue. <a class="issue-return" href="#ex-issue" title="Jump to section">↵</a></div>
   <div class="issue"> Refer to OAuth 2.1 only, as soon as it is out of draft. <a class="issue-return" href="#issue-3917379e" title="Jump to section">↵</a></div>
   <div class="issue"> Specify resource owner and relying parties to be natural or legal persons or groups of people. <a class="issue-return" href="#issue-e4ac3ad9" title="Jump to section">↵</a></div>
   <div class="issue"> todo <a class="issue-return" href="#issue-ea5cb8ff" title="Jump to section">↵</a></div>
   <div class="issue"> todo <a class="issue-return" href="#issue-ea5cb8ff①" title="Jump to section">↵</a></div>
   <div class="issue"> todo <a class="issue-return" href="#issue-ea5cb8ff②" title="Jump to section">↵</a></div>
   <div class="issue"> Should we also allow (dynamic) registration? E.g. for clients that cannot host anything? <a class="issue-return" href="#issue-a5662b8d" title="Jump to section">↵</a></div>
   <div class="issue"> Look into extending this to DIDs + DID Documents (using a limited list of DID methods, or the universal resolver). <a class="issue-return" href="#issue-1f0b3250" title="Jump to section">↵</a></div>
   <div class="issue"> decide on profile URI <a class="issue-return" href="#issue-73faab49" title="Jump to section">↵</a></div>
   <div class="issue"> Should be RECOMMENDED, or even REQUIRED instead <a class="issue-return" href="#issue-417cd468" title="Jump to section">↵</a></div>
   <div class="issue"> Should be RECOMMENDED, or even REQUIRED instead <a class="issue-return" href="#issue-417cd468①" title="Jump to section">↵</a></div>
   <div class="issue"> loosen required url (since ref in discovery anyway) <a class="issue-return" href="#issue-ff11e303" title="Jump to section">↵</a></div>
   <div class="issue"> use <a data-link-type="biblio" href="#biblio-resource-meta" title="OAuth 2.0 Protected Resource Metadata">[Resource-Meta]</a> (instead of "storage description"), and possibly also <a data-link-type="biblio" href="#biblio-client-meta" title="OAuth 2.0 Dynamic Client Registration Protocol">[Client-Meta]</a> <a class="issue-return" href="#issue-f030eff0" title="Jump to section">↵</a></div>
   <div class="issue"> Require key exhange algorithms based on ephemeral Diffie–Hellman ciphers (TLS_DHE and TLS_ECDHE) to ensure forward secrecy. <a class="issue-return" href="#issue-db767484" title="Jump to section">↵</a></div>
   <div class="issue"> Require HTTP/2, which includes the requirements above, and patches some vulnerabilities in (m)TLS negotiation. <a class="issue-return" href="#issue-8ffe3c30" title="Jump to section">↵</a></div>
   <div class="issue"> In the long-term, abstract from HTTP towards any SASL-aware application layer (cf. draft-vanrein-httpauth-sasl-06) . Conversely, enable HTTP-delivered OAuth tokens to be presented to SASL resource servers with rfc7628. <a class="issue-return" href="#issue-e6431ab3" title="Jump to section">↵</a></div>
   <div class="issue"> In the long-term, add support for DTLS &amp; QUIC. <a class="issue-return" href="#issue-556525ea" title="Jump to section">↵</a></div>
   <div class="issue">
    
    Subsitute with 

    <ul>
     <li data-md>
      <p>HTTP Message Signatures + Well-Known JWK Set (cf. L0, but loosen fixed URL, since pointer in config)</p>
     <li data-md>
      <p>mutual TLS (with OAuth mTLS grant ?)</p>
     <li data-md>
      <p>password-based challenge–response authentication (e.g., SCRAM over TLS/SASL)</p>
     <li data-md>
      <p>(augmented) password-only authentication and key exchange (e.g., CPake or OPAQUE)</p>
    </ul>
       <a class="issue-return" href="#issue-421c0d2d" title="Jump to section">↵</a>
   </div>
   <div class="issue"> decide on minimal headers/components to sign <a class="issue-return" href="#issue-16b311f9" title="Jump to section">↵</a></div>
   <div class="issue"> make accepting state param a must for AS: the <a data-link-type="dfn" href="#authorization-server">authorization server</a> <a class="rfc2119" href="#h-conform"><em>must</em></a> include it unaltered in the redirection to the <a data-link-type="dfn" href="#client">client</a> <a class="issue-return" href="#issue-4d5f5bd7" title="Jump to section">↵</a></div>
   <div class="issue"> Presuming most ASs will come with some kind of native app, a QR-based flow would be handy. We could specify how, after scanning an RS’s QR code, the AS (app) would contact that RS on a <a data-link-type="biblio" href="#biblio-rfc8615" title="Well-Known Uniform Resource Identifiers (URIs)">Well-Known URI</a> to initiate contact, either through a redirect <a data-link-type="biblio" href="#biblio-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URI</a> or by specifying a code to be checked/entered. <a class="issue-return" href="#issue-76cade1e" title="Jump to section">↵</a></div>
   <div class="issue"> go into inheritance of these scopes from the newly registered resource in future resources! <a class="issue-return" href="#issue-00cdcffc" title="Jump to section">↵</a></div>
   <div class="issue"> clarify what 'policies'/'criteria' are, and whether each AS is obliged to support them all, or urged to provide a certain minimum set .... <a class="issue-return" href="#issue-78c3e6a1" title="Jump to section">↵</a></div>
   <div class="issue"> look into particular use of realm parameter (vs scope) to limit protection space for user/ticket/type <a class="issue-return" href="#issue-2e30079c" title="Jump to section">↵</a></div>
   <div class="issue"> Go into the combination of <code class="highlight">permissions</code> and <code class="highlight">ticket</code>. <a class="issue-return" href="#issue-91a62579" title="Jump to section">↵</a></div>
   <div class="issue"> add support for Rich Authorization Requests and/or JWT-Secured Authorization Requests and/or Pushed Authorization Requests. <a class="issue-return" href="#issue-18018e83" title="Jump to section">↵</a></div>
   <div class="issue"> add usage of Persistent Claims Tokens and upgrading of RPTs <a class="issue-return" href="#issue-a6e28b1e" title="Jump to section">↵</a></div>
   <div class="issue"> consider simply disallowing this, and letting 'scope' double as 'permissions', with permission descriptions without a resource id functioning as 'global scopes' (and similar without scope ids functioning as all scopes on one resource). <a class="issue-return" href="#issue-0423f625" title="Jump to section">↵</a></div>
   <div class="issue"> clarify claim token formats, and discuss advertising them with a parameter separate from uma profiles <a class="issue-return" href="#issue-71947774" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314①" title="Jump to section">↵</a></div>
   <div class="issue"> TODO <a class="issue-return" href="#issue-b7b1e314②" title="Jump to section">↵</a></div>
   <div class="issue"> Go into the combination of <code class="highlight">permissions</code> and <code class="highlight">scope</code> (and possibly <code class="highlight">ticket</code>). <a class="issue-return" href="#issue-2e697cae" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0584db12": {"dfnID":"0584db12","dfnText":"SHOULD","external":true,"refSections":[{"refs":[{"id":"ref-for-x5"}],"title":"4.3. Application security"}],"url":"https://www.w3.org/TR/CSS2/conform.html#x5"},
"067ce112": {"dfnID":"067ce112","dfnText":"403","external":true,"refSections":[{"refs":[{"id":"ref-for-status.403"},{"id":"ref-for-status.403\u2460"},{"id":"ref-for-status.403\u2461"},{"id":"ref-for-status.403\u2462"},{"id":"ref-for-status.403\u2463"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.403"},
"0b99935b": {"dfnID":"0b99935b","dfnText":"authorization server","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=authorization%20server,-A%20server"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=authorization%20server,-A%20server"},
"0c9bf198": {"dfnID":"0c9bf198","dfnText":"205","external":true,"refSections":[{"refs":[{"id":"ref-for-status.205"}],"title":"5.3.2. Asset deletion"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.205"},
"0d23f309": {"dfnID":"0d23f309","dfnText":"Authorization","external":true,"refSections":[{"refs":[{"id":"ref-for-field.authorization"}],"title":"7.1. Attempting access with a token"},{"refs":[{"id":"ref-for-field.authorization\u2460"}],"title":"10.3. Granting an access token"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#field.authorization"},
"0f38e35b": {"dfnID":"0f38e35b","dfnText":"201","external":true,"refSections":[{"refs":[{"id":"ref-for-status.201"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-status.201\u2460"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-status.201\u2461"}],"title":"7.3. Requesting a Ticket"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.201"},
"13f2a17d": {"dfnID":"13f2a17d","dfnText":"resource registration endpoint","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=resource_registration_endpoint"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-:~:text=resource_registration_endpoint\u2460"}],"title":"5. Asset management"},{"refs":[{"id":"ref-for-:~:text=resource_registration_endpoint\u2461"},{"id":"ref-for-:~:text=resource_registration_endpoint\u2462"}],"title":"5.1. Creating an asset"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint"},
"1543580b": {"dfnID":"1543580b","dfnText":"400","external":true,"refSections":[{"refs":[{"id":"ref-for-status.400"},{"id":"ref-for-status.400\u2460"},{"id":"ref-for-status.400\u2461"},{"id":"ref-for-status.400\u2462"},{"id":"ref-for-status.400\u2463"},{"id":"ref-for-status.400\u2464"},{"id":"ref-for-status.400\u2465"},{"id":"ref-for-status.400\u2466"},{"id":"ref-for-status.400\u2467"},{"id":"ref-for-status.400\u2468"},{"id":"ref-for-status.400\u2460\u24ea"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.400"},
"21ce2323": {"dfnID":"21ce2323","dfnText":"POST","external":true,"refSections":[{"refs":[{"id":"ref-for-POST"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-POST\u2460"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-POST\u2461"}],"title":"8. Requesting access at the authorization server"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#POST"},
"352ab1e8": {"dfnID":"352ab1e8","dfnText":"client","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=client,-An%20application"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=client,-An%20application"},
"35850690": {"dfnID":"35850690","dfnText":"protection API","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=protection%20API,-The%20API"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API,-The%20API"},
"3c5dd13d": {"dfnID":"3c5dd13d","dfnText":"Location","external":true,"refSections":[{"refs":[{"id":"ref-for-field.location"},{"id":"ref-for-field.location\u2460"}],"title":"5.1.3. Response to a registration request"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#field.location"},
"5069a6fe": {"dfnID":"5069a6fe","dfnText":"resource server","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=resource%20server,-A%20server"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20server,-A%20server"},
"5fd9f632": {"dfnID":"5fd9f632","dfnText":"404","external":true,"refSections":[{"refs":[{"id":"ref-for-status.404"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.404"},
"63528942": {"dfnID":"63528942","dfnText":"GET","external":true,"refSections":[{"refs":[{"id":"ref-for-GET"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-GET\u2460"}],"title":"5.2.2. Asset details"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#GET"},
"67290310": {"dfnID":"67290310","dfnText":"resource owner","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=resource%20owner,-An%20entity"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20owner,-An%20entity"},
"6aac0a9c": {"dfnID":"6aac0a9c","dfnText":"claims interaction endpoint","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=claims_interaction_endpoint"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-:~:text=claims_interaction_endpoint\u2460"}],"title":"4.3. Application security"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=claims_interaction_endpoint"},
"6cdfc1fc": {"dfnID":"6cdfc1fc","dfnText":"permission endpoint","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=permission_endpoint"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-:~:text=permission_endpoint\u2460"}],"title":"5. Asset management"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=permission_endpoint"},
"6f738b30": {"dfnID":"6f738b30","dfnText":"global scopes","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-worklet-global-scopes"},{"id":"ref-for-concept-worklet-global-scopes\u2460"}],"title":"8.3. Requesting extra 'global scopes'"}],"url":"https://html.spec.whatwg.org/multipage/worklets.html#concept-worklet-global-scopes"},
"7775e1d6": {"dfnID":"7775e1d6","dfnText":"token endpoint","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=token_endpoint"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-:~:text=token_endpoint\u2460"},{"id":"ref-for-:~:text=token_endpoint\u2461"}],"title":"8. Requesting access at the authorization server"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint"},
"7884efbc": {"dfnID":"7884efbc","dfnText":"PUT","external":true,"refSections":[{"refs":[{"id":"ref-for-PUT"}],"title":"5.3.1. Asset updates"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#PUT"},
"7f091804": {"dfnID":"7f091804","dfnText":"authorization grant","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant\u2460"}],"title":"2. Definitions"}],"url":"https://www.rfc-editor.org/rfc/rfc6749#:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant"},
"81e09127": {"dfnID":"81e09127","dfnText":"401","external":true,"refSections":[{"refs":[{"id":"ref-for-status.401"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-status.401\u2460"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.401"},
"827e78d8": {"dfnID":"827e78d8","dfnText":"protection API access token","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=protection%20API%20access%20token,-(PAT)"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API%20access%20token,-(PAT)"},
"9192f67a": {"dfnID":"9192f67a","dfnText":"409","external":true,"refSections":[{"refs":[{"id":"ref-for-status.409"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-status.409\u2460"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.409"},
"9b4736c6": {"dfnID":"9b4736c6","dfnText":"requesting party","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=requesting%20party,-A%20natural"}],"title":"2. Definitions"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=requesting%20party,-A%20natural"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"}],"title":"5.1. Creating an asset"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"access-request": {"dfnID":"access-request","dfnText":"Access request","external":false,"refSections":[{"refs":[{"id":"ref-for-access-request"},{"id":"ref-for-access-request\u2460"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-access-request\u2461"},{"id":"ref-for-access-request\u2462"},{"id":"ref-for-access-request\u2463"}],"title":"8. Requesting access at the authorization server"},{"refs":[{"id":"ref-for-access-request\u2464"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-access-request\u2465"},{"id":"ref-for-access-request\u2466"},{"id":"ref-for-access-request\u2467"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-access-request\u2468"},{"id":"ref-for-access-request\u2460\u24ea"},{"id":"ref-for-access-request\u2460\u2460"},{"id":"ref-for-access-request\u2460\u2461"}],"title":"10.1. Completing the permission ticket"}],"url":"#access-request"},
"agent": {"dfnID":"agent","dfnText":"Agent","external":false,"refSections":[{"refs":[{"id":"ref-for-agent"},{"id":"ref-for-agent\u2460"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-agent\u2461"},{"id":"ref-for-agent\u2462"}],"title":"4.3. Application security"},{"refs":[{"id":"ref-for-agent\u2463"}],"title":"9.1. Claim descriptions"}],"url":"#agent"},
"asset": {"dfnID":"asset","dfnText":"Asset","external":false,"refSections":[{"refs":[{"id":"ref-for-asset"},{"id":"ref-for-asset\u2460"},{"id":"ref-for-asset\u2461"},{"id":"ref-for-asset\u2462"},{"id":"ref-for-asset\u2463"},{"id":"ref-for-asset\u2464"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-asset\u2465"},{"id":"ref-for-asset\u2466"},{"id":"ref-for-asset\u2467"},{"id":"ref-for-asset\u2468"},{"id":"ref-for-asset\u2460\u24ea"},{"id":"ref-for-asset\u2460\u2460"},{"id":"ref-for-asset\u2460\u2461"},{"id":"ref-for-asset\u2460\u2462"},{"id":"ref-for-asset\u2460\u2463"},{"id":"ref-for-asset\u2460\u2464"},{"id":"ref-for-asset\u2460\u2465"},{"id":"ref-for-asset\u2460\u2466"},{"id":"ref-for-asset\u2460\u2467"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-asset\u2460\u2468"},{"id":"ref-for-asset\u2461\u24ea"},{"id":"ref-for-asset\u2461\u2460"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-asset\u2461\u2461"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-asset\u2461\u2462"},{"id":"ref-for-asset\u2461\u2463"},{"id":"ref-for-asset\u2461\u2464"},{"id":"ref-for-asset\u2461\u2465"},{"id":"ref-for-asset\u2461\u2466"},{"id":"ref-for-asset\u2461\u2467"},{"id":"ref-for-asset\u2461\u2468"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-asset\u2462\u24ea"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-asset\u2462\u2460"},{"id":"ref-for-asset\u2462\u2461"},{"id":"ref-for-asset\u2462\u2462"},{"id":"ref-for-asset\u2462\u2463"}],"title":"6. Policy management"}],"url":"#asset"},
"asset-collection": {"dfnID":"asset-collection","dfnText":"Asset collection","external":false,"refSections":[{"refs":[{"id":"ref-for-asset-collection"},{"id":"ref-for-asset-collection\u2460"}],"title":"6. Policy management"}],"url":"#asset-collection"},
"authorization-process": {"dfnID":"authorization-process","dfnText":"Authorization process","external":false,"refSections":[{"refs":[{"id":"ref-for-authorization-process"},{"id":"ref-for-authorization-process\u2460"},{"id":"ref-for-authorization-process\u2461"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-authorization-process\u2462"}],"title":"9. Claims"}],"url":"#authorization-process"},
"authorization-server": {"dfnID":"authorization-server","dfnText":"Authorization server","external":false,"refSections":[{"refs":[{"id":"ref-for-authorization-server"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-authorization-server\u2460"},{"id":"ref-for-authorization-server\u2461"},{"id":"ref-for-authorization-server\u2462"},{"id":"ref-for-authorization-server\u2463"},{"id":"ref-for-authorization-server\u2464"},{"id":"ref-for-authorization-server\u2465"},{"id":"ref-for-authorization-server\u2466"},{"id":"ref-for-authorization-server\u2467"},{"id":"ref-for-authorization-server\u2468"},{"id":"ref-for-authorization-server\u2460\u24ea"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-authorization-server\u2460\u2460"}],"title":"3. Public metadata"},{"refs":[{"id":"ref-for-authorization-server\u2460\u2461"},{"id":"ref-for-authorization-server\u2460\u2462"},{"id":"ref-for-authorization-server\u2460\u2463"},{"id":"ref-for-authorization-server\u2460\u2464"},{"id":"ref-for-authorization-server\u2460\u2465"},{"id":"ref-for-authorization-server\u2460\u2466"},{"id":"ref-for-authorization-server\u2460\u2467"},{"id":"ref-for-authorization-server\u2460\u2468"},{"id":"ref-for-authorization-server\u2461\u24ea"},{"id":"ref-for-authorization-server\u2461\u2460"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-authorization-server\u2461\u2461"},{"id":"ref-for-authorization-server\u2461\u2462"},{"id":"ref-for-authorization-server\u2461\u2463"}],"title":"4.2. Message security"},{"refs":[{"id":"ref-for-authorization-server\u2461\u2464"},{"id":"ref-for-authorization-server\u2461\u2465"},{"id":"ref-for-authorization-server\u2461\u2466"},{"id":"ref-for-authorization-server\u2461\u2467"},{"id":"ref-for-authorization-server\u2461\u2468"}],"title":"4.3. Application security"},{"refs":[{"id":"ref-for-authorization-server\u2462\u24ea"},{"id":"ref-for-authorization-server\u2462\u2460"},{"id":"ref-for-authorization-server\u2462\u2461"},{"id":"ref-for-authorization-server\u2462\u2462"}],"title":"4.4. Linking an RS to an AS"},{"refs":[{"id":"ref-for-authorization-server\u2462\u2463"},{"id":"ref-for-authorization-server\u2462\u2464"}],"title":"5. Asset management"},{"refs":[{"id":"ref-for-authorization-server\u2462\u2465"},{"id":"ref-for-authorization-server\u2462\u2466"},{"id":"ref-for-authorization-server\u2462\u2467"},{"id":"ref-for-authorization-server\u2462\u2468"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-authorization-server\u2463\u24ea"}],"title":"5.1.1. Interpreting a registration request"},{"refs":[{"id":"ref-for-authorization-server\u2463\u2460"}],"title":"5.1.2. Processing a registration request"},{"refs":[{"id":"ref-for-authorization-server\u2463\u2461"},{"id":"ref-for-authorization-server\u2463\u2462"},{"id":"ref-for-authorization-server\u2463\u2463"},{"id":"ref-for-authorization-server\u2463\u2464"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-authorization-server\u2463\u2465"},{"id":"ref-for-authorization-server\u2463\u2466"},{"id":"ref-for-authorization-server\u2463\u2467"},{"id":"ref-for-authorization-server\u2463\u2468"},{"id":"ref-for-authorization-server\u2464\u24ea"}],"title":"5.1.2.2. Processing a scope description"},{"refs":[{"id":"ref-for-authorization-server\u2464\u2460"},{"id":"ref-for-authorization-server\u2464\u2461"},{"id":"ref-for-authorization-server\u2464\u2462"},{"id":"ref-for-authorization-server\u2464\u2463"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-authorization-server\u2464\u2464"},{"id":"ref-for-authorization-server\u2464\u2465"},{"id":"ref-for-authorization-server\u2464\u2466"},{"id":"ref-for-authorization-server\u2464\u2467"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-authorization-server\u2464\u2468"}],"title":"5.2.2. Asset details"},{"refs":[{"id":"ref-for-authorization-server\u2465\u24ea"},{"id":"ref-for-authorization-server\u2465\u2460"},{"id":"ref-for-authorization-server\u2465\u2461"},{"id":"ref-for-authorization-server\u2465\u2462"},{"id":"ref-for-authorization-server\u2465\u2463"},{"id":"ref-for-authorization-server\u2465\u2464"},{"id":"ref-for-authorization-server\u2465\u2465"},{"id":"ref-for-authorization-server\u2465\u2466"},{"id":"ref-for-authorization-server\u2465\u2467"},{"id":"ref-for-authorization-server\u2465\u2468"},{"id":"ref-for-authorization-server\u2466\u24ea"},{"id":"ref-for-authorization-server\u2466\u2460"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-authorization-server\u2466\u2461"},{"id":"ref-for-authorization-server\u2466\u2462"},{"id":"ref-for-authorization-server\u2466\u2463"},{"id":"ref-for-authorization-server\u2466\u2464"},{"id":"ref-for-authorization-server\u2466\u2465"},{"id":"ref-for-authorization-server\u2466\u2466"},{"id":"ref-for-authorization-server\u2466\u2467"},{"id":"ref-for-authorization-server\u2466\u2468"},{"id":"ref-for-authorization-server\u2467\u24ea"},{"id":"ref-for-authorization-server\u2467\u2460"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-authorization-server\u2467\u2461"},{"id":"ref-for-authorization-server\u2467\u2462"},{"id":"ref-for-authorization-server\u2467\u2463"},{"id":"ref-for-authorization-server\u2467\u2464"},{"id":"ref-for-authorization-server\u2467\u2465"},{"id":"ref-for-authorization-server\u2467\u2466"}],"title":"6. Policy management"},{"refs":[{"id":"ref-for-authorization-server\u2467\u2467"},{"id":"ref-for-authorization-server\u2467\u2468"},{"id":"ref-for-authorization-server\u2468\u24ea"},{"id":"ref-for-authorization-server\u2468\u2460"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-authorization-server\u2468\u2461"},{"id":"ref-for-authorization-server\u2468\u2462"},{"id":"ref-for-authorization-server\u2468\u2463"},{"id":"ref-for-authorization-server\u2468\u2464"},{"id":"ref-for-authorization-server\u2468\u2465"},{"id":"ref-for-authorization-server\u2468\u2466"},{"id":"ref-for-authorization-server\u2468\u2467"},{"id":"ref-for-authorization-server\u2468\u2468"},{"id":"ref-for-authorization-server\u2460\u24ea\u24ea"},{"id":"ref-for-authorization-server\u2460\u24ea\u2460"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-authorization-server\u2460\u24ea\u2461"},{"id":"ref-for-authorization-server\u2460\u24ea\u2462"},{"id":"ref-for-authorization-server\u2460\u24ea\u2463"}],"title":"8. Requesting access at the authorization server"},{"refs":[{"id":"ref-for-authorization-server\u2460\u24ea\u2464"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-authorization-server\u2460\u24ea\u2465"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-authorization-server\u2460\u24ea\u2466"}],"title":"9.3. Providing claims"},{"refs":[{"id":"ref-for-authorization-server\u2460\u24ea\u2467"},{"id":"ref-for-authorization-server\u2460\u24ea\u2468"},{"id":"ref-for-authorization-server\u2460\u2460\u24ea"},{"id":"ref-for-authorization-server\u2460\u2460\u2460"},{"id":"ref-for-authorization-server\u2460\u2460\u2461"}],"title":"10.1. Completing the permission ticket"},{"refs":[{"id":"ref-for-authorization-server\u2460\u2460\u2462"},{"id":"ref-for-authorization-server\u2460\u2460\u2463"},{"id":"ref-for-authorization-server\u2460\u2460\u2464"}],"title":"10.2. Determining the policy decision"},{"refs":[{"id":"ref-for-authorization-server\u2460\u2460\u2465"}],"title":"10.3. Granting an access token"},{"refs":[{"id":"ref-for-authorization-server\u2460\u2460\u2466"},{"id":"ref-for-authorization-server\u2460\u2460\u2467"},{"id":"ref-for-authorization-server\u2460\u2460\u2468"},{"id":"ref-for-authorization-server\u2460\u2461\u24ea"},{"id":"ref-for-authorization-server\u2460\u2461\u2460"},{"id":"ref-for-authorization-server\u2460\u2461\u2461"},{"id":"ref-for-authorization-server\u2460\u2461\u2462"},{"id":"ref-for-authorization-server\u2460\u2461\u2463"},{"id":"ref-for-authorization-server\u2460\u2461\u2464"},{"id":"ref-for-authorization-server\u2460\u2461\u2465"}],"title":"11. Error messages"}],"url":"#authorization-server"},
"bbaed085": {"dfnID":"bbaed085","dfnText":"introspection endpoint","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=introspection_endpoint"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-:~:text=introspection_endpoint\u2460"}],"title":"5. Asset management"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=introspection_endpoint"},
"cf1b7287": {"dfnID":"cf1b7287","dfnText":"MAY","external":true,"refSections":[{"refs":[{"id":"ref-for-x8"}],"title":"5.3.1. Asset updates"}],"url":"https://www.w3.org/TR/CSS2/conform.html#x8"},
"claim": {"dfnID":"claim","dfnText":"Claim","external":false,"refSections":[{"refs":[{"id":"ref-for-claim"}],"title":"9. Claims"},{"refs":[{"id":"ref-for-claim\u2460"}],"title":"9.1. Claim descriptions"}],"url":"#claim"},
"claim-description": {"dfnID":"claim-description","dfnText":"claim description","external":false,"refSections":[{"refs":[{"id":"ref-for-claim-description"}],"title":"9.1. Claim descriptions"}],"url":"#claim-description"},
"claim-token": {"dfnID":"claim-token","dfnText":"Claim token","external":false,"refSections":[{"refs":[{"id":"ref-for-claim-token"}],"title":"9. Claims"}],"url":"#claim-token"},
"claim-token-format": {"dfnID":"claim-token-format","dfnText":"claim token format","external":false,"refSections":[{"refs":[{"id":"ref-for-claim-token-format"}],"title":"9. Claims"}],"url":"#claim-token-format"},
"claims-pushing": {"dfnID":"claims-pushing","dfnText":"Claims pushing","external":false,"refSections":[],"url":"#claims-pushing"},
"client": {"dfnID":"client","dfnText":"Client","external":false,"refSections":[{"refs":[{"id":"ref-for-client"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-client\u2460"}],"title":"3. Public metadata"},{"refs":[{"id":"ref-for-client\u2461"},{"id":"ref-for-client\u2462"},{"id":"ref-for-client\u2463"},{"id":"ref-for-client\u2464"},{"id":"ref-for-client\u2465"}],"title":"3.1. Client metadata"},{"refs":[{"id":"ref-for-client\u2466"},{"id":"ref-for-client\u2467"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-client\u2468"},{"id":"ref-for-client\u2460\u24ea"},{"id":"ref-for-client\u2460\u2460"},{"id":"ref-for-client\u2460\u2461"}],"title":"4.3. Application security"},{"refs":[{"id":"ref-for-client\u2460\u2462"},{"id":"ref-for-client\u2460\u2463"}],"title":"7.1. Attempting access with a token"},{"refs":[{"id":"ref-for-client\u2460\u2464"},{"id":"ref-for-client\u2460\u2465"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-client\u2460\u2466"},{"id":"ref-for-client\u2460\u2467"},{"id":"ref-for-client\u2460\u2468"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-client\u2461\u24ea"},{"id":"ref-for-client\u2461\u2460"},{"id":"ref-for-client\u2461\u2461"}],"title":"8. Requesting access at the authorization server"},{"refs":[{"id":"ref-for-client\u2461\u2462"},{"id":"ref-for-client\u2461\u2463"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-client\u2461\u2464"},{"id":"ref-for-client\u2461\u2465"},{"id":"ref-for-client\u2461\u2466"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-client\u2461\u2467"},{"id":"ref-for-client\u2461\u2468"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-client\u2462\u24ea"},{"id":"ref-for-client\u2462\u2460"}],"title":"10.1. Completing the permission ticket"},{"refs":[{"id":"ref-for-client\u2462\u2461"}],"title":"10.2. Determining the policy decision"},{"refs":[{"id":"ref-for-client\u2462\u2462"},{"id":"ref-for-client\u2462\u2463"}],"title":"10.3. Granting an access token"}],"url":"#client"},
"da43a91e": {"dfnID":"da43a91e","dfnText":"204","external":true,"refSections":[{"refs":[{"id":"ref-for-status.204"}],"title":"5.3.2. Asset deletion"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.204"},
"de921304": {"dfnID":"de921304","dfnText":"policy","external":true,"refSections":[{"refs":[{"id":"ref-for-violation-policy"},{"id":"ref-for-violation-policy\u2460"}],"title":"2. Definitions"}],"url":"https://w3c.github.io/webappsec-csp/#violation-policy"},
"deb7dbb9": {"dfnID":"deb7dbb9","dfnText":"issuer","external":true,"refSections":[{"refs":[{"id":"ref-for-:~:text=issuer,-REQUIRED"}],"title":"4.4. Linking an RS to an AS"}],"url":"https://www.rfc-editor.org/rfc/rfc8414#:~:text=issuer,-REQUIRED"},
"description": {"dfnID":"description","dfnText":"description","external":false,"refSections":[],"url":"#description"},
"determinant-relation": {"dfnID":"determinant-relation","dfnText":"determinant relation","external":false,"refSections":[],"url":"#determinant-relation"},
"df099863": {"dfnID":"df099863","dfnText":"DELETE","external":true,"refSections":[{"refs":[{"id":"ref-for-DELETE"}],"title":"5.3.2. Asset deletion"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#DELETE"},
"dictdef-accessrequest": {"dfnID":"dictdef-accessrequest","dfnText":"AccessRequest","external":false,"refSections":[],"url":"#dictdef-accessrequest"},
"dictdef-authorizationservermetadata": {"dfnID":"dictdef-authorizationservermetadata","dfnText":"AuthorizationServerMetadata","external":false,"refSections":[],"url":"#dictdef-authorizationservermetadata"},
"dictdef-claimdescription": {"dfnID":"dictdef-claimdescription","dfnText":"ClaimDescription","external":false,"refSections":[],"url":"#dictdef-claimdescription"},
"dictdef-clientmetadata": {"dfnID":"dictdef-clientmetadata","dfnText":"ClientMetadata","external":false,"refSections":[],"url":"#dictdef-clientmetadata"},
"dictdef-defaultdescription": {"dfnID":"dictdef-defaultdescription","dfnText":"DefaultDescription","external":false,"refSections":[],"url":"#dictdef-defaultdescription"},
"dictdef-errordescription": {"dfnID":"dictdef-errordescription","dfnText":"ErrorDescription","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-errordescription"},{"id":"ref-for-dictdef-errordescription\u2460"},{"id":"ref-for-dictdef-errordescription\u2461"}],"title":"11. Error messages"}],"url":"#dictdef-errordescription"},
"dictdef-needinfoerror": {"dfnID":"dictdef-needinfoerror","dfnText":"NeedInfoError","external":false,"refSections":[],"url":"#dictdef-needinfoerror"},
"dictdef-needinteractionerror": {"dfnID":"dictdef-needinteractionerror","dfnText":"NeedInteractionError","external":false,"refSections":[],"url":"#dictdef-needinteractionerror"},
"dictdef-permissiondescription": {"dfnID":"dictdef-permissiondescription","dfnText":"PermissionDescription","external":false,"refSections":[],"url":"#dictdef-permissiondescription"},
"dictdef-registrationresponse": {"dfnID":"dictdef-registrationresponse","dfnText":"RegistrationResponse","external":false,"refSections":[],"url":"#dictdef-registrationresponse"},
"dictdef-requestsubmittederror": {"dfnID":"dictdef-requestsubmittederror","dfnText":"RequestSubmittedError","external":false,"refSections":[],"url":"#dictdef-requestsubmittederror"},
"dictdef-resourcedescription": {"dfnID":"dictdef-resourcedescription","dfnText":"Resource description","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-resourcedescription"},{"id":"ref-for-dictdef-resourcedescription\u2460"}],"title":"5.1. Creating an asset"}],"url":"#dictdef-resourcedescription"},
"dictdef-scopedescription": {"dfnID":"dictdef-scopedescription","dfnText":"Scope description","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-scopedescription"},{"id":"ref-for-dictdef-scopedescription\u2460"},{"id":"ref-for-dictdef-scopedescription\u2461"}],"title":"5.1. Creating an asset"}],"url":"#dictdef-scopedescription"},
"dom-accessrequest-claim_token": {"dfnID":"dom-accessrequest-claim_token","dfnText":"claim_token","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-claim_token"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-claim_token"},
"dom-accessrequest-claim_token_format": {"dfnID":"dom-accessrequest-claim_token_format","dfnText":"claim_token_format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-claim_token_format"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-claim_token_format"},
"dom-accessrequest-grant_type": {"dfnID":"dom-accessrequest-grant_type","dfnText":"grant_type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-grant_type"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-grant_type"},
"dom-accessrequest-permissions": {"dfnID":"dom-accessrequest-permissions","dfnText":"permissions","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-permissions"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-permissions"},
"dom-accessrequest-scope": {"dfnID":"dom-accessrequest-scope","dfnText":"scope","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-scope"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-scope"},
"dom-accessrequest-ticket": {"dfnID":"dom-accessrequest-ticket","dfnText":"ticket","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-accessrequest-ticket"}],"title":"8. Requesting access at the authorization server"}],"url":"#dom-accessrequest-ticket"},
"dom-authorizationservermetadata-claims_interaction_endpoint": {"dfnID":"dom-authorizationservermetadata-claims_interaction_endpoint","dfnText":"claims_interaction_endpoint","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-claims_interaction_endpoint"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-claims_interaction_endpoint"},
"dom-authorizationservermetadata-client_id_metadata_document_supported": {"dfnID":"dom-authorizationservermetadata-client_id_metadata_document_supported","dfnText":"client_id_metadata_document_supported","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-client_id_metadata_document_supported"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-client_id_metadata_document_supported"},
"dom-authorizationservermetadata-introspection_endpoint": {"dfnID":"dom-authorizationservermetadata-introspection_endpoint","dfnText":"introspection_endpoint","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-introspection_endpoint"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-introspection_endpoint"},
"dom-authorizationservermetadata-issuer": {"dfnID":"dom-authorizationservermetadata-issuer","dfnText":"issuer","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-issuer"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-issuer"},
"dom-authorizationservermetadata-jwks_uri": {"dfnID":"dom-authorizationservermetadata-jwks_uri","dfnText":"jwks_uri","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-jwks_uri"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-jwks_uri"},
"dom-authorizationservermetadata-permission_endpoint": {"dfnID":"dom-authorizationservermetadata-permission_endpoint","dfnText":"permission_endpoint","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-permission_endpoint"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-permission_endpoint"},
"dom-authorizationservermetadata-resource_registration_endpoint": {"dfnID":"dom-authorizationservermetadata-resource_registration_endpoint","dfnText":"resource_registration_endpoint","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-resource_registration_endpoint"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-resource_registration_endpoint"},
"dom-authorizationservermetadata-token_endpoint": {"dfnID":"dom-authorizationservermetadata-token_endpoint","dfnText":"token_endpoint","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-token_endpoint"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-token_endpoint"},
"dom-authorizationservermetadata-uma_profiles_supported": {"dfnID":"dom-authorizationservermetadata-uma_profiles_supported","dfnText":"uma_profiles_supported","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-authorizationservermetadata-uma_profiles_supported"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-authorizationservermetadata-uma_profiles_supported"},
"dom-claimdescription-claim_token_format": {"dfnID":"dom-claimdescription-claim_token_format","dfnText":"claim_token_format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-claimdescription-claim_token_format"}],"title":"9.1. Claim descriptions"}],"url":"#dom-claimdescription-claim_token_format"},
"dom-claimdescription-claim_type": {"dfnID":"dom-claimdescription-claim_type","dfnText":"claim_type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-claimdescription-claim_type"}],"title":"9.1. Claim descriptions"}],"url":"#dom-claimdescription-claim_type"},
"dom-claimdescription-friendly_name": {"dfnID":"dom-claimdescription-friendly_name","dfnText":"friendly_name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-claimdescription-friendly_name"}],"title":"9.1. Claim descriptions"}],"url":"#dom-claimdescription-friendly_name"},
"dom-claimdescription-issuer": {"dfnID":"dom-claimdescription-issuer","dfnText":"issuer","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-claimdescription-issuer"}],"title":"9.1. Claim descriptions"}],"url":"#dom-claimdescription-issuer"},
"dom-claimdescription-name": {"dfnID":"dom-claimdescription-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-claimdescription-name"}],"title":"9.1. Claim descriptions"}],"url":"#dom-claimdescription-name"},
"dom-clientmetadata-client_id": {"dfnID":"dom-clientmetadata-client_id","dfnText":"client_id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientmetadata-client_id"}],"title":"3.1. Client metadata"},{"refs":[{"id":"ref-for-dom-clientmetadata-client_id\u2460"}],"title":"3.2. Authorization server metadata"}],"url":"#dom-clientmetadata-client_id"},
"dom-clientmetadata-jwks": {"dfnID":"dom-clientmetadata-jwks","dfnText":"jwks","external":false,"refSections":[],"url":"#dom-clientmetadata-jwks"},
"dom-clientmetadata-jwks_uri": {"dfnID":"dom-clientmetadata-jwks_uri","dfnText":"jwks_uri","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientmetadata-jwks_uri"}],"title":"3.1. Client metadata"}],"url":"#dom-clientmetadata-jwks_uri"},
"dom-clientmetadata-redirect_uris": {"dfnID":"dom-clientmetadata-redirect_uris","dfnText":"redirect_uris","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientmetadata-redirect_uris"}],"title":"3.1. Client metadata"}],"url":"#dom-clientmetadata-redirect_uris"},
"dom-clientmetadata-token_endpoint_auth_method": {"dfnID":"dom-clientmetadata-token_endpoint_auth_method","dfnText":"token_endpoint_auth_method","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientmetadata-token_endpoint_auth_method"}],"title":"3.1. Client metadata"}],"url":"#dom-clientmetadata-token_endpoint_auth_method"},
"dom-defaultdescription-resource_scopes": {"dfnID":"dom-defaultdescription-resource_scopes","dfnText":"resource_scopes","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-defaultdescription-resource_scopes"},{"id":"ref-for-dom-defaultdescription-resource_scopes\u2460"},{"id":"ref-for-dom-defaultdescription-resource_scopes\u2461"},{"id":"ref-for-dom-defaultdescription-resource_scopes\u2462"}],"title":"5.1. Creating an asset"}],"url":"#dom-defaultdescription-resource_scopes"},
"dom-errorcode-access_denied": {"dfnID":"dom-errorcode-access_denied","dfnText":"access_denied","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-access_denied"}],"title":"11. Error messages"}],"url":"#dom-errorcode-access_denied"},
"dom-errorcode-invalid_client": {"dfnID":"dom-errorcode-invalid_client","dfnText":"invalid_client","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-invalid_client"}],"title":"11. Error messages"}],"url":"#dom-errorcode-invalid_client"},
"dom-errorcode-invalid_grant": {"dfnID":"dom-errorcode-invalid_grant","dfnText":"invalid_grant","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-invalid_grant"}],"title":"11. Error messages"}],"url":"#dom-errorcode-invalid_grant"},
"dom-errorcode-invalid_request": {"dfnID":"dom-errorcode-invalid_request","dfnText":"invalid_request","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-invalid_request"}],"title":"11. Error messages"}],"url":"#dom-errorcode-invalid_request"},
"dom-errorcode-invalid_resource_id": {"dfnID":"dom-errorcode-invalid_resource_id","dfnText":"invalid_resource_id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-invalid_resource_id"}],"title":"11. Error messages"}],"url":"#dom-errorcode-invalid_resource_id"},
"dom-errorcode-invalid_scope": {"dfnID":"dom-errorcode-invalid_scope","dfnText":"invalid_scope","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-invalid_scope"}],"title":"11. Error messages"}],"url":"#dom-errorcode-invalid_scope"},
"dom-errorcode-need_info": {"dfnID":"dom-errorcode-need_info","dfnText":"need_info","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-need_info"}],"title":"11. Error messages"}],"url":"#dom-errorcode-need_info"},
"dom-errorcode-need_interaction": {"dfnID":"dom-errorcode-need_interaction","dfnText":"need_interaction","external":false,"refSections":[],"url":"#dom-errorcode-need_interaction"},
"dom-errorcode-non_empty_collections": {"dfnID":"dom-errorcode-non_empty_collections","dfnText":"non_empty_collections","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-non_empty_collections"}],"title":"5.3.2. Asset deletion"}],"url":"#dom-errorcode-non_empty_collections"},
"dom-errorcode-not_found": {"dfnID":"dom-errorcode-not_found","dfnText":"not_found","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-not_found"}],"title":"11. Error messages"}],"url":"#dom-errorcode-not_found"},
"dom-errorcode-request_denied": {"dfnID":"dom-errorcode-request_denied","dfnText":"request_denied","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-request_denied"}],"title":"11. Error messages"}],"url":"#dom-errorcode-request_denied"},
"dom-errorcode-request_submitted": {"dfnID":"dom-errorcode-request_submitted","dfnText":"request_submitted","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-request_submitted"}],"title":"11. Error messages"}],"url":"#dom-errorcode-request_submitted"},
"dom-errorcode-server_error": {"dfnID":"dom-errorcode-server_error","dfnText":"server_error","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-server_error"}],"title":"11. Error messages"}],"url":"#dom-errorcode-server_error"},
"dom-errorcode-temporarily_unavailable": {"dfnID":"dom-errorcode-temporarily_unavailable","dfnText":"temporarily_unavailable","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-temporarily_unavailable"}],"title":"11. Error messages"}],"url":"#dom-errorcode-temporarily_unavailable"},
"dom-errorcode-unauthorized_client": {"dfnID":"dom-errorcode-unauthorized_client","dfnText":"unauthorized_client","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-unauthorized_client"}],"title":"11. Error messages"}],"url":"#dom-errorcode-unauthorized_client"},
"dom-errorcode-unsupported_grant_type": {"dfnID":"dom-errorcode-unsupported_grant_type","dfnText":"unsupported_grant_type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-unsupported_grant_type"}],"title":"11. Error messages"}],"url":"#dom-errorcode-unsupported_grant_type"},
"dom-errorcode-unsupported_method_type": {"dfnID":"dom-errorcode-unsupported_method_type","dfnText":"unsupported_method_type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-unsupported_method_type"}],"title":"11. Error messages"}],"url":"#dom-errorcode-unsupported_method_type"},
"dom-errorcode-unsupported_response_type": {"dfnID":"dom-errorcode-unsupported_response_type","dfnText":"unsupported_response_type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errorcode-unsupported_response_type"}],"title":"11. Error messages"}],"url":"#dom-errorcode-unsupported_response_type"},
"dom-errordescription-error": {"dfnID":"dom-errordescription-error","dfnText":"error","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errordescription-error"}],"title":"11. Error messages"}],"url":"#dom-errordescription-error"},
"dom-errordescription-error_description": {"dfnID":"dom-errordescription-error_description","dfnText":"error_description","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errordescription-error_description"}],"title":"11. Error messages"}],"url":"#dom-errordescription-error_description"},
"dom-errordescription-error_uri": {"dfnID":"dom-errordescription-error_uri","dfnText":"error_uri","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errordescription-error_uri"}],"title":"11. Error messages"}],"url":"#dom-errordescription-error_uri"},
"dom-errordescription-state": {"dfnID":"dom-errordescription-state","dfnText":"state","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-errordescription-state"}],"title":"11. Error messages"}],"url":"#dom-errordescription-state"},
"dom-needinfoerror-redirect_user": {"dfnID":"dom-needinfoerror-redirect_user","dfnText":"redirect_user","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-needinfoerror-redirect_user"}],"title":"11. Error messages"}],"url":"#dom-needinfoerror-redirect_user"},
"dom-needinfoerror-required_claims": {"dfnID":"dom-needinfoerror-required_claims","dfnText":"required_claims","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-needinfoerror-required_claims"}],"title":"11. Error messages"}],"url":"#dom-needinfoerror-required_claims"},
"dom-needinfoerror-ticket": {"dfnID":"dom-needinfoerror-ticket","dfnText":"ticket","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-needinfoerror-ticket"}],"title":"11. Error messages"}],"url":"#dom-needinfoerror-ticket"},
"dom-needinteractionerror-redirect_user": {"dfnID":"dom-needinteractionerror-redirect_user","dfnText":"redirect_user","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-needinteractionerror-redirect_user"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-dom-needinteractionerror-redirect_user\u2460"}],"title":"11. Error messages"}],"url":"#dom-needinteractionerror-redirect_user"},
"dom-permissiondescription-resource_id": {"dfnID":"dom-permissiondescription-resource_id","dfnText":"resource_id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescription-resource_id"}],"title":"7.3. Requesting a Ticket"}],"url":"#dom-permissiondescription-resource_id"},
"dom-permissiondescription-resource_scopes": {"dfnID":"dom-permissiondescription-resource_scopes","dfnText":"resource_scopes","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescription-resource_scopes"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-dom-permissiondescription-resource_scopes\u2460"}],"title":"7.3. Requesting a Ticket"}],"url":"#dom-permissiondescription-resource_scopes"},
"dom-registrationresponse-_id": {"dfnID":"dom-registrationresponse-_id","dfnText":"_id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-registrationresponse-_id"}],"title":"5.1.2.2. Processing a scope description"},{"refs":[{"id":"ref-for-dom-registrationresponse-_id\u2460"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-dom-registrationresponse-_id\u2461"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-dom-registrationresponse-_id\u2462"}],"title":"10.1. Completing the permission ticket"}],"url":"#dom-registrationresponse-_id"},
"dom-registrationresponse-user_access_policy_uri": {"dfnID":"dom-registrationresponse-user_access_policy_uri","dfnText":"user_access_policy_uri","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-registrationresponse-user_access_policy_uri"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-dom-registrationresponse-user_access_policy_uri\u2460"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-dom-registrationresponse-user_access_policy_uri\u2461"}],"title":"5.3.2. Asset deletion"}],"url":"#dom-registrationresponse-user_access_policy_uri"},
"dom-requestsubmittederror-interval": {"dfnID":"dom-requestsubmittederror-interval","dfnText":"interval","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-requestsubmittederror-interval"}],"title":"11. Error messages"}],"url":"#dom-requestsubmittederror-interval"},
"dom-requestsubmittederror-ticket": {"dfnID":"dom-requestsubmittederror-ticket","dfnText":"ticket","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-requestsubmittederror-ticket"}],"title":"11. Error messages"}],"url":"#dom-requestsubmittederror-ticket"},
"dom-resourcedescription-description": {"dfnID":"dom-resourcedescription-description","dfnText":"description","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-description"}],"title":"6. Policy management"}],"url":"#dom-resourcedescription-description"},
"dom-resourcedescription-icon_uri": {"dfnID":"dom-resourcedescription-icon_uri","dfnText":"icon_uri","external":false,"refSections":[],"url":"#dom-resourcedescription-icon_uri"},
"dom-resourcedescription-name": {"dfnID":"dom-resourcedescription-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-name"}],"title":"6. Policy management"}],"url":"#dom-resourcedescription-name"},
"dom-resourcedescription-resource_defaults": {"dfnID":"dom-resourcedescription-resource_defaults","dfnText":"resource_defaults","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-resource_defaults"},{"id":"ref-for-dom-resourcedescription-resource_defaults\u2460"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-resourcedescription-resource_defaults\u2461"},{"id":"ref-for-dom-resourcedescription-resource_defaults\u2462"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-dom-resourcedescription-resource_defaults\u2463"}],"title":"5.3.1. Asset updates"}],"url":"#dom-resourcedescription-resource_defaults"},
"dom-resourcedescription-resource_relations": {"dfnID":"dom-resourcedescription-resource_relations","dfnText":"resource_relations","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-resource_relations"},{"id":"ref-for-dom-resourcedescription-resource_relations\u2460"},{"id":"ref-for-dom-resourcedescription-resource_relations\u2461"},{"id":"ref-for-dom-resourcedescription-resource_relations\u2462"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-resourcedescription-resource_relations\u2463"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-dom-resourcedescription-resource_relations\u2464"}],"title":"5.3.1. Asset updates"}],"url":"#dom-resourcedescription-resource_relations"},
"dom-resourcedescription-resource_scopes": {"dfnID":"dom-resourcedescription-resource_scopes","dfnText":"resource_scopes","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-resource_scopes"},{"id":"ref-for-dom-resourcedescription-resource_scopes\u2460"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-resourcedescription-resource_scopes\u2461"}],"title":"5.1.2.1. Processing a resource description"}],"url":"#dom-resourcedescription-resource_scopes"},
"dom-resourcedescription-type": {"dfnID":"dom-resourcedescription-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-resourcedescription-type"}],"title":"6. Policy management"}],"url":"#dom-resourcedescription-type"},
"dom-scopedescription-_id": {"dfnID":"dom-scopedescription-_id","dfnText":"_id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scopedescription-_id"},{"id":"ref-for-dom-scopedescription-_id\u2460"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-scopedescription-_id\u2461"},{"id":"ref-for-dom-scopedescription-_id\u2462"},{"id":"ref-for-dom-scopedescription-_id\u2463"}],"title":"5.1.2.2. Processing a scope description"}],"url":"#dom-scopedescription-_id"},
"dom-scopedescription-description": {"dfnID":"dom-scopedescription-description","dfnText":"description","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scopedescription-description"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-scopedescription-description\u2460"}],"title":"6. Policy management"}],"url":"#dom-scopedescription-description"},
"dom-scopedescription-icon_uri": {"dfnID":"dom-scopedescription-icon_uri","dfnText":"icon_uri","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scopedescription-icon_uri"}],"title":"5.1. Creating an asset"}],"url":"#dom-scopedescription-icon_uri"},
"dom-scopedescription-name": {"dfnID":"dom-scopedescription-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scopedescription-name"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-dom-scopedescription-name\u2460"}],"title":"6. Policy management"}],"url":"#dom-scopedescription-name"},
"e3f57e20": {"dfnID":"e3f57e20","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-section-7"},{"id":"ref-for-section-7\u2460"},{"id":"ref-for-section-7\u2461"},{"id":"ref-for-section-7\u2462"},{"id":"ref-for-section-7\u2463"},{"id":"ref-for-section-7\u2464"},{"id":"ref-for-section-7\u2465"},{"id":"ref-for-section-7\u2466"},{"id":"ref-for-section-7\u2467"}],"title":"3.1. Client metadata"},{"refs":[{"id":"ref-for-section-7\u2468"},{"id":"ref-for-section-7\u2460\u24ea"},{"id":"ref-for-section-7\u2460\u2460"},{"id":"ref-for-section-7\u2460\u2461"},{"id":"ref-for-section-7\u2460\u2462"},{"id":"ref-for-section-7\u2460\u2463"},{"id":"ref-for-section-7\u2460\u2464"},{"id":"ref-for-section-7\u2460\u2465"},{"id":"ref-for-section-7\u2460\u2466"},{"id":"ref-for-section-7\u2460\u2467"},{"id":"ref-for-section-7\u2460\u2468"},{"id":"ref-for-section-7\u2461\u24ea"},{"id":"ref-for-section-7\u2461\u2460"},{"id":"ref-for-section-7\u2461\u2461"},{"id":"ref-for-section-7\u2461\u2462"},{"id":"ref-for-section-7\u2461\u2463"},{"id":"ref-for-section-7\u2461\u2464"},{"id":"ref-for-section-7\u2461\u2465"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-section-7\u2461\u2466"},{"id":"ref-for-section-7\u2461\u2467"},{"id":"ref-for-section-7\u2461\u2468"},{"id":"ref-for-section-7\u2462\u24ea"},{"id":"ref-for-section-7\u2462\u2460"},{"id":"ref-for-section-7\u2462\u2461"},{"id":"ref-for-section-7\u2462\u2462"},{"id":"ref-for-section-7\u2462\u2463"},{"id":"ref-for-section-7\u2462\u2464"},{"id":"ref-for-section-7\u2462\u2465"},{"id":"ref-for-section-7\u2462\u2466"},{"id":"ref-for-section-7\u2462\u2467"},{"id":"ref-for-section-7\u2462\u2468"},{"id":"ref-for-section-7\u2463\u24ea"},{"id":"ref-for-section-7\u2463\u2460"},{"id":"ref-for-section-7\u2463\u2461"},{"id":"ref-for-section-7\u2463\u2462"},{"id":"ref-for-section-7\u2463\u2463"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-section-7\u2463\u2464"},{"id":"ref-for-section-7\u2463\u2465"},{"id":"ref-for-section-7\u2463\u2466"},{"id":"ref-for-section-7\u2463\u2467"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-section-7\u2463\u2468"},{"id":"ref-for-section-7\u2464\u24ea"},{"id":"ref-for-section-7\u2464\u2460"},{"id":"ref-for-section-7\u2464\u2461"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-section-7\u2464\u2462"},{"id":"ref-for-section-7\u2464\u2463"},{"id":"ref-for-section-7\u2464\u2464"},{"id":"ref-for-section-7\u2464\u2468"},{"id":"ref-for-section-7\u2465\u24ea"},{"id":"ref-for-section-7\u2465\u2460"},{"id":"ref-for-section-7\u2465\u2461"},{"id":"ref-for-section-7\u2465\u2462"},{"id":"ref-for-section-7\u2465\u2463"}],"title":"8. Requesting access at the authorization server"},{"refs":[{"id":"ref-for-section-7\u2464\u2465"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-section-7\u2464\u2466"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-section-7\u2464\u2467"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-section-7\u2465\u2464"},{"id":"ref-for-section-7\u2465\u2465"},{"id":"ref-for-section-7\u2465\u2466"},{"id":"ref-for-section-7\u2465\u2467"},{"id":"ref-for-section-7\u2465\u2468"},{"id":"ref-for-section-7\u2466\u24ea"},{"id":"ref-for-section-7\u2466\u2460"},{"id":"ref-for-section-7\u2466\u2461"},{"id":"ref-for-section-7\u2466\u2462"},{"id":"ref-for-section-7\u2466\u2463"}],"title":"9.1. Claim descriptions"},{"refs":[{"id":"ref-for-section-7\u2466\u2464"},{"id":"ref-for-section-7\u2466\u2465"},{"id":"ref-for-section-7\u2466\u2466"},{"id":"ref-for-section-7\u2466\u2467"},{"id":"ref-for-section-7\u2466\u2468"},{"id":"ref-for-section-7\u2467\u24ea"},{"id":"ref-for-section-7\u2467\u2460"},{"id":"ref-for-section-7\u2467\u2461"},{"id":"ref-for-section-7\u2467\u2462"},{"id":"ref-for-section-7\u2467\u2463"},{"id":"ref-for-section-7\u2467\u2464"},{"id":"ref-for-section-7\u2467\u2465"},{"id":"ref-for-section-7\u2467\u2466"},{"id":"ref-for-section-7\u2467\u2467"},{"id":"ref-for-section-7\u2467\u2468"},{"id":"ref-for-section-7\u2468\u24ea"},{"id":"ref-for-section-7\u2468\u2460"},{"id":"ref-for-section-7\u2468\u2461"},{"id":"ref-for-section-7\u2468\u2462"},{"id":"ref-for-section-7\u2468\u2463"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc8259#section-7"},
"eeb48604": {"dfnID":"eeb48604","dfnText":"resource description","external":true,"refSections":[{"refs":[{"id":"ref-for-resource-set-desc"},{"id":"ref-for-resource-set-desc\u2460"},{"id":"ref-for-resource-set-desc\u2461"},{"id":"ref-for-resource-set-desc\u2462"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-resource-set-desc\u2463"},{"id":"ref-for-resource-set-desc\u2464"},{"id":"ref-for-resource-set-desc\u2465"},{"id":"ref-for-resource-set-desc\u2466"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-resource-set-desc\u2467"}],"title":"5.1.2. Processing a registration request"},{"refs":[{"id":"ref-for-resource-set-desc\u2468"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-resource-set-desc\u2460\u24ea"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-resource-set-desc\u2460\u2460"},{"id":"ref-for-resource-set-desc\u2460\u2461"}],"title":"6. Policy management"}],"url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc"},
"enumdef-errorcode": {"dfnID":"enumdef-errorcode","dfnText":"ErrorCode","external":false,"refSections":[],"url":"#enumdef-errorcode"},
"f0a63cf3": {"dfnID":"f0a63cf3","dfnText":"WWW-Authenticate","external":true,"refSections":[{"refs":[{"id":"ref-for-field.www-authenticate"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-field.www-authenticate\u2460"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#field.www-authenticate"},
"f8a839ad": {"dfnID":"f8a839ad","dfnText":"405","external":true,"refSections":[{"refs":[{"id":"ref-for-status.405"}],"title":"11. Error messages"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.405"},
"f941b95f": {"dfnID":"f941b95f","dfnText":"200","external":true,"refSections":[{"refs":[{"id":"ref-for-status.200"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-status.200\u2460"}],"title":"5.2.2. Asset details"},{"refs":[{"id":"ref-for-status.200\u2461"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-status.200\u2462"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-status.200\u2463"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-status.200\u2464"}],"title":"7.3. Requesting a Ticket"}],"url":"https://www.rfc-editor.org/rfc/rfc9110#status.200"},
"fc4c8e75": {"dfnID":"fc4c8e75","dfnText":"resource identifier","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-resource-identifier"},{"id":"ref-for-dfn-resource-identifier\u2460"}],"title":"7.3. Requesting a Ticket"}],"url":"https://w3c.github.io/i18n-glossary/#dfn-resource-identifier"},
"icon_uri": {"dfnID":"icon_uri","dfnText":"icon_uri","external":false,"refSections":[],"url":"#icon_uri"},
"interactive-claims-gathering": {"dfnID":"interactive-claims-gathering","dfnText":"Interactive claims gathering","external":false,"refSections":[],"url":"#interactive-claims-gathering"},
"name": {"dfnID":"name","dfnText":"name","external":false,"refSections":[],"url":"#name"},
"permission": {"dfnID":"permission","dfnText":"Permission","external":false,"refSections":[],"url":"#permission"},
"permission-description": {"dfnID":"permission-description","dfnText":"Permission description","external":false,"refSections":[{"refs":[{"id":"ref-for-permission-description"},{"id":"ref-for-permission-description\u2460"},{"id":"ref-for-permission-description\u2461"},{"id":"ref-for-permission-description\u2462"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-permission-description\u2463"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-permission-description\u2464"}],"title":"10.1. Completing the permission ticket"}],"url":"#permission-description"},
"permission-ticket": {"dfnID":"permission-ticket","dfnText":"Permission ticket","external":false,"refSections":[{"refs":[{"id":"ref-for-permission-ticket"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-permission-ticket\u2460"},{"id":"ref-for-permission-ticket\u2461"}],"title":"8.1. Requesting access with a permission ticket"}],"url":"#permission-ticket"},
"policy-engine": {"dfnID":"policy-engine","dfnText":"policy engine","external":false,"refSections":[{"refs":[{"id":"ref-for-policy-engine"}],"title":"10.2. Determining the policy decision"}],"url":"#policy-engine"},
"protected-resource": {"dfnID":"protected-resource","dfnText":"protected","external":false,"refSections":[{"refs":[{"id":"ref-for-protected-resource"},{"id":"ref-for-protected-resource\u2460"},{"id":"ref-for-protected-resource\u2461"},{"id":"ref-for-protected-resource\u2462"},{"id":"ref-for-protected-resource\u2463"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-protected-resource\u2464"}],"title":"8. Requesting access at the authorization server"}],"url":"#protected-resource"},
"protection-api": {"dfnID":"protection-api","dfnText":"Protection API","external":false,"refSections":[{"refs":[{"id":"ref-for-protection-api"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-protection-api\u2460"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-protection-api\u2461"}],"title":"4.1. Channel security"},{"refs":[{"id":"ref-for-protection-api\u2462"}],"title":"5. Asset management"}],"url":"#protection-api"},
"protection-api-access-token": {"dfnID":"protection-api-access-token","dfnText":"Protection API access token","external":false,"refSections":[{"refs":[{"id":"ref-for-protection-api-access-token"}],"title":"4.2. Message security"},{"refs":[{"id":"ref-for-protection-api-access-token\u2460"}],"title":"4.4. Linking an RS to an AS"}],"url":"#protection-api-access-token"},
"registration-request": {"dfnID":"registration-request","dfnText":"registration request","external":false,"refSections":[{"refs":[{"id":"ref-for-registration-request"}],"title":"5.1.1. Interpreting a registration request"},{"refs":[{"id":"ref-for-registration-request\u2460"}],"title":"5.1.2. Processing a registration request"},{"refs":[{"id":"ref-for-registration-request\u2461"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-registration-request\u2462"}],"title":"5.3.1. Asset updates"}],"url":"#registration-request"},
"requesting-party": {"dfnID":"requesting-party","dfnText":"Requesting party","external":false,"refSections":[{"refs":[{"id":"ref-for-requesting-party"},{"id":"ref-for-requesting-party\u2460"},{"id":"ref-for-requesting-party\u2461"},{"id":"ref-for-requesting-party\u2462"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-requesting-party\u2463"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-requesting-party\u2464"}],"title":"4.3. Application security"},{"refs":[{"id":"ref-for-requesting-party\u2465"}],"title":"9.3. Providing claims"}],"url":"#requesting-party"},
"requesting-party-token": {"dfnID":"requesting-party-token","dfnText":"Requesting party token","external":false,"refSections":[{"refs":[{"id":"ref-for-requesting-party-token"}],"title":"7.1. Attempting access with a token"},{"refs":[{"id":"ref-for-requesting-party-token\u2460"},{"id":"ref-for-requesting-party-token\u2461"}],"title":"10.3. Granting an access token"}],"url":"#requesting-party-token"},
"resource": {"dfnID":"resource","dfnText":"Resource","external":false,"refSections":[{"refs":[{"id":"ref-for-resource"},{"id":"ref-for-resource\u2460"},{"id":"ref-for-resource\u2461"},{"id":"ref-for-resource\u2462"},{"id":"ref-for-resource\u2463"},{"id":"ref-for-resource\u2464"},{"id":"ref-for-resource\u2465"},{"id":"ref-for-resource\u2466"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-resource\u2467"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-resource\u2468"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-resource\u2460\u24ea"},{"id":"ref-for-resource\u2460\u2460"},{"id":"ref-for-resource\u2460\u2461"},{"id":"ref-for-resource\u2460\u2462"}],"title":"6. Policy management"},{"refs":[{"id":"ref-for-resource\u2460\u2463"},{"id":"ref-for-resource\u2460\u2464"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-resource\u2460\u2465"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-resource\u2460\u2466"},{"id":"ref-for-resource\u2460\u2467"},{"id":"ref-for-resource\u2460\u2468"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-resource\u2461\u24ea"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-resource\u2461\u2460"}],"title":"11. Error messages"}],"url":"#resource"},
"resource-owner": {"dfnID":"resource-owner","dfnText":"Resource owner","external":false,"refSections":[{"refs":[{"id":"ref-for-resource-owner"},{"id":"ref-for-resource-owner\u2460"},{"id":"ref-for-resource-owner\u2461"},{"id":"ref-for-resource-owner\u2462"},{"id":"ref-for-resource-owner\u2463"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-resource-owner\u2464"},{"id":"ref-for-resource-owner\u2465"}],"title":"4.3. Application security"},{"refs":[{"id":"ref-for-resource-owner\u2466"},{"id":"ref-for-resource-owner\u2467"},{"id":"ref-for-resource-owner\u2468"},{"id":"ref-for-resource-owner\u2460\u24ea"}],"title":"4.4. Linking an RS to an AS"},{"refs":[{"id":"ref-for-resource-owner\u2460\u2460"}],"title":"5.1.2.2. Processing a scope description"},{"refs":[{"id":"ref-for-resource-owner\u2460\u2461"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-resource-owner\u2460\u2462"},{"id":"ref-for-resource-owner\u2460\u2463"},{"id":"ref-for-resource-owner\u2460\u2464"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-resource-owner\u2460\u2465"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-resource-owner\u2460\u2466"},{"id":"ref-for-resource-owner\u2460\u2467"},{"id":"ref-for-resource-owner\u2460\u2468"},{"id":"ref-for-resource-owner\u2461\u24ea"},{"id":"ref-for-resource-owner\u2461\u2460"},{"id":"ref-for-resource-owner\u2461\u2461"},{"id":"ref-for-resource-owner\u2461\u2462"},{"id":"ref-for-resource-owner\u2461\u2463"}],"title":"6. Policy management"},{"refs":[{"id":"ref-for-resource-owner\u2461\u2464"}],"title":"10.2. Determining the policy decision"},{"refs":[{"id":"ref-for-resource-owner\u2461\u2465"}],"title":"11. Error messages"}],"url":"#resource-owner"},
"resource-server": {"dfnID":"resource-server","dfnText":"Resource server","external":false,"refSections":[{"refs":[{"id":"ref-for-resource-server"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-resource-server\u2460"},{"id":"ref-for-resource-server\u2461"},{"id":"ref-for-resource-server\u2462"},{"id":"ref-for-resource-server\u2463"},{"id":"ref-for-resource-server\u2464"},{"id":"ref-for-resource-server\u2465"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-resource-server\u2466"}],"title":"3. Public metadata"},{"refs":[{"id":"ref-for-resource-server\u2467"},{"id":"ref-for-resource-server\u2468"},{"id":"ref-for-resource-server\u2460\u24ea"}],"title":"3.2. Authorization server metadata"},{"refs":[{"id":"ref-for-resource-server\u2460\u2460"}],"title":"3.3. Resource server metadata"},{"refs":[{"id":"ref-for-resource-server\u2460\u2461"},{"id":"ref-for-resource-server\u2460\u2462"}],"title":"4.2. Message security"},{"refs":[{"id":"ref-for-resource-server\u2460\u2463"},{"id":"ref-for-resource-server\u2460\u2464"}],"title":"4.4. Linking an RS to an AS"},{"refs":[{"id":"ref-for-resource-server\u2460\u2465"}],"title":"5. Asset management"},{"refs":[{"id":"ref-for-resource-server\u2460\u2466"},{"id":"ref-for-resource-server\u2460\u2467"},{"id":"ref-for-resource-server\u2460\u2468"},{"id":"ref-for-resource-server\u2461\u24ea"},{"id":"ref-for-resource-server\u2461\u2460"},{"id":"ref-for-resource-server\u2461\u2461"},{"id":"ref-for-resource-server\u2461\u2462"},{"id":"ref-for-resource-server\u2461\u2463"},{"id":"ref-for-resource-server\u2461\u2464"}],"title":"5.1. Creating an asset"},{"refs":[{"id":"ref-for-resource-server\u2461\u2465"}],"title":"5.1.1. Interpreting a registration request"},{"refs":[{"id":"ref-for-resource-server\u2461\u2466"},{"id":"ref-for-resource-server\u2461\u2467"},{"id":"ref-for-resource-server\u2461\u2468"}],"title":"5.1.2.1. Processing a resource description"},{"refs":[{"id":"ref-for-resource-server\u2462\u24ea"},{"id":"ref-for-resource-server\u2462\u2460"}],"title":"5.1.2.2. Processing a scope description"},{"refs":[{"id":"ref-for-resource-server\u2462\u2461"},{"id":"ref-for-resource-server\u2462\u2462"},{"id":"ref-for-resource-server\u2462\u2463"}],"title":"5.1.3. Response to a registration request"},{"refs":[{"id":"ref-for-resource-server\u2462\u2464"},{"id":"ref-for-resource-server\u2462\u2465"},{"id":"ref-for-resource-server\u2462\u2466"}],"title":"5.2.1. Asset overview"},{"refs":[{"id":"ref-for-resource-server\u2462\u2467"},{"id":"ref-for-resource-server\u2462\u2468"},{"id":"ref-for-resource-server\u2463\u24ea"},{"id":"ref-for-resource-server\u2463\u2460"},{"id":"ref-for-resource-server\u2463\u2461"},{"id":"ref-for-resource-server\u2463\u2462"}],"title":"5.3.1. Asset updates"},{"refs":[{"id":"ref-for-resource-server\u2463\u2463"},{"id":"ref-for-resource-server\u2463\u2464"},{"id":"ref-for-resource-server\u2463\u2465"},{"id":"ref-for-resource-server\u2463\u2466"}],"title":"5.3.2. Asset deletion"},{"refs":[{"id":"ref-for-resource-server\u2463\u2467"}],"title":"6. Policy management"},{"refs":[{"id":"ref-for-resource-server\u2463\u2468"},{"id":"ref-for-resource-server\u2464\u24ea"},{"id":"ref-for-resource-server\u2464\u2460"},{"id":"ref-for-resource-server\u2464\u2461"}],"title":"7.1. Attempting access with a token"},{"refs":[{"id":"ref-for-resource-server\u2464\u2462"},{"id":"ref-for-resource-server\u2464\u2463"},{"id":"ref-for-resource-server\u2464\u2464"},{"id":"ref-for-resource-server\u2464\u2465"}],"title":"7.2. Attempting access without a token"},{"refs":[{"id":"ref-for-resource-server\u2464\u2466"},{"id":"ref-for-resource-server\u2464\u2467"},{"id":"ref-for-resource-server\u2464\u2468"},{"id":"ref-for-resource-server\u2465\u24ea"},{"id":"ref-for-resource-server\u2465\u2460"},{"id":"ref-for-resource-server\u2465\u2461"},{"id":"ref-for-resource-server\u2465\u2462"},{"id":"ref-for-resource-server\u2465\u2463"}],"title":"7.3. Requesting a Ticket"},{"refs":[{"id":"ref-for-resource-server\u2465\u2464"}],"title":"8. Requesting access at the authorization server"},{"refs":[{"id":"ref-for-resource-server\u2465\u2465"},{"id":"ref-for-resource-server\u2465\u2466"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-resource-server\u2465\u2467"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-resource-server\u2465\u2468"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-resource-server\u2466\u24ea"}],"title":"10.3. Granting an access token"}],"url":"#resource-server"},
"scope": {"dfnID":"scope","dfnText":"Scope","external":false,"refSections":[{"refs":[{"id":"ref-for-scope"},{"id":"ref-for-scope\u2460"}],"title":"2. Definitions"},{"refs":[{"id":"ref-for-scope\u2461"},{"id":"ref-for-scope\u2462"},{"id":"ref-for-scope\u2463"},{"id":"ref-for-scope\u2464"},{"id":"ref-for-scope\u2465"}],"title":"6. Policy management"},{"refs":[{"id":"ref-for-scope\u2466"}],"title":"8.1. Requesting access with a permission ticket"},{"refs":[{"id":"ref-for-scope\u2467"},{"id":"ref-for-scope\u2468"},{"id":"ref-for-scope\u2460\u24ea"}],"title":"8.2. Requesting access without a permission ticket"},{"refs":[{"id":"ref-for-scope\u2460\u2460"},{"id":"ref-for-scope\u2460\u2461"},{"id":"ref-for-scope\u2460\u2462"},{"id":"ref-for-scope\u2460\u2463"}],"title":"8.3. Requesting extra 'global scopes'"},{"refs":[{"id":"ref-for-scope\u2460\u2464"},{"id":"ref-for-scope\u2460\u2465"},{"id":"ref-for-scope\u2460\u2466"},{"id":"ref-for-scope\u2460\u2467"}],"title":"10.1. Completing the permission ticket"}],"url":"#scope"},
"source": {"dfnID":"source","dfnText":"source","external":false,"refSections":[{"refs":[{"id":"ref-for-source"}],"title":"6. Policy management"}],"url":"#source"},
"stored-resource-descriptions": {"dfnID":"stored-resource-descriptions","dfnText":"stored resource descriptions","external":false,"refSections":[],"url":"#stored-resource-descriptions"},
"stored-scope-descriptions": {"dfnID":"stored-scope-descriptions","dfnText":"stored scope descriptions","external":false,"refSections":[{"refs":[{"id":"ref-for-stored-scope-descriptions"},{"id":"ref-for-stored-scope-descriptions\u2460"},{"id":"ref-for-stored-scope-descriptions\u2461"}],"title":"5.1.2.2. Processing a scope description"}],"url":"#stored-scope-descriptions"},
"type": {"dfnID":"type","dfnText":"type","external":false,"refSections":[],"url":"#type"},
"updated-resource-description": {"dfnID":"updated-resource-description","dfnText":"updated resource description","external":false,"refSections":[],"url":"#updated-resource-description"},
"updated-scope-description": {"dfnID":"updated-scope-description","dfnText":"updated scope description","external":false,"refSections":[{"refs":[{"id":"ref-for-updated-scope-description"},{"id":"ref-for-updated-scope-description\u2460"},{"id":"ref-for-updated-scope-description\u2461"},{"id":"ref-for-updated-scope-description\u2462"},{"id":"ref-for-updated-scope-description\u2463"},{"id":"ref-for-updated-scope-description\u2464"},{"id":"ref-for-updated-scope-description\u2465"}],"title":"5.1.2.2. Processing a scope description"}],"url":"#updated-scope-description"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#access-request": {"displayText":"permission request","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"permission request","type":"dfn","url":"#access-request"},
"#agent": {"displayText":"agent","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"agent","type":"dfn","url":"#agent"},
"#asset": {"displayText":"asset","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"asset","type":"dfn","url":"#asset"},
"#asset-collection": {"displayText":"asset collection","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"asset collection","type":"dfn","url":"#asset-collection"},
"#authorization-process": {"displayText":"authorization process","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"authorization process","type":"dfn","url":"#authorization-process"},
"#authorization-server": {"displayText":"authorization server","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"authorization server","type":"dfn","url":"#authorization-server"},
"#claim": {"displayText":"claim","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim","type":"dfn","url":"#claim"},
"#claim-description": {"displayText":"claim description","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim description","type":"dfn","url":"#claim-description"},
"#claim-token": {"displayText":"claim token","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim token","type":"dfn","url":"#claim-token"},
"#claim-token-format": {"displayText":"claim token format","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim token format","type":"dfn","url":"#claim-token-format"},
"#client": {"displayText":"client","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"client","type":"dfn","url":"#client"},
"#dictdef-errordescription": {"displayText":"ErrorDescription","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"ErrorDescription","type":"dictionary","url":"#dictdef-errordescription"},
"#dictdef-resourcedescription": {"displayText":"resource description","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource description","type":"dictionary","url":"#dictdef-resourcedescription"},
"#dictdef-scopedescription": {"displayText":"ScopeDescription","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"ScopeDescription","type":"dictionary","url":"#dictdef-scopedescription"},
"#dom-accessrequest-claim_token": {"displayText":"claim_token","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim_token","type":"dict-member","url":"#dom-accessrequest-claim_token"},
"#dom-accessrequest-claim_token_format": {"displayText":"claim_token_format","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim_token_format","type":"dict-member","url":"#dom-accessrequest-claim_token_format"},
"#dom-accessrequest-grant_type": {"displayText":"grant_type","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"grant_type","type":"dict-member","url":"#dom-accessrequest-grant_type"},
"#dom-accessrequest-permissions": {"displayText":"permissions","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"permissions","type":"dict-member","url":"#dom-accessrequest-permissions"},
"#dom-accessrequest-scope": {"displayText":"scope","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"scope","type":"dict-member","url":"#dom-accessrequest-scope"},
"#dom-accessrequest-ticket": {"displayText":"ticket","export":true,"for_":["AccessRequest"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"ticket","type":"dict-member","url":"#dom-accessrequest-ticket"},
"#dom-authorizationservermetadata-claims_interaction_endpoint": {"displayText":"claims_interaction_endpoint","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claims_interaction_endpoint","type":"dict-member","url":"#dom-authorizationservermetadata-claims_interaction_endpoint"},
"#dom-authorizationservermetadata-client_id_metadata_document_supported": {"displayText":"client_id_metadata_document_supported","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"client_id_metadata_document_supported","type":"dict-member","url":"#dom-authorizationservermetadata-client_id_metadata_document_supported"},
"#dom-authorizationservermetadata-introspection_endpoint": {"displayText":"introspection_endpoint","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"introspection_endpoint","type":"dict-member","url":"#dom-authorizationservermetadata-introspection_endpoint"},
"#dom-authorizationservermetadata-issuer": {"displayText":"issuer","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"issuer","type":"dict-member","url":"#dom-authorizationservermetadata-issuer"},
"#dom-authorizationservermetadata-jwks_uri": {"displayText":"jwks_uri","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"jwks_uri","type":"dict-member","url":"#dom-authorizationservermetadata-jwks_uri"},
"#dom-authorizationservermetadata-permission_endpoint": {"displayText":"permission_endpoint","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"permission_endpoint","type":"dict-member","url":"#dom-authorizationservermetadata-permission_endpoint"},
"#dom-authorizationservermetadata-resource_registration_endpoint": {"displayText":"resource_registration_endpoint","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_registration_endpoint","type":"dict-member","url":"#dom-authorizationservermetadata-resource_registration_endpoint"},
"#dom-authorizationservermetadata-token_endpoint": {"displayText":"token_endpoint","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"token_endpoint","type":"dict-member","url":"#dom-authorizationservermetadata-token_endpoint"},
"#dom-authorizationservermetadata-uma_profiles_supported": {"displayText":"uma_profiles_supported","export":true,"for_":["AuthorizationServerMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"uma_profiles_supported","type":"dict-member","url":"#dom-authorizationservermetadata-uma_profiles_supported"},
"#dom-claimdescription-claim_token_format": {"displayText":"claim_token_format","export":true,"for_":["ClaimDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim_token_format","type":"dict-member","url":"#dom-claimdescription-claim_token_format"},
"#dom-claimdescription-claim_type": {"displayText":"claim_type","export":true,"for_":["ClaimDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"claim_type","type":"dict-member","url":"#dom-claimdescription-claim_type"},
"#dom-claimdescription-friendly_name": {"displayText":"friendly_name","export":true,"for_":["ClaimDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"friendly_name","type":"dict-member","url":"#dom-claimdescription-friendly_name"},
"#dom-claimdescription-issuer": {"displayText":"issuer","export":true,"for_":["ClaimDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"issuer","type":"dict-member","url":"#dom-claimdescription-issuer"},
"#dom-claimdescription-name": {"displayText":"name","export":true,"for_":["ClaimDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"name","type":"dict-member","url":"#dom-claimdescription-name"},
"#dom-clientmetadata-client_id": {"displayText":"client_id","export":true,"for_":["ClientMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"client_id","type":"dict-member","url":"#dom-clientmetadata-client_id"},
"#dom-clientmetadata-jwks_uri": {"displayText":"jwks_uri","export":true,"for_":["ClientMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"jwks_uri","type":"dict-member","url":"#dom-clientmetadata-jwks_uri"},
"#dom-clientmetadata-redirect_uris": {"displayText":"redirect_uris","export":true,"for_":["ClientMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"redirect_uris","type":"dict-member","url":"#dom-clientmetadata-redirect_uris"},
"#dom-clientmetadata-token_endpoint_auth_method": {"displayText":"token_endpoint_auth_method","export":true,"for_":["ClientMetadata"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"token_endpoint_auth_method","type":"dict-member","url":"#dom-clientmetadata-token_endpoint_auth_method"},
"#dom-defaultdescription-resource_scopes": {"displayText":"resource_scopes","export":true,"for_":["DefaultDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_scopes","type":"dict-member","url":"#dom-defaultdescription-resource_scopes"},
"#dom-errorcode-access_denied": {"displayText":"\"access_denied\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"access_denied\"","type":"enum-value","url":"#dom-errorcode-access_denied"},
"#dom-errorcode-invalid_client": {"displayText":"\"invalid_client\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"invalid_client\"","type":"enum-value","url":"#dom-errorcode-invalid_client"},
"#dom-errorcode-invalid_grant": {"displayText":"\"invalid_grant\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"invalid_grant\"","type":"enum-value","url":"#dom-errorcode-invalid_grant"},
"#dom-errorcode-invalid_request": {"displayText":"\"invalid_request\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"invalid_request\"","type":"enum-value","url":"#dom-errorcode-invalid_request"},
"#dom-errorcode-invalid_resource_id": {"displayText":"\"invalid_resource_id\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"invalid_resource_id\"","type":"enum-value","url":"#dom-errorcode-invalid_resource_id"},
"#dom-errorcode-invalid_scope": {"displayText":"\"invalid_scope\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"invalid_scope\"","type":"enum-value","url":"#dom-errorcode-invalid_scope"},
"#dom-errorcode-need_info": {"displayText":"\"need_info\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"need_info\"","type":"enum-value","url":"#dom-errorcode-need_info"},
"#dom-errorcode-non_empty_collections": {"displayText":"non_empty_collections","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"non_empty_collections","type":"enum-value","url":"#dom-errorcode-non_empty_collections"},
"#dom-errorcode-not_found": {"displayText":"\"not_found\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"not_found\"","type":"enum-value","url":"#dom-errorcode-not_found"},
"#dom-errorcode-request_denied": {"displayText":"\"request_denied\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"request_denied\"","type":"enum-value","url":"#dom-errorcode-request_denied"},
"#dom-errorcode-request_submitted": {"displayText":"\"request_submitted\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"request_submitted\"","type":"enum-value","url":"#dom-errorcode-request_submitted"},
"#dom-errorcode-server_error": {"displayText":"\"server_error\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"server_error\"","type":"enum-value","url":"#dom-errorcode-server_error"},
"#dom-errorcode-temporarily_unavailable": {"displayText":"\"temporarily_unavailable\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"temporarily_unavailable\"","type":"enum-value","url":"#dom-errorcode-temporarily_unavailable"},
"#dom-errorcode-unauthorized_client": {"displayText":"\"unauthorized_client\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"unauthorized_client\"","type":"enum-value","url":"#dom-errorcode-unauthorized_client"},
"#dom-errorcode-unsupported_grant_type": {"displayText":"\"unsupported_grant_type\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"unsupported_grant_type\"","type":"enum-value","url":"#dom-errorcode-unsupported_grant_type"},
"#dom-errorcode-unsupported_method_type": {"displayText":"\"unsupported_method_type\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"unsupported_method_type\"","type":"enum-value","url":"#dom-errorcode-unsupported_method_type"},
"#dom-errorcode-unsupported_response_type": {"displayText":"\"unsupported_response_type\"","export":true,"for_":["ErrorCode"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"\"unsupported_response_type\"","type":"enum-value","url":"#dom-errorcode-unsupported_response_type"},
"#dom-errordescription-error": {"displayText":"error","export":true,"for_":["ErrorDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"error","type":"dict-member","url":"#dom-errordescription-error"},
"#dom-errordescription-error_description": {"displayText":"error_description","export":true,"for_":["ErrorDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"error_description","type":"dict-member","url":"#dom-errordescription-error_description"},
"#dom-errordescription-error_uri": {"displayText":"error_uri","export":true,"for_":["ErrorDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"error_uri","type":"dict-member","url":"#dom-errordescription-error_uri"},
"#dom-errordescription-state": {"displayText":"state","export":true,"for_":["ErrorDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"state","type":"dict-member","url":"#dom-errordescription-state"},
"#dom-needinfoerror-redirect_user": {"displayText":"redirect_user","export":true,"for_":["NeedInfoError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"redirect_user","type":"dict-member","url":"#dom-needinfoerror-redirect_user"},
"#dom-needinfoerror-required_claims": {"displayText":"required_claims","export":true,"for_":["NeedInfoError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"required_claims","type":"dict-member","url":"#dom-needinfoerror-required_claims"},
"#dom-needinfoerror-ticket": {"displayText":"ticket","export":true,"for_":["NeedInfoError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"ticket","type":"dict-member","url":"#dom-needinfoerror-ticket"},
"#dom-needinteractionerror-redirect_user": {"displayText":"redirect_user","export":true,"for_":["NeedInteractionError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"redirect_user","type":"dict-member","url":"#dom-needinteractionerror-redirect_user"},
"#dom-permissiondescription-resource_id": {"displayText":"resource_id","export":true,"for_":["PermissionDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_id","type":"dict-member","url":"#dom-permissiondescription-resource_id"},
"#dom-permissiondescription-resource_scopes": {"displayText":"resource_scopes","export":true,"for_":["PermissionDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_scopes","type":"dict-member","url":"#dom-permissiondescription-resource_scopes"},
"#dom-registrationresponse-_id": {"displayText":"_id","export":true,"for_":["RegistrationResponse"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"_id","type":"dict-member","url":"#dom-registrationresponse-_id"},
"#dom-registrationresponse-user_access_policy_uri": {"displayText":"user_access_policy_uri","export":true,"for_":["RegistrationResponse"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"user_access_policy_uri","type":"dict-member","url":"#dom-registrationresponse-user_access_policy_uri"},
"#dom-requestsubmittederror-interval": {"displayText":"interval","export":true,"for_":["RequestSubmittedError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"interval","type":"dict-member","url":"#dom-requestsubmittederror-interval"},
"#dom-requestsubmittederror-ticket": {"displayText":"ticket","export":true,"for_":["RequestSubmittedError"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"ticket","type":"dict-member","url":"#dom-requestsubmittederror-ticket"},
"#dom-resourcedescription-description": {"displayText":"description","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"description","type":"dict-member","url":"#dom-resourcedescription-description"},
"#dom-resourcedescription-name": {"displayText":"name","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"name","type":"dict-member","url":"#dom-resourcedescription-name"},
"#dom-resourcedescription-resource_defaults": {"displayText":"resource_defaults","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_defaults","type":"dict-member","url":"#dom-resourcedescription-resource_defaults"},
"#dom-resourcedescription-resource_relations": {"displayText":"resource_relations","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_relations","type":"dict-member","url":"#dom-resourcedescription-resource_relations"},
"#dom-resourcedescription-resource_scopes": {"displayText":"resource_scopes","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource_scopes","type":"dict-member","url":"#dom-resourcedescription-resource_scopes"},
"#dom-resourcedescription-type": {"displayText":"type","export":true,"for_":["ResourceDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"type","type":"dict-member","url":"#dom-resourcedescription-type"},
"#dom-scopedescription-_id": {"displayText":"id","export":true,"for_":["ScopeDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"id","type":"dict-member","url":"#dom-scopedescription-_id"},
"#dom-scopedescription-description": {"displayText":"description","export":true,"for_":["ScopeDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"description","type":"dict-member","url":"#dom-scopedescription-description"},
"#dom-scopedescription-icon_uri": {"displayText":"icon_uri","export":true,"for_":["ScopeDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"icon_uri","type":"dict-member","url":"#dom-scopedescription-icon_uri"},
"#dom-scopedescription-name": {"displayText":"name","export":true,"for_":["ScopeDescription"],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"name","type":"dict-member","url":"#dom-scopedescription-name"},
"#permission-description": {"displayText":"permission description","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"permission description","type":"dfn","url":"#permission-description"},
"#permission-ticket": {"displayText":"permission ticket","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"permission ticket","type":"dfn","url":"#permission-ticket"},
"#policy-engine": {"displayText":"policy engine","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"policy engine","type":"dfn","url":"#policy-engine"},
"#protected-resource": {"displayText":"protected resource","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"protected resource","type":"dfn","url":"#protected-resource"},
"#protection-api": {"displayText":"protection api","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"protection api","type":"dfn","url":"#protection-api"},
"#protection-api-access-token": {"displayText":"protection api access token","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"protection api access token","type":"dfn","url":"#protection-api-access-token"},
"#registration-request": {"displayText":"registration request","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"registration request","type":"dfn","url":"#registration-request"},
"#requesting-party": {"displayText":"requesting party","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"requesting party","type":"dfn","url":"#requesting-party"},
"#requesting-party-token": {"displayText":"access token","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"access token","type":"dfn","url":"#requesting-party-token"},
"#resource": {"displayText":"resource","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource","type":"dfn","url":"#resource"},
"#resource-owner": {"displayText":"resource owner","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource owner","type":"dfn","url":"#resource-owner"},
"#resource-server": {"displayText":"resource server","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"resource server","type":"dfn","url":"#resource-server"},
"#scope": {"displayText":"scope","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"scope","type":"dfn","url":"#scope"},
"#source": {"displayText":"source","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"source","type":"dfn","url":"#source"},
"#stored-scope-descriptions": {"displayText":"stored scope descriptions","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"stored scope descriptions","type":"dfn","url":"#stored-scope-descriptions"},
"#updated-scope-description": {"displayText":"updated scope description","export":true,"for_":[],"level":"1","normative":true,"shortname":"a4ds","spec":"a4ds-1","status":"local","text":"updated scope description","type":"dfn","url":"#updated-scope-description"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=introspection_endpoint": {"displayText":"introspection endpoint","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"introspection endpoint","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=introspection_endpoint"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=permission_endpoint": {"displayText":"permission endpoint","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"permission endpoint","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=permission_endpoint"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API%20access%20token,-(PAT)": {"displayText":"protection API access token","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"protection api access token","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API%20access%20token,-(PAT)"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API,-The%20API": {"displayText":"protection API","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"protection api","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=protection%20API,-The%20API"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint": {"displayText":"resource registration endpoint","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"resource registration endpoint","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#:~:text=resource_registration_endpoint"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc": {"displayText":"resource description","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-fed","spec":"uma-fed","status":"anchor-block","text":"resource description","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-federated-authz-2.0.html#resource-set-desc"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=authorization%20server,-A%20server": {"displayText":"authorization server","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"authorization server","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=authorization%20server,-A%20server"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=claims_interaction_endpoint": {"displayText":"claims interaction endpoint","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"claims interaction endpoint","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=claims_interaction_endpoint"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=client,-An%20application": {"displayText":"client","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"client","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=client,-An%20application"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=requesting%20party,-A%20natural": {"displayText":"requesting party","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"requesting party","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=requesting%20party,-A%20natural"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20owner,-An%20entity": {"displayText":"resource owner","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"resource owner","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20owner,-An%20entity"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20server,-A%20server": {"displayText":"resource server","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"resource server","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=resource%20server,-A%20server"},
"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint": {"displayText":"token endpoint","export":true,"for_":[],"level":"","normative":true,"shortname":"uma-grant","spec":"uma-grant","status":"anchor-block","text":"token endpoint","type":"dfn","url":"https://docs.kantarainitiative.org/uma/wg/rec-oauth-uma-grant-2.0.html#:~:text=token_endpoint"},
"https://html.spec.whatwg.org/multipage/worklets.html#concept-worklet-global-scopes": {"displayText":"global scopes","export":true,"for_":["Worklet"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global scopes","type":"dfn","url":"https://html.spec.whatwg.org/multipage/worklets.html#concept-worklet-global-scopes"},
"https://w3c.github.io/i18n-glossary/#dfn-resource-identifier": {"displayText":"resource identifier","export":true,"for_":[],"level":"1","normative":false,"shortname":"i18n-glossary","spec":"i18n-glossary","status":"current","text":"resource identifier","type":"dfn","url":"https://w3c.github.io/i18n-glossary/#dfn-resource-identifier"},
"https://w3c.github.io/webappsec-csp/#violation-policy": {"displayText":"policy","export":true,"for_":["violation"],"level":"3","normative":true,"shortname":"csp","spec":"csp3","status":"current","text":"policy","type":"dfn","url":"https://w3c.github.io/webappsec-csp/#violation-policy"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://www.rfc-editor.org/rfc/rfc6749#:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant": {"displayText":"authorization grant","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc6749","spec":"rfc6749","status":"anchor-block","text":"authorization grant","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc6749#:~:text=1.3.-,Authorization%20Grant,-An%20authorization%20grant"},
"https://www.rfc-editor.org/rfc/rfc8259#section-7": {"displayText":"string","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc8259","spec":"rfc8259","status":"anchor-block","text":"string","type":"typedef","url":"https://www.rfc-editor.org/rfc/rfc8259#section-7"},
"https://www.rfc-editor.org/rfc/rfc8414#:~:text=issuer,-REQUIRED": {"displayText":"issuer","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc8414","spec":"rfc8414","status":"anchor-block","text":"issuer","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc8414#:~:text=issuer,-REQUIRED"},
"https://www.rfc-editor.org/rfc/rfc9110#DELETE": {"displayText":"DELETE","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"delete","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#DELETE"},
"https://www.rfc-editor.org/rfc/rfc9110#GET": {"displayText":"GET","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"get","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#GET"},
"https://www.rfc-editor.org/rfc/rfc9110#POST": {"displayText":"POST","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"post","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#POST"},
"https://www.rfc-editor.org/rfc/rfc9110#PUT": {"displayText":"PUT","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"put","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#PUT"},
"https://www.rfc-editor.org/rfc/rfc9110#field.authorization": {"displayText":"Authorization","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"authorization","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#field.authorization"},
"https://www.rfc-editor.org/rfc/rfc9110#field.location": {"displayText":"Location","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"location","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#field.location"},
"https://www.rfc-editor.org/rfc/rfc9110#field.www-authenticate": {"displayText":"WWW-Authenticate","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"www-authenticate","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#field.www-authenticate"},
"https://www.rfc-editor.org/rfc/rfc9110#status.200": {"displayText":"200","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"200","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.200"},
"https://www.rfc-editor.org/rfc/rfc9110#status.201": {"displayText":"201","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"201","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.201"},
"https://www.rfc-editor.org/rfc/rfc9110#status.204": {"displayText":"204","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"204","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.204"},
"https://www.rfc-editor.org/rfc/rfc9110#status.205": {"displayText":"205","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"205","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.205"},
"https://www.rfc-editor.org/rfc/rfc9110#status.400": {"displayText":"400","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"400","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.400"},
"https://www.rfc-editor.org/rfc/rfc9110#status.401": {"displayText":"401","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"401","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.401"},
"https://www.rfc-editor.org/rfc/rfc9110#status.403": {"displayText":"403","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"403","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.403"},
"https://www.rfc-editor.org/rfc/rfc9110#status.404": {"displayText":"404","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"404","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.404"},
"https://www.rfc-editor.org/rfc/rfc9110#status.405": {"displayText":"405","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"405","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.405"},
"https://www.rfc-editor.org/rfc/rfc9110#status.409": {"displayText":"409","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"409","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110#status.409"},
"https://www.w3.org/TR/CSS2/conform.html#x5": {"displayText":"SHOULD","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"should","type":"dfn","url":"https://www.w3.org/TR/CSS2/conform.html#x5"},
"https://www.w3.org/TR/CSS2/conform.html#x8": {"displayText":"MAY","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"may","type":"dfn","url":"https://www.w3.org/TR/CSS2/conform.html#x8"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>